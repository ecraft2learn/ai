<project name="mobilenet" app="Snap! 7, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAAA5NJREFUeF7t2DFKZFEQhtH7QFAwUBNTM0HBQDNNXICRmBu5GVfhGlyCyxEEQ816sGFgJpC5f1tQwRzjelVw/HhN97JarVbDH4ENBZZlWTZ8dP3YIsCf8HlWgBpoFRBgK7/jAtRAq4AAW/kdF6AGWgUE2MrvuAA10CogwFZ+xwWogVYBAbbyOy5ADbQKCLCV33EBaqBVQICt/I4LUAOtAgJs5XdcgBpoFRBgK7/jAtRAq4AAW/kdF6AGWgUE2MrvuAA10CogwFZ+xwWogVYBAbbyOy5ADbQKCLCV33EBaqBVQICt/I4LUAOtAgJs5XdcgBpoFRBgK7/jAtRAq4AAW/kdF6AGWgUE2MrvuAA10CogwFZ+xwWogVYBAbbyOy5ADbQKCLCV33EBaqBVQICt/I4LUAOtAgJs5XdcgBpoFRBgK7/jAtRAq4AAW/kdF6AGWgUEOMn/+fk5dnZ2JqeNzQoIcFLq+vp6nJ2djfv7+3F0dDQODw/HsiyTTxv7TkCAk228vr6Oh4eHsbW1tX7i/f193N7ejqurq3F8fDz29vYmNxn7U0CAQQ8vLy/j8fFxbG9v//XUx8fHODg4GDc3N+P09HScn597O066CnAS6vfY09PTeH5+/jawr4/lt7e39ZvxK8a7u7uxu7sbXvl/xgUY/q8FGIL9Y1yAgefMR/DJycm4uLjwETzpKsBJqO++hFxeXq6/hOzv709uMuZLyAYN+BlmA7SJR7wBJ5C+RvwQPQkVjgkwBDNeKyDAWk/bQgEBhmDGawUEWOtpWyggwBDMeK2AAGs9bQsFBBiCGa8VEGCtp22hgABDMOO1AgKs9bQtFBBgCGa8VkCAtZ62hQICDMGM1woIsNbTtlBAgCGY8VoBAdZ62hYKCDAEM14rIMBaT9tCAQGGYMZrBQRY62lbKCDAEMx4rYAAaz1tCwUEGIIZrxUQYK2nbaGAAEMw47UCAqz1tC0UEGAIZrxWQIC1nraFAgIMwYzXCgiw1tO2UECAIZjxWgEB1nraFgoIMAQzXisgwFpP20IBAYZgxmsFBFjraVsoIMAQzHitgABrPW0LBQQYghmvFRBgradtoYAAQzDjtQICrPW0LRQQYAhmvFZAgLWetoUCAgzBjNcKCLDW07ZQQIAhmPFaAQHWetoWCggwBDNeKyDAWk/bQgEBhmDGawUEWOtpWyggwBDMeK2AAGs9bQsFBBiCGa8V+GmAvwDIcCKXYBBFDwAAAABJRU5ErkJggg==</thumbnail><scenes select="1"><scene name="mobilenet"><notes></notes><hidden></hidden><headers></headers><code></code><blocks><block-definition s="costume from camera" type="reporter" category="looks"><comment x="0" y="0" w="207.14285714285717" collapsed="true">Reports a costume using the camera.</comment><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doWaitUntil"><custom-block s="camera is ready %n %n dimensions"><l>640</l><l>480</l></custom-block></block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>costume_from_camera</l><list></list></custom-block></block></script></block-definition><block-definition s="camera is ready %&apos;width&apos; %&apos;height&apos; dimensions" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input></inputs><script><block s="doIf"><custom-block s="Is camera ready?"><comment w="272.14285714285717" collapsed="true">Check if already ready to avoid the 1 second wait</comment></custom-block><script><custom-block s="Set camera dimensions %n %n"><block var="width"/><block var="height"/></custom-block><block s="doReport"><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></block><custom-block s="let %upvar be %s"><l>camera ready</l><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><custom-block s="Setup camera %n %n then when ready %cs"><block var="width"/><block var="height"/><script><block s="doSetVar"><l>camera ready</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></custom-block><block s="doWaitUntil"><block var="camera ready"/></block><block s="doWait"><l>1</l><comment w="329.28571428571433" collapsed="true">Wait a bit more because otherwise a black image is captured.</comment></block><custom-block s="Set camera dimensions %n %n"><block var="width"/><block var="height"/></custom-block><block s="doReport"><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></block-definition><block-definition s="Is camera ready?" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>camera_ready</l><list></list></custom-block></block></script></block-definition><block-definition s="Set camera dimensions %&apos;width&apos; %&apos;height&apos;" type="command" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>set_camera_dimensions</l><list><block var="width"/><block var="height"/></list></custom-block></script></block-definition><block-definition s="current costume" type="reporter" category="sensing"><comment x="0" y="0" w="178" collapsed="false">reports the sprite&apos;s actual current costume, which may or may not be part of its wardrobe e.g. if it is a copy</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return this.costume;</l></block><list></list></block></block></script></block-definition><block-definition s="%&apos;top n&apos; labels for costume %&apos;costume&apos; %&apos;receive labels&apos; with the labels %&apos;receive probabilities&apos; with the probabilities" type="command" category="sensing"><comment x="0" y="0" w="195" collapsed="false">Uses the MobileNet deep learning image recognition model inside your brower. Nothing is sent to the cloud.</comment><header></header><code></code><translations></translations><inputs><input type="%n">3</input><input type="%obj"></input><input type="%cs"></input><input type="%cs"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>image_class</l><list><block var="costume"/><block var="top n"/><block var="receive labels"/><block var="receive probabilities"/></list></custom-block></script></block-definition><block-definition s="%&apos;top n&apos; labels for costume %&apos;costume&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="226.42857142857144" collapsed="false">Reports the &apos;top n&apos; labels for the costume.</comment><header></header><code></code><translations></translations><inputs><input type="%n">3</input><input type="%obj"></input></inputs><script><custom-block s="let %upvar be %s"><l>labels</l><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><custom-block s="%n labels for costume %obj %cs with the labels %cs with the probabilities"><l>3</l><block var="costume"/><script><block s="doSetVar"><l>labels</l><l></l></block></script><script></script></custom-block><block s="doWaitUntil"><block var="labels"/></block><block s="doReport"><block var="labels"/></block></script></block-definition><block-definition s="%&apos;top n&apos; label probabilities for costume %&apos;costume&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="195.71428571428572" collapsed="false">Reports the probabilities (or confidences) that the labels for the costume are correct.</comment><header></header><code></code><translations></translations><inputs><input type="%n">3</input><input type="%obj"></input></inputs><script><custom-block s="let %upvar be %s"><l>label probabilites</l><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><custom-block s="%n labels for costume %obj %cs with the labels %cs with the probabilities"><l>3</l><block var="costume"/><script></script><script><block s="doSetVar"><l>label probabilites</l><custom-block s="map %repRing over %l"><block s="reifyReporter"><autolambda><block s="reportQuotient"><block s="reportRound"><block s="reportProduct"><l></l><l>1000</l></block></block><l>10</l></block></autolambda><list></list></block><l/></custom-block><comment w="239.2857142857143" collapsed="true">Change to percentages with 3 digits accuracy.</comment></block></script></custom-block><block s="doWaitUntil"><block var="label probabilites"/></block><block s="doReport"><block var="label probabilites"/></block></script></block-definition><block-definition s="join words %&apos;words&apos;" type="reporter" category="operators"><header></header><code></code><translations>de:füge Wörter zusammen _&#xD;</translations><inputs><input type="%mult%txt"></input></inputs><script><block s="doIf"><custom-block s="empty? %l"><block s="reportCDR"><block var="words"/></block></custom-block><script><block s="doReport"><block s="reportListItem"><l>1</l><block var="words"/></block></block></script></block><block s="doIf"><block s="reportEquals"><l></l><block s="reportListItem"><l>1</l><block var="words"/></block></block><script><block s="doReport"><custom-block s="join words %mult%txt"><block s="reportCDR"><block var="words"/></block></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><l></l><block s="reportListItem"><l>2</l><block var="words"/></block></block><script><block s="doReport"><custom-block s="join words %mult%txt"><block s="reportCONS"><block s="reportListItem"><l>1</l><block var="words"/></block><block s="reportCDR"><block s="reportCDR"><block var="words"/></block></block></block></custom-block></block></script></block><block s="doReport"><block s="reportJoinWords"><list><block s="reportListItem"><l>1</l><block var="words"/></block><l> </l><custom-block s="join words %mult%txt"><block s="reportCDR"><block var="words"/></block></custom-block></list></block></block></script></block-definition><block-definition s="list $arrowRight sentence %&apos;data&apos;" type="reporter" category="operators"><header></header><code></code><translations>de:Liste $arrowRight Satz _&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="join words %mult%txt"><block var="data"/></custom-block></block></script></block-definition><block-definition s="map %&apos;func&apos; over %&apos;data&apos;" type="reporter" category="lists"><header></header><code></code><translations>de:wende _ an auf _&#xD;</translations><inputs><input type="%repRing"></input><input type="%l"></input></inputs><script><block s="doIf"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doReport"><block var="data"/></block></script></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="func"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><custom-block s="map %repRing over %l"><block var="func"/><block s="reportCDR"><block var="data"/></block></custom-block></block></block></script></block-definition><block-definition s="empty? %&apos;data&apos;" type="predicate" category="lists"><header></header><code></code><translations>de:ist _ leer?&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block></block></script></block-definition><block-definition s="Setup camera %&apos;width&apos; %&apos;height&apos; then when ready %&apos;do when camera is ready&apos;" type="command" category="other"><comment x="0" y="0" w="314" collapsed="true">Specifies the resolution of the image sent for recogntion.</comment><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input><input type="%cs"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>setup_camera</l><list><block var="width"/><block var="height"/><block var="do when camera is ready"/></list></custom-block></script></block-definition><block-definition s="let %&apos;var&apos; be %&apos;value&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%s"></input></inputs><script><block s="doSetVar"><l>var</l><block var="value"/></block></script></block-definition><block-definition s="Open this in a new tab" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>re_open_full_window</l><list></list></custom-block></script></block-definition><block-definition s="Set presentation mode to %&apos;flag&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%b"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>set_presentation_mode</l><list><block var="flag"/></list></custom-block></script></block-definition><block-definition s="load eCraft2Learn" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/ecraft2learn.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/js/ecraft2learn_snap_extension.js</l></list></block></script></block-definition><block-definition s="call eCraft2Learn reporter %&apos;reporter name&apos; with %&apos;inputs&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><custom-block s="load eCraft2Learn"></custom-block><block s="doReport"><block s="reportApplyExtension"><l>e2l_call(reporter_name, parameters)</l><list><block var="reporter name"/><block var="inputs"/></list></block></block></script></block-definition><block-definition s="run eCraft2Learn command %&apos;command name&apos; with %&apos;inputs&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><custom-block s="load eCraft2Learn"></custom-block><block s="doApplyExtension"><l>e2l_run(command_name, parameters)</l><list><block var="command name"/><block var="inputs"/></list></block></script></block-definition><block-definition s="Load eCraft2Learn library" type="command" category="other"><comment x="0" y="0" w="238.57142857142858" collapsed="false">No longer needed in Snap! 7+ but retained to avoid error from blocks that expect it.</comment><header></header><code></code><translations></translations><inputs></inputs></block-definition></blocks><stage width="300" height="250" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" id="332"><pentrails>data:image/png;base64,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</pentrails><costumes><list struct="atomic" id="333"></list></costumes><sounds><list struct="atomic" id="334"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="Sprite" idx="1" x="0.1872659176030993" y="0" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="339"><costumes><list struct="atomic" id="340"></list></costumes><sounds><list struct="atomic" id="341"></list></sounds><blocks></blocks><variables></variables><scripts><comment x="32.71428571428572" y="12.142857142857139" w="444.28571428571433" collapsed="false">This finds labels for what is in front of the camera using the MobileNet model. Everything happens on your device no cloud service is involved. Note that this model does poorly with people but is very good with animals.</comment><script x="40.571428571428555" y="98.14285714285717"><block s="receiveGo"></block><block s="bubble"><l>Loading please wait.</l></block><custom-block s="let %upvar be %s"><l>costume</l><custom-block s="costume from camera"></custom-block></custom-block><block s="doSwitchToCostume"><block var="costume"/></block><custom-block s="let %upvar be %s"><l>labels</l><custom-block s="%n labels for costume %obj"><l>3</l><block var="costume"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>probabilities</l><custom-block s="%n label probabilities for costume %obj"><l>3</l><block var="costume"/></custom-block></custom-block><block s="doThinkFor"><block s="reportJoinWords"><list><l>I think the costume is </l><custom-block s="list $arrowRight sentence %l"><block var="labels"/></custom-block></list></block><l>5</l></block><block s="doThinkFor"><block s="reportJoinWords"><list><l>With these probabilities </l><custom-block s="list $arrowRight sentence %l"><custom-block s="map %repRing over %l"><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><l></l><l>%</l></list></block></autolambda><list></list></block><block var="probabilities"/></custom-block></custom-block></list></block><l>5</l></block><custom-block s="Set presentation mode to %b"><l><bool>false</bool></l></custom-block></script><script x="43.71428571428572" y="421.8571428571429"><custom-block s="current costume"><comment w="309.2857142857143" collapsed="false">Use this instead of &quot;costume from camera&quot; if you want the labels of the current costume.</comment></custom-block></script><script x="334" y="103.00000000000003"><custom-block s="Open this in a new tab"></custom-block></script></scripts></sprite></sprites></stage><variables></variables></scene></scenes></project>