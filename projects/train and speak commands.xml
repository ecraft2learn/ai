<project name="train and speak commands" app="Snap! 4.2, http://snap.berkeley.edu" version="1"><notes></notes><thumbnail>data:image/png;base64,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</thumbnail><stage name="Stage" width="480" height="360" costume="0" tempo="60" threadsafe="false" lines="round" ternary="true" codify="false" inheritance="true" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAOhUlEQVR4Xu3VwQkAAAjEMN1/abewn7jAQRC64wgQIECAAIF3gX1fNEiAAAECBAiMAHsCAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQIHLFxAWmhEwHPAAAAAElFTkSuQmCC</pentrails><costumes><list id="2"></list></costumes><sounds><list id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><sprite name="Sprite" idx="1" x="0" y="0" heading="90" scale="1" rotation="1" draggable="true" costume="0" color="80,80,80" pen="tip" id="8"><costumes><list id="9"></list></costumes><sounds><list id="10"></list></sounds><blocks></blocks><variables></variables><scripts><script x="47.5" y="25"><block s="receiveGo"></block><block s="down"></block><block s="doSetVar"><l>stop</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Train commands"><comment w="90" collapsed="true">Click to start</comment></custom-block></script><script x="34.285714285714285" y="308.85714285714283"><block s="receiveKey"><l><option>space</option></l></block><block s="doSetVar"><l>stop</l><block s="reportBoolean"><l><bool>true</bool></l></block><comment w="247.50000000000003" collapsed="true">Reset the program before saving changes.</comment></block><block s="setHeading"><l>90</l></block><block s="gotoXY"><l>0</l><l>0</l></block><block s="doThink"><l></l></block><block s="clear"></block></script></scripts></sprite><watcher var="stop" style="normal" x="10" y="10" color="243,118,29"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Train commands" type="command" category="motion"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Train with audio buckets %l labels %br add to any earlier training %b %br optionally add this text to the page %txt %br then %cs when returning from training"><block s="reportNewList"><list><l>Go forward</l><l>Turn right</l><l>Stop</l></list></block><l><bool>true</bool></l><l></l><script><block s="doWaitUntil"><block s="reportNot"><custom-block s="%txt panel visible"><l>training using microphone</l></custom-block></block></block><block s="doSayFor"><l>Say &apos;go forward&apos; or &apos;turn right&apos;.  Saying "stop" will stop it and the green flag will start it up again.</l><l>6</l></block><custom-block s="listen for commands"></custom-block></script></custom-block></script></block-definition><block-definition s="listen for commands" type="command" category="motion"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Audio label confidence %cmdRing of what is heard in the next %n seconds"><block s="reifyScript"><script><block s="doThink"><block var="confidences"/></block><block s="doIf"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="confidences"/></block><l>Stop</l></block><script><block s="doSetVar"><l>stop</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></block><block s="doIf"><block s="reportNot"><block var="stop"/></block><script><block s="doIf"><block s="reportGreaterThan"><block s="reportListItem"><l>2</l><block var="confidences"/></block><l>25</l></block><script><block s="doIf"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="confidences"/></block><l>Go forward</l></block><script><block s="forward"><l>5</l></block></script></block><block s="doIf"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="confidences"/></block><l>Turn right</l></block><script><block s="turn"><l>5</l></block></script></block></script></block><custom-block s="listen for commands"></custom-block></script></block></script><list><l>confidences</l></list></block><l>2</l></custom-block></script></block-definition><block-definition s="Train with audio buckets %&apos;bucket names&apos; labels $nl add to any earlier training %&apos;add to previous training&apos; $nl optionally add this text to the page %&apos;introduction&apos; $nl then %&apos;do when ready&apos; when returning from training" type="command" category="sensing"><comment x="0" y="0" w="252.85714285714286" collapsed="false">Will display a panel where one can train the system to classify sounds or speech. &apos;bucket names&apos; are the labels of the classes to train. Optionally one can provide HTML to appear on the page as an introduction. If &apos;do when ready&apos; is provided those commands will be run when returning to Snap!</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%b"></input><input type="%txt"></input><input type="%cs"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>train_using_microphone</l><list><block var="bucket names"/><block var="add to previous training"/><block var="introduction"/><block var="do when ready"/><l>1</l></list></custom-block><block s="doIf"><block s="reportIsA"><block var="do when ready"/><l><option>command</option></l></block><script><block s="doWaitUntil"><block s="reportNot"><custom-block s="%txt panel visible"><l>training using microphone</l></custom-block></block></block><block s="doRun"><block var="do when ready"/><list></list></block></script></block></script></block-definition><block-definition s="Audio label confidence %&apos;process confidences&apos; of what is heard in the next %&apos;duration&apos; seconds" type="command" category="sensing"><comment x="0" y="0" w="192.14285714285717" collapsed="false">Compares what is heard in the next &apos;duration&apos; seconds to the categories trained using &apos;Train with audio buckets ...&quot;</comment><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input><input type="%n"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>audio_confidences</l><list><block var="process confidences"/><block var="duration"/><l>1</l></list></custom-block></script></block-definition><block-definition s="%&apos;source&apos; panel visible" type="reporter" category="sensing"><comment x="0" y="0" w="182.14285714285717" collapsed="false">Reports whether the selected support panel is visible. </comment><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">training using camera<options>training using camera
training using microphone
posenet</options></input></inputs><script><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>support_window_visible</l><list><block var="source"/></list></custom-block></block></script></block-definition><block-definition s="run eCraft2Learn command %&apos;command name&apos; with %&apos;inputs&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>function_name</l><l>parameters</l></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;    ecraft2learn.run(function_name, parameters);&#xD;} else {&#xD;   var script = document.createElement("script");&#xD;   script.type = "text/javascript";&#xD;   script.addEventListener(&apos;error&apos;, function () {&#xD;          alert("Unable to load https://ecraft2learn.github.io/ai/ecraft2learn.js. Check your network connection.");&#xD;   });&#xD;   script.src = "https://ecraft2learn.github.io/ai/ecraft2learn.js";&#xD;   script.addEventListener(&apos;load&apos;, function () {&#xD;          ecraft2learn.run(function_name, parameters);&#xD;   });&#xD;   document.head.appendChild(script);&#xD;}&#xD;</l></block><list><block var="command name"/><block var="inputs"/></list></block></script></block-definition><block-definition s="call eCraft2Learn reporter %&apos;reporter name&apos; with %&apos;inputs&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>function_name</l><l>parameters</l><l>no_warning</l></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;    return ecraft2learn.run(function_name, parameters);&#xD;}&#xD;if (!no_warning) {&#xD;    alert("Any eCraft2Learn command must be run before the " + function_name + " reporter.");&#xD;}&#xD;return 0;</l></block><list><block var="reporter name"/><block var="inputs"/></list></block></block></script></block-definition></blocks><variables><variable name="stop"><bool>false</bool></variable></variables></project>