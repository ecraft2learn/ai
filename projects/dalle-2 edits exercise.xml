<project name="dalle-2 edits exercise" app="Snap! 7, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAAA8pJREFUeF7tlC2LVWEYRd8LzoQbRRhhgoiGKSaD3Q8EFYQR24BtGIPJILaxWGwTTMZJBoNJ8H/YBcOtfjTDEQSxjJbFGe7erNOf/T7P2ouzmKZpGn61BBaLxWKdj1so4DrXw3dTQM7QBEBAAQE8RzkBBeQMTQAEFBDAc5QTUEDO0ARAQAEBPEc5AQXkDE0ABBQQwHOUE1BAztAEQEABATxHOQEF5AxNAAQUEMBzlBNQQM7QBEBAAQE8RzkBBeQMTQAEFBDAc5QTUEDO0ARAQAEBPEc5AQXkDE0ABBQQwHOUE1BAztAEQEABATxHOQEF5AxNAAQUEMBzlBNQQM7QBEBAAQE8RzkBBeQMTQAEFBDAc5QTUEDO0ARAQAEBPEc5AQXkDE0ABBQQwHOUE1BAztAEQEABATxHOQEF5AxNAAQUEMBzlBNQQM7QBEBAAQE8RzkBBeQMTQAEFBDAc5QTUEDO0ARAQAEBPEc5AQXkDE0ABBQQwHOUE1BAztAEQEABATxHOQEF5AxNAAQUEMBzlBNQQM7QBEBAAQE8RzkBBeQMTQAEFBDAc5QTUEDO0ARAQAEBPEc5AQXkDE9MuH1wOK5cODdePt0fm5ubM72SH6uAM3a4/fBwjOXZ3y+c+fl9PL+zMw72Hsz4Yl60As7c2fajoxNf2Pj6ebx5cnfcvHF95g3WO14BT6Gff0n49+lpXNuaxvHh/lgul6ew0fo8oYAzd7FarcbVZ2//+8r2j0/j/esX4/zW1szbrF+8As7cyUl/v41vX8aHV4/HzuWLM7++/vEKOGNHf+RbjGkc7V4au/fvzfhaZrQCztTbrd298fHd8UzpPbEK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9IK2NNl5CUKGFlbz9LrLuAvZd0GlyroZ0IAAAAASUVORK5CYII=</thumbnail><scenes select="1"><scene name="dalle-2 edits exercise"><notes></notes><palette><category name="GPT-3 Blocks" color="199,0,164,1"/></palette><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Ask DALLE-2 to create %&apos;n&apos; costumes as edits of costume %&apos;costume&apos; with mask %&apos;mask costume&apos; with prompt %&apos;prompt&apos; with size %&apos;size&apos; with API key %&apos;API key&apos;" type="reporter" category="GPT-3 Blocks"><comment x="0" y="0" w="263.49206349206355" collapsed="false">Reports a list of costumes that are edits of &apos;costume&apos;&#xD;where transparent parts of &apos;mask costume&apos; indicate what should be edited and &apos;prompt&apos; indicates how.</comment><header></header><code></code><translations></translations><inputs><input type="%n">1</input><input type="%obj"></input><input type="%obj"></input><input type="%txt"></input><input type="%n" readonly="true">256<options>256&#xD;512&#xD;1024</options></input><input type="%txt"></input></inputs><script><custom-block s="let %upvar be %s"><l>costumes</l><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><custom-block s="Ask DALLE-2 to create %n costumes as edits of costume %obj with mask %obj with prompt %txt with size %n with API key %txt %br and receive costumes %cmdRing %br else if there is an error %cmdRing %br and receive b64_json %cmdRing"><block var="n"/><block var="costume"/><block var="mask costume"/><block var="prompt"/><block var="size"/><block var="API key"/><block s="reifyScript"><script><block s="doSetVar"><l>costumes</l><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="doSetVar"><l>costumes</l><l></l></block></script><list></list></block><block s="reifyScript"><script></script><list></list></block></custom-block><block s="doWaitUntil"><block s="reportNotEquals"><block var="costumes"/><block s="reportBoolean"><l><bool>false</bool></l></block></block></block><block s="doReport"><block var="costumes"/></block></script></block-definition><block-definition s="Ask DALLE-2 to create %&apos;n&apos; costumes as edits of costume %&apos;costume&apos; with mask %&apos;mask costume&apos; with prompt %&apos;prompt&apos; with size %&apos;size&apos; with API key %&apos;API key&apos; $nl and receive costumes %&apos;process costumes&apos; $nl else if there is an error %&apos;process error&apos; $nl and receive b64_json %&apos;process b64 json&apos;" type="command" category="GPT-3 Blocks"><comment x="0" y="0" w="263.49206349206355" collapsed="false">Reports a list of costumes that are edits of &apos;costume&apos;&#xD;where transparent parts of &apos;mask costume&apos; indicate what should be edited and &apos;prompt&apos; indicates how.</comment><header></header><code></code><translations></translations><inputs><input type="%n">1</input><input type="%obj"></input><input type="%obj"></input><input type="%txt"></input><input type="%n" readonly="true">256<options>256&#xD;512&#xD;1024</options></input><input type="%txt"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><block s="doIf"><block s="reportOr"><block s="reportGreaterThan"><block var="size"/><block s="reportAttributeOf"><l><option>width</option></l><l>Stage</l></block></block><block s="reportGreaterThan"><block var="size"/><block s="reportAttributeOf"><l><option>height</option></l><l>Stage</l></block></block></block><script><block s="doRun"><block var="process error"/><list><block s="reportJoinWords"><list><l>Snap! will not create costumes bigger than the stage. </l><block var="size"/><l> is greater than the stage </l><block s="reportAttributeOf"><l><option>width</option></l><l>Stage</l></block><l>x</l><block s="reportAttributeOf"><l><option>height</option></l><l>Stage</l></block></list></block></list></block></script></block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>post_to_dalle</l><list><l>edits</l><block var="n"/><block var="size"/><block s="reportGetImageAttribute"><l><option>name</option></l><block var="costume"/></block><block var="costume"/><block var="mask costume"/><block var="prompt"/><block var="API key"/><block var="process error"/><block var="process costumes"/><block var="process b64 json"/></list></custom-block></script></block-definition><block-definition s="draw something" type="command" category="looks"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSwitchToCostume"><l></l></block><block s="clear"></block><block s="setSize"><l>5</l></block><block s="doWarp"><script><custom-block s="frame"></custom-block><block s="up"></block><block s="gotoXY"><l>0</l><l>0</l></block><block s="down"></block><custom-block s="poly spiral %n %n %n %s"><l>1</l><l>143</l><l>1.01</l><l>100</l></custom-block><block s="up"></block><block s="gotoXY"><l>0</l><l>0</l></block><block s="setHeading"><l>90</l></block></script></block><block s="setSize"><l>1</l></block></script></block-definition><block-definition s="poly spiral %&apos;distance&apos; %&apos;angle&apos; %&apos;growth&apos; %&apos;maximum distance&apos;" type="command" category="looks"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input><input type="%n"></input><input type="%s"></input></inputs><script><block s="doIf"><block s="reportLessThan"><block var="distance"/><block var="maximum distance"/></block><script><block s="forward"><block var="distance"/></block><block s="turn"><block var="angle"/></block><block s="changePenColorDimension"><l><option>hue</option></l><l>1</l></block><custom-block s="poly spiral %n %n %n %s"><block s="reportVariadicProduct"><list><block var="distance"/><block var="growth"/></list></block><block var="angle"/><block var="growth"/><block var="maximum distance"/></custom-block></script></block></script></block-definition><block-definition s="frame" type="command" category="looks"><header></header><code></code><translations></translations><inputs></inputs><script><block s="up"></block><block s="gotoXY"><block s="reportAttributeOf"><l><option>left</option></l><l>Stage</l></block><block s="reportAttributeOf"><l><option>bottom</option></l><l>Stage</l></block></block><block s="down"></block><block s="gotoXY"><block s="reportAttributeOf"><l><option>left</option></l><l>Stage</l></block><block s="reportAttributeOf"><l><option>top</option></l><l>Stage</l></block></block><block s="gotoXY"><block s="reportAttributeOf"><l><option>right</option></l><l>Stage</l></block><block s="reportAttributeOf"><l><option>top</option></l><l>Stage</l></block></block><block s="gotoXY"><block s="reportAttributeOf"><l><option>right</option></l><l>Stage</l></block><block s="reportAttributeOf"><l><option>bottom</option></l><l>Stage</l></block></block><block s="gotoXY"><block s="reportAttributeOf"><l><option>left</option></l><l>Stage</l></block><block s="reportAttributeOf"><l><option>bottom</option></l><l>Stage</l></block></block></script></block-definition><block-definition s="get API key of %&apos;service provider&apos; and explain %&apos;explain flag&apos; and ask %&apos;ask flag&apos;" type="reporter" category="GPT-3 Blocks"><header></header><code></code><translations></translations><inputs><input type="%txt">OpenAI<options>OpenAI&#xD;AI21&#xD;Cohere&#xD;Hugging Face</options></input><input type="%b">true</input><input type="%b">true</input></inputs><script><block s="doIf"><block s="reportIsA"><block s="reportApplyExtension"><l>db_get(key)</l><list><block var="service provider"/></list></block><l><option>text</option></l></block><script><block s="doReport"><block s="reportApplyExtension"><l>db_get(key)</l><list><block var="service provider"/></list></block></block></script></block><block s="doIf"><block s="reportIsA"><block var="API keys"/><l><option>number</option></l></block><script><block s="doSetVar"><l>API keys</l><block s="reportNewList"><list></list></block></block></script></block><block s="doIf"><block s="reportAnd"><block s="reportIsA"><custom-block s="$flash assoc %s %l"><block var="service provider"/><block var="API keys"/></custom-block><l><option>list</option></l></block><block s="reportGreaterThan"><block s="reportStringSize"><block s="reportListItem"><l>2</l><custom-block s="$flash assoc %s %l"><block var="service provider"/><block var="API keys"/></custom-block></block></block><l>1</l></block></block><script><block s="doReport"><block s="reportListItem"><l>2</l><custom-block s="$flash assoc %s %l"><block var="service provider"/><block var="API keys"/></custom-block></block></block></script></block><block s="doIf"><block var="explain flag"/><script><custom-block s="let %upvar be %s"><l>message</l><block s="reportJoinWords"><list><l>You need to have an API key from </l><block var="service provider"/><l> to run this.</l><l>Your key should be kept secret and not shared. </l><l>We recommend you read the scripts of this project to be sure your keys will be safe. </l><l>You can get a key from </l><block s="reportIfElse"><block s="reportEquals"><block var="service provider"/><l>Cohere</l></block><l>cohere.ai</l><block s="reportJoinWords"><list><block var="service provider"/><l>.com</l></list></block></block></list></block></custom-block><block s="bubble"><block var="message"/></block><block s="doSetVar"><l>message</l><custom-block s="multiline %mlt"><l>We can store your key in the browser&apos;s local storage.&#xD;We recommend this only if you are the only user of this computer.</l></custom-block></block><block s="bubble"><block var="message"/></block></script></block><block s="doIfElse"><block var="ask flag"/><script><block s="doAsk"><block s="reportJoinWords"><list><l>Enter your </l><block var="service provider"/><l> key or just press enter if this is a shared computer</l></list></block></block><block s="doIfElse"><block s="reportEquals"><block s="reportStringSize"><block s="getLastAnswer"></block></block><l>0</l></block><script><block s="doAsk"><l>OK.Now it is safe to enter your key. It will not be stored.</l></block><block s="doAddToList"><block s="reportNewList"><list><block var="service provider"/><block s="getLastAnswer"></block></list></block><block var="API keys"/></block></script><script><block s="doApplyExtension"><l>db_store(key, val)</l><list><block var="service provider"/><block s="getLastAnswer"></block></list></block></script></block><block s="doReport"><block s="getLastAnswer"></block></block></script><script><block s="doReport"><l></l></block></script></block></script></block-definition><block-definition s="$flash assoc %&apos;key&apos; %&apos;a-list&apos;" type="reporter" category="lists"><comment x="0" y="0" w="289.3333333333333" collapsed="false">The second input is an &quot;association list,&quot; a list of two-item lists.  Each of those smaller lists has a &quot;key&quot; as its first item and a &quot;value&quot; as its second.  ASSOC reports the first key-value pair in the association list whose key matches the first input.</comment><header></header><code></code><translations>ca:associació _ _&#xD;</translations><inputs><input type="%s"></input><input type="%l"></input></inputs><script><block s="doReport"><block s="reportAtomicFindFirst"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block var="key"/><block s="reportListItem"><l>1</l><l/></block></block></autolambda><list></list></block><block var="a-list"/></block></block></script></block-definition><block-definition s="multiline %&apos;text&apos;" type="reporter" category="operators"><header></header><code></code><translations>pt:o texto multilinha _&#xD;ca:multilínia _&#xD;</translations><inputs><input type="%mlt"></input></inputs><script><block s="doReport"><block var="text"/></block></script></block-definition><block-definition s="let %&apos;var&apos; be %&apos;value&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%s"></input></inputs><script><block s="doSetVar"><l>var</l><block var="value"/></block></script></block-definition><block-definition s="Open this in a new tab" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>re_open_full_window</l><list></list></custom-block></script></block-definition><block-definition s="Add costume %&apos;costume&apos; to sprite %&apos;sprite&apos;" type="command" category="looks"><header></header><code></code><translations></translations><inputs><input type="%obj"></input><input type="%obj"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>add_costume</l><list><block var="costume"/><block var="sprite"/></list></custom-block></script></block-definition><block-definition s="run eCraft2Learn command %&apos;command name&apos; with %&apos;inputs&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><custom-block s="load eCraft2Learn"></custom-block><block s="doApplyExtension"><l>e2l_run(command_name, parameters)</l><list><block var="command name"/><block var="inputs"/></list></block></script></block-definition><block-definition s="load eCraft2Learn" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/ecraft2learn.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/js/ecraft2learn_snap_extension.js</l></list></block></script></block-definition></blocks><stage name="Stage" width="256" height="256" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" id="429"><pentrails>data:image/png;base64,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</pentrails><costumes><list struct="atomic" id="430"></list></costumes><sounds><list struct="atomic" id="431"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="Sprite" idx="1" x="0" y="0" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="25.999999999999986,94.17999999999992,145,1" pen="tip" id="436"><costumes><list struct="atomic" id="437"></list></costumes><sounds><list struct="atomic" id="438"></list></sounds><blocks></blocks><variables></variables><scripts><comment x="35.83300781250003" y="20.520833333333357" w="326.25" collapsed="true">Will edit the transparent areas of the &apos;mask&apos; to match the prompt</comment><script x="41.75000000000001" y="46.875"><custom-block s="draw something"></custom-block><custom-block s="let %upvar be %s"><l>list of image</l><custom-block s="Ask DALLE-2 to create %n costumes as edits of costume %obj with mask %obj with prompt %txt with size %n with API key %txt"><l>1</l><block s="reportPenTrailsAsCostume"></block><block s="reportPenTrailsAsCostume"></block><l>a stain glass window</l><l>256</l><custom-block s="get API key of %txt and explain %b and ask %b"><l>OpenAI</l><l><bool>true</bool></l><l><bool>true</bool></l></custom-block></custom-block></custom-block><block s="doIfElse"><block s="reportIsA"><block var="list of image"/><l><option>list</option></l></block><script><block s="doSwitchToCostume"><block s="reportListItem"><l>1</l><block var="list of image"/></block></block></script><script><block s="bubble"><block var="list of image"><comment w="149.2857142857143" collapsed="true">Display error message</comment></block></block></script></block></script><script x="356.25" y="167.85416666666669"><custom-block s="Open this in a new tab"></custom-block></script></scripts></sprite></sprites></stage><variables></variables></scene></scenes></project>