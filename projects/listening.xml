<project name="listening" app="Snap! 7, https://snap.berkeley.edu" version="2"><notes>Demonstration of blocks for listening to speech. Can use browser&apos;s speech recognition, a Teachable Machine audio model, or loading a trainable neural network model.</notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAAA11JREFUeF7t1bFLVXEcxuHv5ZCFQkqBBoJSUJFBg2IRGgaB0NyYFRXk1FBZ/0BLm0RBtEazOLa0tDQHDuUWDu0OFg3esCDE7tj1He5zxnvg93I+vwduq91ut8ujQKhAC8BQebO/CwAIQrQAgNH8xgFkIFoAwGh+4wAyEC0AYDS/cQAZiBYAMJrfOIAMRAsAGM1vHEAGogUAjOY3DiAD0QIARvMbB5CBaAEAo/mNA8hAtACA0fzGAWQgWgDAaH7jADIQLQBgNL9xABmIFgAwmt84gAxECwAYzW8cQAaiBQCM5jcOIAPRAgBG8xsHkIFoAQCj+Y0DyEC0AIDR/MYBZCBaAMBofuMAMhAtAGA0v3EAGYgWADCa3ziADEQLABjNbxxABqIFAIzmNw4gA9ECAEbzGweQgWgBAKP5jQPIQLQAgNH8xgFkIFoAwGh+4wAyEC0AYDS/cQB3GVh9vlzjF2fq3NRUNU1Dxz4UAHBX5PW1teqfm6z1aqpm52pjeqau3lus4eHhfbiK3pwAcM+9f1pdqWO3rv39davVqq2hI7U6MlbTT5/V/Px8b0rp0lcD2CHshycP69Tr5Wp1eNeuqnfNodpcuFvXlx7X0bHxLl1NbxwLYId7/vj2TY3fv13N9vY/b3cAfm019X3iXG1MXqgbL1/1hpQufSWAe8J++/K5Ns9P1FDtUPvz/Gyaen+gv0bvLNbg5St1dvZSDQwMdOlKeutYAPfc9/rIQA3+2KqNg/21cvx0LSy/qNEzE3V4aKharU5/yr0F5n9/LYC7ij44c7JO3Lxdi4+Wqq+v73+3dl6HAgBiES0AYDS/cQAZiBYAMJrfOIAMRAsAGM1vHEAGogUAjOY3DiAD0QIARvMbB5CBaAEAo/mNA8hAtACA0fzGAWQgWgDAaH7jADIQLQBgNL9xABmIFgAwmt84gAxECwAYzW8cQAaiBQCM5jcOIAPRAgBG8xsHkIFoAQCj+Y0DyEC0AIDR/MYBZCBaAMBofuMAMhAtAGA0v3EAGYgWADCa3ziADEQLABjNbxxABqIFAIzmNw4gA9ECAEbzGweQgWgBAKP5jQPIQLQAgNH8xgFkIFoAwGh+4wAyEC0AYDS/cQAZiBYAMJrfOIAMRAsAGM1vHEAGogUAjOY3/gvy/Ra3ydv9xgAAAABJRU5ErkJggg==</thumbnail><scenes select="1"><scene name="listening"><notes>Demonstration of blocks for listening to speech. Can use browser&apos;s speech recognition, a Teachable Machine audio model, or loading a trainable neural network model.</notes><palette><category name="Listening" color="163,111,0,1"/></palette><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Stop speech recognition" type="command" category="Listening"><comment x="0" y="0" w="282" collapsed="true">Stops the current attempt to recognize what is spoken.</comment><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>stop_speech_recognition</l><list></list></custom-block></script></block-definition><block-definition s="Listen to the microphone $nl %&apos;handle response&apos; when recognition completes $nl but if error %&apos;handle error&apos; with error message" type="command" category="Listening"><comment x="0" y="0" w="300" collapsed="false">Listens to the microphone for speech. The first script is run with the recognized text unless an error is encountered then the second script is called with text describing the error.</comment><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>start_speech_recognition</l><list><block var="handle response"/><block var="handle error"/></list></custom-block></script></block-definition><block-definition s="Listen to the microphone $nl %&apos;respond as heard&apos; as words are recognised $nl %&apos;handle final response&apos; when recognition completes $nl but if error %&apos;handle error&apos; with error message $nl with language %&apos;language&apos; $nl with %&apos;max alternatives&apos; maximum number of alternatives $nl %&apos;handle alternatives&apos; with the list of alternative recognitions $nl %&apos;handle confidences&apos; with the list of confidences" type="command" category="Listening"><comment x="0" y="0" w="463.99999999999994" collapsed="false">As words are recognised &apos;respond as heard&apos; is passed what the recogniser thinks it has heard. When it thinks you are finished speaking the &apos;handle final response&apos; is given the final text. If an error occurs such as &apos;no-speech&apos; then the error description is given to &apos;handle error&apos;. &apos;language&apos; can be its code or name. You can ask for a list of alternative responses to what was spoken that contains at most &apos;max alternatives&apos;. &apos;handle alternatives&apos; is given a list of alternatives. &apos;handle confidences&apos; is given a list of numbers between 0 and 1 where 1 is certainty.</comment><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%txt"></input><input type="%n"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>start_speech_recognition</l><list><block var="handle final response"/><block var="handle error"/><block var="respond as heard"/><block var="language"/><block var="max alternatives"/><block var="handle alternatives"/><block var="handle confidences"/></list></custom-block></script></block-definition><block-definition s="Broadcast speech recognition results and report any errors %&apos;report&apos;" type="command" category="Listening"><comment x="0" y="0" w="535" collapsed="false">When something is spoken this broadcasts &apos;heard something&apos; and sets &apos;last thing spoken&apos; to the text that was spoken.&#xD;You will need to create two new variables for this to work: &apos;last thing spoken&apos; and &apos;speech recognition error&apos;. Optionally reports errors. The &apos;stop speech recognition&apos; block will stop the listening as will silence that triggers a &apos;no-speech&apos; error.</comment><header></header><code></code><translations></translations><inputs><input type="%b"></input></inputs><script><custom-block s="Listen to the microphone %br %cmdRing when recognition completes %br but if error %cmdRing with error message"><block s="reifyScript"><script><block s="doSetVar"><l>last thing spoken</l><block var="spoken"/></block><block s="doBroadcast"><l>heard something</l><list></list></block><block s="doWait"><l>.1</l></block><custom-block s="Broadcast speech recognition results and report any errors %b"><block var="report"/></custom-block></script><list><l>spoken</l></list></block><block s="reifyScript"><script><block s="doSetVar"><l>speech recognition error</l><block var="error"/></block><block s="doBroadcast"><l>speech recognition error</l><list></list></block><block s="doIf"><block var="report"/><script><block s="doIfElse"><block s="reportEquals"><block var="speech recognition error"/><l>no-speech</l></block><script><block s="bubble"><l>I didn&apos;t hear anything for a while. Bye. Click the green flag to start listening again.</l></block></script><script><block s="bubble"><block s="reportJoinWords"><list><l>There was an error: </l><block var="speech recognition error"/><l>. Click the green flag to try again.</l></list></block></block></script></block></script></block></script><list><l>error</l></list></block></custom-block></script></block-definition><block-definition s="Train with audio buckets %&apos;bucket names&apos; labels $nl add to any earlier training %&apos;add to previous training&apos; $nl optionally add this text to the page %&apos;introduction&apos; $nl then %&apos;do when ready&apos; when returning from training" type="command" category="Listening"><comment x="0" y="0" w="252.85714285714286" collapsed="false">Will display a panel where one can train the system to classify sounds or speech. &apos;bucket names&apos; are the labels of the classes to train. Optionally one can provide HTML to appear on the page as an introduction. If &apos;do when ready&apos; is provided those commands will be run when returning to Snap!</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%b">true</input><input type="%txt"></input><input type="%cs"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>tensorflow_train_using_microphone</l><list><block var="bucket names"/><block var="add to previous training"/><block var="introduction"/><block var="do when ready"/></list></custom-block><block s="doIf"><block s="reportIsA"><block var="do when ready"/><l><option>command</option></l></block><script><block s="doWaitUntil"><block s="reportNot"><custom-block s="%txt panel visible"><l>training using microphone</l></custom-block></block></block><block s="doRun"><block var="do when ready"/><list></list></block></script></block></script></block-definition><block-definition s="the next thing spoken" type="reporter" category="Listening"><comment x="0" y="0" w="281.42857142857144" collapsed="false">Reports the last thing spoken or if there was an error the error message. Note that &quot;no-speech&quot; is an error message while if spoken it will be &quot;no speech&quot;. NOTE that this waits for something to be spoken or enough time has passed.</comment><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doDeclareVariables"><list><l>spoken or error messge</l></list></block><custom-block s="Listen to the microphone %br %cmdRing when recognition completes %br but if error %cmdRing with error message"><block s="reifyScript"><script><block s="doSetVar"><l>spoken or error messge</l><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="doSetVar"><l>spoken or error messge</l><l></l></block></script><list></list></block></custom-block><block s="doWaitUntil"><block var="spoken or error messge"/></block><block s="doReport"><block var="spoken or error messge"/></block></script></block-definition><block-definition s="show message %&apos;message&apos; for %&apos;seconds&apos; seconds" type="command" category="looks"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%s"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>show_message</l><list><block var="message"/><block var="seconds"/></list></custom-block></script></block-definition><block-definition s="set default language to %&apos;language&apos;" type="command" category="sensing"><comment x="0" y="0" w="275.7142857142857" collapsed="false">Language to use for speech input and output only if no language or voice is specified. Can be the language name in English or itself. Or the official code for the language such as fr-FR for French in France. Also used as the default language for the word embedding blocks.</comment><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>set_default_language</l><list><block var="language"/></list></custom-block></script></block-definition><block-definition s="%&apos;source&apos; panel visible" type="reporter" category="sensing"><comment x="0" y="0" w="182.14285714285717" collapsed="false">Reports whether the selected support panel is visible. </comment><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">training using camera<options>training using camera&#xD;training using microphone&#xD;posenet</options></input></inputs><script><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>support_window_visible</l><list><block var="source"/></list></custom-block></block></script></block-definition><block-definition s="Audio label confidences %&apos;process confidences&apos; $nl using %&apos;model&apos;" type="command" category="Listening"><comment x="0" y="0" w="318.5714285714286" collapsed="false">As it recognises what is spoken it passes the list of label confidences to the  &apos;process confidences&apos; input. If model is &quot;Pre-trained model of 20 words&quot; then it will recognise  &apos;zero&apos;, &apos;one&apos;, &apos;two&apos;, &apos;three&apos;, &apos;four&apos;, &apos;five&apos;, &apos;six&apos;, &apos;seven&apos;, &apos;eight&apos;, &apos;nine&apos;, &apos;up&apos;, &apos;down&apos;, &apos;left&apos;, &apos;right&apos;, &apos;go&apos;, &apos;stop&apos;, &apos;yes&apos;, and &apos;no&apos;,&#xD;Alternatively if model is &quot;User-trained model&quot; then the model trained by running the &quot;Train with audio buckets&quot; block will be used.&#xD;Use the &apos;stop listening for audio label confidences&apos; block to stop this.</comment><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input><input type="%txt" readonly="true">User-trained model<options>Pre-trained model of 20 words&#xD;User-trained model</options></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>microphone_confidences</l><list><block s="reportEquals"><block var="model"/><l>Pre-trained model of 20 words</l></block><block var="process confidences"/></list></custom-block></script></block-definition><block-definition s="Load microphone training data from URL %&apos;URL&apos; then %&apos;do after loading&apos;" type="command" category="Listening"><comment x="0" y="0" w="255.00000000000003" collapsed="false">Loads in the training created using the &apos;Train with audio buckets ...&quot; block where the saved training has been copied to a web server.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cs"></input></inputs><script><custom-block s="show message %txt for %s seconds"><l>Loading</l><l>999</l></custom-block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>load_microphone_training_from_URL</l><list><block var="URL"/><block s="reifyScript"><script><custom-block s="show message %txt for %s seconds"><l></l><l>0</l><comment w="183.57142857142858" collapsed="true">Removes the loading message.</comment></custom-block><block s="doRun"><block var="do after loading"/><list></list></block></script><list></list></block></list></custom-block></script></block-definition><block-definition s="Load microphone training data from file then %&apos;after loading training data&apos;" type="command" category="Listening"><comment x="0" y="0" w="286.42857142857144" collapsed="false">Loads in the training created using the &apos;Train with audio buckets ...&quot; block . It prompts for the file.</comment><header></header><code></code><translations></translations><inputs><input type="%cs"></input></inputs><script><custom-block s="show message %txt for %s seconds"><l>Loading</l><l>999</l></custom-block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>load_microphone_training_from_file</l><list><block s="reifyScript"><script><custom-block s="show message %txt for %s seconds"><l></l><l>0</l><comment w="183.57142857142858" collapsed="true">Removes the loading message.</comment></custom-block><block s="doRun"><block var="after loading training data"/><list></list></block></script><list></list></block></list></custom-block></script></block-definition><block-definition s="Open support panel %&apos;source&apos;" type="command" category="sensing"><comment x="0" y="0" w="170.71428571428572" collapsed="false">Open an interface page for different machine learning models.</comment><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">training using camera<options>training using camera&#xD;training using microphone&#xD;posenet&#xD;tensorflow.js</options></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>display_support_window</l><list><block var="source"/></list></custom-block></script></block-definition><block-definition s="load tensorflow" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>loaded</l></list></block><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>load_tensorflow</l><list><block s="reifyScript"><script><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><list></list></block></list></custom-block><block s="doWaitUntil"><block var="loaded"/></block></script></block-definition><block-definition s="Get predictions using Teachable Machine audio model %&apos;URL&apos; $nl and process each word recognised %&apos;process word predictions&apos; $nl or else if there is an error %&apos;do if error&apos;" type="command" category="Listening"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="load tensorflow"></custom-block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>get_prediction_from_teachable_machine_audio_model</l><list><block var="URL"/><l>option not yet supported</l><block var="process word predictions"/><block var="do if error"/></list></custom-block></script></block-definition><block-definition s="Show message %&apos;message&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>show_message</l><list><block var="message"/></list></custom-block></script></block-definition><block-definition s="Train Teachable Machine with %&apos;type&apos; data" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">image<options>image&#xD;audio&#xD;pose</options></input></inputs><script><custom-block s="Open web page %txt"><block s="reportJoinWords"><list><l>https://teachablemachine.withgoogle.com/train/</l><block var="type"/></list></block></custom-block></script></block-definition><block-definition s="Stop listening for audio label confidences" type="command" category="Listening"><comment x="0" y="0" w="183.57142857142858" collapsed="false">If any of the blocks listening for speech or sounds are running this stops them.</comment><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>stop_audio_recognition</l><list></list></custom-block></script></block-definition><block-definition s="call eCraft2Learn reporter %&apos;reporter name&apos; with %&apos;inputs&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><custom-block s="load eCraft2Learn"></custom-block><block s="doReport"><block s="reportApplyExtension"><l>e2l_call(reporter_name, parameters)</l><list><block var="reporter name"/><block var="inputs"/></list></block></block></script></block-definition><block-definition s="Set presentation mode to %&apos;flag&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%b"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>set_presentation_mode</l><list><block var="flag"/></list></custom-block></script></block-definition><block-definition s="Open web page %&apos;url&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>open_web_page</l><list><block var="url"/></list></custom-block></script></block-definition><block-definition s="run eCraft2Learn command %&apos;command name&apos; with %&apos;inputs&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><custom-block s="load eCraft2Learn"></custom-block><block s="doApplyExtension"><l>e2l_run(command_name, parameters)</l><list><block var="command name"/><block var="inputs"/></list></block></script></block-definition><block-definition s="load eCraft2Learn" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/ecraft2learn.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/js/ecraft2learn_snap_extension.js</l></list></block></script></block-definition><block-definition s="Load eCraft2Learn library" type="command" category="other"><comment x="0" y="0" w="238.57142857142858" collapsed="false">No longer needed in Snap! 7+ but retained to avoid error from blocks that expect it.</comment><header></header><code></code><translations></translations><inputs></inputs></block-definition></blocks><stage name="Stage" width="360" height="270" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="true" hyperops="true" codify="false" inheritance="false" sublistIDs="false" id="344"><pentrails>data:image/png;base64,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</pentrails><costumes><list struct="atomic" id="345"></list></costumes><sounds><list struct="atomic" id="346"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="Listening blocks" idx="1" x="0.32432432432437963" y="-0.21540943929002765" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="232.05,13.923000000000012,0,1" pen="tip" id="351"><costumes><list struct="atomic" id="352"></list></costumes><sounds><list struct="atomic" id="353"></list></sounds><blocks></blocks><variables></variables><scripts><script x="25.57142857142854" y="60.00000000000001"><custom-block s="set default language to %s"><l>french</l><comment w="368.5714285714286" collapsed="true">Can optionally change the default speech input and output language.</comment></custom-block></script><script x="28.571428571428573" y="119.00000000000003"><custom-block s="the next thing spoken"><comment w="556.4285714285714" collapsed="true">Reports the next thing spoken. Or if there is an error the error message. Waits until speaking is finished.</comment></custom-block></script><script x="26.571428571428605" y="171.99999999999997"><custom-block s="Listen to the microphone %br %cmdRing when recognition completes %br but if error %cmdRing with error message"><block s="reifyScript"><script><block s="doThink"><block var="what was said"/></block></script><list><l>what was said</l></list></block><block s="reifyScript"><script><block s="bubble"><block var="error message"/></block></script><list><l>error message</l></list></block><comment w="256.42857142857144" collapsed="true">A simple speech to text command.</comment></custom-block></script><script x="27.571428571428548" y="295"><custom-block s="Listen to the microphone %br %cmdRing as words are recognised %br %cmdRing when recognition completes %br but if error %cmdRing with error message %br with language %txt %br with %n maximum number of alternatives %br %cmdRing with the list of alternative recognitions %br %cmdRing with the list of confidences"><block s="reifyScript"><script><block s="doThink"><block var="partial results"/></block></script><list><l>partial results</l></list></block><block s="reifyScript"><script></script><list><l>final result</l></list></block><block s="reifyScript"><script><block s="bubble"><block var="error message"/></block></script><list><l>error message</l></list></block><l>english</l><l>5</l><block s="reifyScript"><script><block s="bubble"><block var="alternative recognitions"/></block></script><list><l>alternative recognitions</l></list></block><block s="reifyScript"><script></script><list><l>confidences of alternative recognitions</l></list></block><comment w="240.85714285714297" collapsed="false">A full featured speech recognition block.&#xD;Right click for more help.</comment></custom-block></script><script x="30.57142857142854" y="543"><custom-block s="Broadcast speech recognition results and report any errors %b"><l><bool>true</bool></l><comment w="300" collapsed="false">Uses another listen block to broadcast recognition results.&#xD;Optionally &apos;says&apos; errors.. Right click and select help to learn more.</comment></custom-block></script><comment x="12.571428571428548" y="653" w="346" collapsed="true">Machine learning blocks for labelling sounds and spoken words.</comment><comment x="30.57142857142854" y="1412.6571428571428" w="444.8974609375" collapsed="true">This work is licensed under NEW BSD - http://opensource.org/licenses/BSD-3-Clause</comment><script x="30.000000000000004" y="1277.085714285714"><block s="receiveGo"></block><custom-block s="Set presentation mode to %b"><l><bool>false</bool></l><comment w="189" collapsed="true">Make sure we are in edit mode.</comment></custom-block></script><script x="31.999999999999968" y="1231.7999999999997"><custom-block s="Open support panel %txt"><l>training using microphone</l><comment w="310" collapsed="true">Use this to re-open the machine learning support windw.</comment></custom-block></script><script x="30.999999999999986" y="1157.3714285714282"><custom-block s="Load microphone training data from file then %cs"><script><block s="bubble"><l>Training loaded</l></block></script><comment w="260" collapsed="true">Prompts for a saved microphone training file.</comment></custom-block></script><script x="28.857142857142843" y="982.2285714285716"><custom-block s="Audio label confidences %cmdRing %br using %txt"><block s="reifyScript"><script><block s="doThink"><block var="confidences"/></block></script><list><l>confidences</l></list></block><l>User-trained model</l><comment w="348.5714285714286" collapsed="false">Begin listening and reporting the confidence scores for the labels given in the block above. Can also be used to recognise these 20 builtin words: &apos;zero&apos;, &apos;one&apos;, &apos;two&apos;, &apos;three&apos;, &apos;four&apos;, &apos;five&apos;, &apos;six&apos;, &apos;seven&apos;, &apos;eight&apos;, &apos;nine&apos;, &apos;up&apos;, &apos;down&apos;, &apos;left&apos;, &apos;right&apos;, &apos;go&apos;, &apos;stop&apos;, &apos;yes&apos;, and &apos;no&apos;.</comment></custom-block></script><script x="28.857142857142843" y="868.7999999999998"><custom-block s="Train with audio buckets %l labels %br add to any earlier training %b %br optionally add this text to the page %txt %br then %cs when returning from training"><block s="reportNewList"><list><l>forward</l><l>right</l></list></block><l><bool>true</bool></l><l></l><script></script><comment w="321.42857142857144" collapsed="true">A way to train the system to recognise sounds or speech.</comment></custom-block></script><script x="29.000000000000018" y="830.5142857142856"><custom-block s="Stop listening for audio label confidences"><comment w="259.2857142857143" collapsed="true">Stop listening and reporting label confidences.</comment></custom-block></script><script x="26.857142857142833" y="724.4666666666666"><custom-block s="Get predictions using Teachable Machine audio model %txt %br and process each word recognised %cmdRing %br or else if there is an error %cmdRing"><l>https://teachablemachine.withgoogle.com/models/8AsBNKiPV/</l><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block><comment w="245.00000000000017" collapsed="false">After training and exporting your Teachable Machine model paste the URL to your saved model here.</comment></custom-block></script><script x="26.857142857142833" y="685.0857142857143"><custom-block s="Train Teachable Machine with %txt data"><l>audio</l><comment w="295.7142857142859" collapsed="true">Click this to open up The Teachable Machine web page.</comment></custom-block></script><script x="30.428571428571406" y="600.8571428571429"><custom-block s="Stop speech recognition"><comment w="246.99999999999997" collapsed="true">Stops broadcasting if the above block was run.</comment></custom-block></script><script x="26.14285714285716" y="1075.2285714285715"><custom-block s="Load microphone training data from URL %txt then %cs"><l>/ai/microphone-train/saved_training.json</l><script><block s="bubble"><l>Training loaded</l></block></script><comment w="247.85714285714295" collapsed="false">Loads saved training using the microphone. This sample URL contains training for &apos;forward&apos; and &apos;right&apos;.</comment></custom-block></script><script x="23.571428571428573" y="18.85714285714286"><custom-block s="Open web page %txt"><l>/ai/AI-Teacher-Guide/chapter-2.html</l><comment w="236.42857142857147" collapsed="true">CLICK THIS TO OPEN THE HELP PAGE</comment></custom-block></script></scripts></sprite><watcher s="xPosition" style="normal" x="0" y="95.73881429642213" color="74,108,212" hidden="true"/><watcher s="yPosition" style="normal" x="-6.593203853985187" y="197.9334740332065" color="74,108,212" hidden="true"/><watcher scope="Stage" s="reportMouseX" style="normal" x="32.96601926993276" y="32.96601926993022" color="4,148,220" hidden="true"/><watcher scope="Stage" s="reportMouseY" style="normal" x="32.96601926993276" y="124.61155943354021" color="4,148,220" hidden="true"/><watcher var="model name" style="normal" x="10.311455475537286" y="10.311455475537315" color="243,118,29" hidden="true"/><watcher var="best parameters" style="normal" x="10.311455475537286" y="31.96551403645664" color="243,118,29" hidden="true"/></sprites></stage><variables></variables></scene></scenes></project>