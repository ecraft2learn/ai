<project name="misc AI" app="Snap! 7, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAABE9JREFUeF7tkr1LlXEYhp9zPCVCB4XCCkPEEEKhqcElaZCoRrXFLaLCJSWHlgLHloZw7YuC/oII+guEBocGw7YGSaIPokA45+jb0BTWdPOjcz9c7/w+9+95rvuqVVVVBV9aArVardbNx9UQsJvr0XdDQJ0hCQIBBBTgMaoTQECdIQkCAQQU4DGqE0BAnSEJAgEEFOAxqhNAQJ0hCQIBBBTgMaoTQECdIQkCAQQU4DGqE0BAnSEJAgEEFOAxqhNAQJ0hCQIBBBTgMaoTQECdIQkCAQQU4DGqE0BAnSEJAgEEFOAxqhNAQJ0hCQIBBBTgMaoTQECdIQkCAQQU4DGqE0BAnSEJAgEEFOAxqhNAQJ0hCQIBBBTgMaoTQECdIQkCAQQU4DGqE0BAnSEJAgEEFOAxqhNAQJ0hCQIBBBTgMaoTQECdIQkCAQQU4DGqE0BAnSEJAgEEFOAxqhNAQJ0hCQIBBBTgMaoTQECdIQkCAQQU4DGqE0BAnSEJAgEEFOAxqhNAQJ0hCQIBBBTgMaoTQECdIQkCAQQU4DGqE0BAnSEJAgEEFOAxqhNAQJ0hCQIBBBTgMaoTQECdIQkCAQQU4DGqE0BAnSEJAgEEFOAxqhNAQJ3hXxPuLT6L5rF6XL56PgYHBwu94h+LgIU63P74Ke5OrEfreyOaw+3ojL6L6YWRmJubKfSiZywCFuxt/c3bWJ38Fr1V/+9X6rvRqv+IvpNfo356IxZWZmJ8fLzgBt0fjYCFO3r66HmsXRuPWtWz76Wq1ol67258aL6Kc0v9sXx7MXp69v9XeMX/Go+AhfF3Op24fvxlHPw88s+X9qITPc1WbPa9iIdrt2J0dLTwVt0Tj4AFu2i32zE/9iAOf5j+45Wq3o69AzvRGX4fJy59ieWVGzEwMFBwk+6NRsCC3dy8sBqt12cj6lX8rLbjyMReVGObMbt0Jqampgq+7BONgIW6un/nSWw8PhRHJ3fi1MXemL8yG41Go9BrvrEIWKi7ra2tGBoaKpSeJxYB83RpeQkCWtaWZ2kEzNOl5SUIaFlbnqURME+XlpcgoGVteZZGwDxdWl6CgJa15VkaAfN0aXkJAlrWlmdpBMzTpeUlCGhZW56lETBPl5aXIKBlbXmWRsA8XVpegoCWteVZGgHzdGl5CQJa1pZnaQTM06XlJQhoWVuepREwT5eWlyCgZW15lkbAPF1aXoKAlrXlWRoB83RpeQkCWtaWZ2kEzNOl5SUIaFlbnqURME+XlpcgoGVteZZGwDxdWl6CgJa15VkaAfN0aXkJAlrWlmdpBMzTpeUlCGhZW56lETBPl5aXIKBlbXmWRsA8XVpegoCWteVZGgHzdGl5CQJa1pZnaQTM06XlJQhoWVuepREwT5eWlyCgZW15lkbAPF1aXoKAlrXlWRoB83RpeQkCWtaWZ2kEzNOl5SUIaFlbnqURME+XlpcgoGVteZZGwDxdWl7S7QL+AhptNJdRkyQ1AAAAAElFTkSuQmCC</thumbnail><scenes select="1"><scene name="misc AI"><notes></notes><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Create costume in style %&apos;Which style&apos; from %&apos;costume&apos; $nl then %&apos;receive new costume&apos;" type="command" category="looks"><comment x="0" y="0" w="224.2857142857143" collapsed="false">Applies the selected style to the indicated custome number and adds the new costume this sprite.</comment><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true"><options>Katsushika Hokusai&apos;s Wave&#xD;Francis Picabia&apos;s Udnie&#xD;Pablo Picasso&apos;s La Muse&#xD;Mathura Style&#xD;Leonid Afremov&apos;s Rain Princess&#xD;Edvard Munch&apos;s Scream&#xD;Théodore Géricault&apos;s Raft of the Medusa&#xD;Roberto Matta</options></input><input type="%obj">1</input><input type="%cs"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>create_costume_with_style</l><list><block var="Which style"/><block var="costume"/><block var="receive new costume"/></list></custom-block></script></block-definition><block-definition s="get costume features of %&apos;costume&apos; then %&apos;receive features&apos;" type="command" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%obj"></input><input type="%cs"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>get_image_features</l><list><block var="costume"/><block var="receive features"/></list></custom-block></script></block-definition><block-definition s="read URL %&apos;URL&apos; then %&apos;receive contents&apos; or if error %&apos;receive error&apos; using an access key if needed %&apos;key&apos; in JSON format %&apos;JSON&apos;" type="command" category="sensing"><comment x="0" y="0" w="383" collapsed="false">Reads the contents of &apos;URL&apos; and then calls &apos;receive contents&apos; with that text (in HTML). If there was an error &apos;receive error&apos; is called instead. &apos;key&apos; needs only be provided if the URL requires as access key.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%txt"></input><input type="%b"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>read_url</l><list><block var="URL"/><block var="receive contents"/><block var="receive error"/><block var="key"/><block var="JSON"/></list></custom-block></script></block-definition><block-definition s="Ask Wikipedia about %&apos;search words&apos; $nl then %&apos;process response&apos; with list of matches $nl but if error %&apos;process error&apos; with error message" type="command" category="sensing"><comment x="0" y="0" w="167.14285714285717" collapsed="false">Searches Wikipedia for &apos;search words&apos; and then passes the list of results to &apos;process response&apos;.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="read URL %txt then %cmdRing or if error %cmdRing using an access key if needed %txt in JSON format %b"><block s="reportJoinWords"><list><custom-block s="Wikipedia domian"></custom-block><l>/w/api.php?format=json&amp;action=query&amp;prop=extracts&amp;exintro=&amp;explaintext=&amp;origin=*&amp;generator=prefixsearch&amp;gpssearch=</l><block var="search words"/></list></block><block s="reifyScript"><script><custom-block s="let %upvar be %s"><l>extracts</l><custom-block s="extracts in Wikipedia response %s"><block var="response"/></custom-block></custom-block><block s="doRun"><block var="process response"/><list><block var="extracts"/></list></block></script><list><l>response</l></list></block><block var="process error"/><l></l><l><bool>true</bool></l></custom-block></script></block-definition><block-definition s="extracts in Wikipedia response %&apos;Wikipedia answer&apos;" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><custom-block s="let %upvar be %s"><l>query</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block s="reportListItem"><l>1</l><l/></block><l>query</l></block></autolambda><list></list></block><block var="Wikipedia answer"/></block></custom-block><block s="doIfElse"><block var="query"/><script><block s="doReport"><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><block s="reportStringSize"><block var="extract"/></block><l>0</l></block></autolambda><list><l>extract</l></list></block><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>2</l><block s="reportListItem"><l>5</l><block s="reportListItem"><l>2</l><l/></block></block></block></autolambda><list></list></block><block s="reportListItem"><l>2</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block s="reportListItem"><l>1</l><l/></block><l>pages</l></block></autolambda><list></list></block><block s="reportListItem"><l>2</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block s="reportListItem"><l>1</l><l/></block><l>query</l></block></autolambda><list></list></block><block var="Wikipedia answer"/></block></block></block></block></block></block></block></script><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block></script></block-definition><block-definition s="Wikipedia domian" type="reporter" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>wikipedia_domain</l><list></list></custom-block></block></script></block-definition><block-definition s="costume from camera %&apos;mirrored&apos; mirrored" type="reporter" category="looks"><comment x="0" y="0" w="207.14285714285717" collapsed="true">Reports a costume using the camera.</comment><header></header><code></code><translations></translations><inputs><input type="%b"></input></inputs><script><custom-block s="let %upvar be %s"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><custom-block s="Create costume from camera %b and pass it to %cmdRing"><block var="mirrored"/><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block var="costume"/></block></script><list><l>costume</l></list></block></custom-block><block s="doWaitUntil"><block s="reportIsA"><block var="result"/><l><option>costume</option></l></block></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="Create costume from camera %&apos;mirrored&apos; and pass it to %&apos;process costume&apos;" type="command" category="looks"><comment x="0" y="0" w="304" collapsed="false">Creates a costume from the video camera and passes it the &apos;process costume&apos; blocks.</comment><header></header><code></code><translations></translations><inputs><input type="%b"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>costume_from_camera_version_2</l><list><block var="mirrored"/><block var="process costume"/></list></custom-block></script></block-definition><block-definition s="Euclidean distance between %&apos;point 1&apos; and %&apos;point 2&apos; using JavaScript" type="reporter" category="lists"><comment x="0" y="0" w="184.2857142857143" collapsed="false">Reports the distance between the points. Works with any dimensions from 1 to what fits in memory.&#xD;To see how this can be implemented in a slower way in Snap! open the &apos;distance from features ... to ...&apos; block</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>euclidean_distance</l><list><block var="point 1"/><block var="point 2"/></list></custom-block></block></script></block-definition><block-definition s="cosine similarity %&apos;list 1&apos; %&apos;list 2&apos; JavaScript version" type="reporter" category="lists"><comment x="0" y="0" w="234" collapsed="false">See https://en.wikipedia.org/wiki/Cosine_similarity&#xD;There is a pure Snap! version of this.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>cosine_similarity</l><list><block var="list 1"/><block var="list 2"/></list></custom-block></block></script></block-definition><block-definition s="Open help page" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>open_help_page</l><list><l></l></list></custom-block></script></block-definition><block-definition s="let %&apos;var&apos; be %&apos;value&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%s"></input></inputs><script><block s="doSetVar"><l>var</l><block var="value"/></block></script></block-definition><block-definition s="call eCraft2Learn reporter %&apos;reporter name&apos; with %&apos;inputs&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><custom-block s="load eCraft2Learn"></custom-block><block s="doReport"><block s="reportApplyExtension"><l>e2l_call(reporter_name, parameters)</l><list><block var="reporter name"/><block var="inputs"/></list></block></block></script></block-definition><block-definition s="Load eCraft2Learn library" type="command" category="other"><comment x="0" y="0" w="238.57142857142858" collapsed="false">No longer needed in Snap! 7+ but retained to avoid error from blocks that expect it.</comment><header></header><code></code><translations></translations><inputs></inputs></block-definition><block-definition s="Set presentation mode to %&apos;flag&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%b"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>set_presentation_mode</l><list><block var="flag"/></list></custom-block></script></block-definition><block-definition s="run eCraft2Learn command %&apos;command name&apos; with %&apos;inputs&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><custom-block s="load eCraft2Learn"></custom-block><block s="doApplyExtension"><l>e2l_run(command_name, parameters)</l><list><block var="command name"/><block var="inputs"/></list></block></script></block-definition><block-definition s="load eCraft2Learn" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/ecraft2learn.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/js/ecraft2learn_snap_extension.js</l></list></block></script></block-definition></blocks><stage width="252" height="252" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="true" hyperops="true" codify="false" inheritance="false" sublistIDs="false" id="278"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPwAAAD8CAYAAABTq8lnAAAAAXNSR0IArs4c6QAABg9JREFUeF7t0wEBAAAIwjDpX9ognw0YsnMECGQElkkqKAECZ/CegEBIwOBDZYtKwOD9AIGQgMGHyhaVgMH7AQIhAYMPlS0qAYP3AwRCAgYfKltUAgbvBwiEBAw+VLaoBAzeDxAICRh8qGxRCRi8HyAQEjD4UNmiEjB4P0AgJGDwobJFJWDwfoBASMDgQ2WLSsDg/QCBkIDBh8oWlYDB+wECIQGDD5UtKgGD9wMEQgIGHypbVAIG7wcIhAQMPlS2qAQM3g8QCAkYfKhsUQkYvB8gEBIw+FDZohIweD9AICRg8KGyRSVg8H6AQEjA4ENli0rA4P0AgZCAwYfKFpWAwfsBAiEBgw+VLSoBg/cDBEICBh8qW1QCBu8HCIQEDD5UtqgEDN4PEAgJGHyobFEJGLwfIBASMPhQ2aISMHg/QCAkYPChskUlYPB+gEBIwOBDZYtKwOD9AIGQgMGHyhaVgMH7AQIhAYMPlS0qAYP3AwRCAgYfKltUAgbvBwiEBAw+VLaoBAzeDxAICRh8qGxRCRi8HyAQEjD4UNmiEjB4P0AgJGDwobJFJWDwfoBASMDgQ2WLSsDg/QCBkIDBh8oWlYDB+wECIQGDD5UtKgGD9wMEQgIGHypbVAIG7wcIhAQMPlS2qAQM3g8QCAkYfKhsUQkYvB8gEBIw+FDZohIweD9AICRg8KGyRSVg8H6AQEjA4ENli0rA4P0AgZCAwYfKFpWAwfsBAiEBgw+VLSoBg/cDBEICBh8qW1QCBu8HCIQEDD5UtqgEDN4PEAgJGHyobFEJGLwfIBASMPhQ2aISMHg/QCAkYPChskUlYPB+gEBIwOBDZYtKwOD9AIGQgMGHyhaVgMH7AQIhAYMPlS0qAYP3AwRCAgYfKltUAgbvBwiEBAw+VLaoBAzeDxAICRh8qGxRCRi8HyAQEjD4UNmiEjB4P0AgJGDwobJFJWDwfoBASMDgQ2WLSsDg/QCBkIDBh8oWlYDB+wECIQGDD5UtKgGD9wMEQgIGHypbVAIG7wcIhAQMPlS2qAQM3g8QCAkYfKhsUQkYvB8gEBIw+FDZohIweD9AICRg8KGyRSVg8H6AQEjA4ENli0rA4P0AgZCAwYfKFpWAwfsBAiEBgw+VLSoBg/cDBEICBh8qW1QCBu8HCIQEDD5UtqgEDN4PEAgJGHyobFEJGLwfIBASMPhQ2aISMHg/QCAkYPChskUlYPB+gEBIwOBDZYtKwOD9AIGQgMGHyhaVgMH7AQIhAYMPlS0qAYP3AwRCAgYfKltUAgbvBwiEBAw+VLaoBAzeDxAICRh8qGxRCRi8HyAQEjD4UNmiEjB4P0AgJGDwobJFJWDwfoBASMDgQ2WLSsDg/QCBkIDBh8oWlYDB+wECIQGDD5UtKgGD9wMEQgIGHypbVAIG7wcIhAQMPlS2qAQM3g8QCAkYfKhsUQkYvB8gEBIw+FDZohIweD9AICRg8KGyRSVg8H6AQEjA4ENli0rA4P0AgZCAwYfKFpWAwfsBAiEBgw+VLSoBg/cDBEICBh8qW1QCBu8HCIQEDD5UtqgEDN4PEAgJGHyobFEJGLwfIBASMPhQ2aISMHg/QCAkYPChskUlYPB+gEBIwOBDZYtKwOD9AIGQgMGHyhaVgMH7AQIhAYMPlS0qAYP3AwRCAgYfKltUAgbvBwiEBAw+VLaoBAzeDxAICRh8qGxRCRi8HyAQEjD4UNmiEjB4P0AgJGDwobJFJWDwfoBASMDgQ2WLSsDg/QCBkIDBh8oWlYDB+wECIQGDD5UtKgGD9wMEQgIGHypbVAIG7wcIhAQMPlS2qAQM3g8QCAkYfKhsUQkYvB8gEBIw+FDZohIweD9AICRg8KGyRSVg8H6AQEjA4ENli0rA4P0AgZCAwYfKFpWAwfsBAiEBgw+VLSoBg/cDBEICBh8qW1QCBu8HCIQEDD5UtqgEDN4PEAgJGHyobFEJGLwfIBASMPhQ2aISMHg/QCAkYPChskUlYPB+gEBIwOBDZYtKwOD9AIGQgMGHyhaVgMH7AQIhAYMPlS0qAYP3AwRCAgYfKltUAgbvBwiEBAw+VLaoBB7KVAD9H0Po4wAAAABJRU5ErkJggg==</pentrails><costumes><list struct="atomic" id="279"></list></costumes><sounds><list struct="atomic" id="280"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="Misc AI" idx="1" x="0.5086567164175904" y="-0.5086567164179314" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="103.275,0,206.55,1" pen="tip" id="285"><costumes><list struct="atomic" id="286"></list></costumes><sounds><list struct="atomic" id="287"></list></sounds><blocks></blocks><variables></variables><scripts><script x="40.428571428571445" y="10"><custom-block s="Open help page"><comment w="265" collapsed="true">CLICK THIS TO OPEN THE HELP PAGE</comment></custom-block></script><comment x="27.428571428571416" y="60" w="251" collapsed="true">Style transfer using deep learning models</comment><script x="44.428571428571445" y="96"><custom-block s="Create costume in style %txt from %obj %br then %cs"><l>Pablo Picasso&apos;s La Muse</l><block s="reportVideo"><l><option>snap</option></l><l>Stage</l></block><block s="reifyScript"><script><block s="doSwitchToCostume"><block var="costume"/></block></script><list><l>costume</l></list></block><comment w="300" collapsed="false">Apply the style to a costume and switch to the new costume.&#xD;Note the first time this runs it may not have a photo to work with.</comment></custom-block></script><comment x="25.428571428571445" y="189" w="279" collapsed="true">Embedding images in a 1280-dimensional space.</comment><script x="53.85714285714289" y="517.4285714285714"><custom-block s="Ask Wikipedia about %txt %br then %cmdRing with list of matches %br but if error %cmdRing with error message"><l>Snap programming</l><block s="reifyScript"><script><block s="doThink"><block var="matching responses"/></block></script><list><l>matching responses</l></list></block><block s="reifyScript"><script><block s="bubble"><block var="error message"/></block></script><list><l>error message</l></list></block><comment w="195.14285714285734" collapsed="false">Sends a query to Wikipedia and reports all the responses.</comment></custom-block></script><comment x="24.285714285714278" y="483" w="251" collapsed="true">Acessing data for use by conversational agent.</comment><script x="30" y="653.5714285714286"><block s="receiveGo"></block><custom-block s="Set presentation mode to %b"><l><bool>false</bool></l><comment w="178" collapsed="true">Make sure we are in edit mode.</comment></custom-block></script><comment x="31.85714285714286" y="783.8571428571427" w="470.8974609375" collapsed="true">This work is licensed under NEW BSD - http://opensource.org/licenses/BSD-3-Clause</comment><script x="47.285714285714306" y="231.28571428571433"><custom-block s="get costume features of %obj then %cs"><block s="reportVideo"><l><option>snap</option></l><l>Stage</l></block><block s="reifyScript"><script><block s="doWait"><l>2</l></block><custom-block s="get costume features of %obj then %cs"><block s="reportVideo"><l><option>snap</option></l><l>Stage</l></block><block s="reifyScript"><script><block s="doThink"><custom-block s="Euclidean distance between %l and %l using JavaScript"><block var="features 1"/><block var="features 2"/></custom-block></block></script><list><l>features 2</l></list></block></custom-block></script><list><l>features 1</l></list></block><comment w="255.71428571428564" collapsed="false">Generates a vector of 1280 numbers for any costume. Here you can see the semantic distance between two photos. Click and then try moving very little. Click again and move much more.</comment></custom-block></script><script x="48.71428571428575" y="415.5952380952381"><block s="reportMonadic"><l><option>acos</option></l><custom-block s="cosine similarity %l %l JavaScript version"><block var="features 1"/><block var="features 2"/></custom-block><comment w="273.5714285714286" collapsed="false">Try using this alternative way to measure similarity above instead of &apos;Euclidean distance&apos;. This approximates the difference in &quot;direction&quot; between the inputs.</comment></block></script></scripts></sprite><watcher s="xPosition" style="normal" x="0" y="129.3767760762462" color="74,108,212" hidden="true"/><watcher s="yPosition" style="normal" x="-8.909734937818484" y="267.4776676124411" color="74,108,212" hidden="true"/><watcher scope="Stage" s="reportMouseX" style="normal" x="44.54867468909856" y="44.54867468909487" color="4,148,220" hidden="true"/><watcher scope="Stage" s="reportMouseY" style="normal" x="44.54867468909856" y="168.39399923451379" color="4,148,220" hidden="true"/><watcher var="model name" style="normal" x="13.934399291267027" y="13.934399291266637" color="243,118,29" hidden="true"/><watcher var="best parameters" style="normal" x="13.934399291267027" y="43.196640589806236" color="243,118,29" hidden="true"/></sprites></stage><variables></variables></scene></scenes></project>