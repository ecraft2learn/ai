<project name="recognize new photo" app="Snap! 5.0, http://snap.berkeley.edu" version="1"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAADpUlEQVR4Xu3ZSUodDRiF4S/YTeymDhRBxQY7bEFB1L0I7sG5K9CxE7fibkQFdaAgN1RBCAl/+I3EHEg9grPrPfjWY1lV90uv1+uVLwVCBb4AGCpvti0AIAjRAgBG8xsHkIFoAQCj+Y0DyEC0AIDR/MYBZCBaAMBofuMAMhAtAGA0v3EAGYgWADCa3ziADEQLABjNbxxABqIFAIzmNw4gA9ECAEbzGweQgWgBAKP5jQPIQLQAgNH8xgFkIFoAwGh+4wAyEC0AYDS/cQAZiBYAMJrfOIAMRAsAGM1vHEAGogUAjOY3DiAD0QIARvMbB5CBaAEAo/mNA8hAtACA0fzGAWQgWgDAaH7jADIQLQBgNL9xABmIFgAwmt84gAxECwAYzW8cQAaiBQCM5jcOIAPRAgBG8xsHkIFoAQCj+Y13DuDFxUVNTU3VwcFBjY+PExAu0DmANzc3dXZ2Vr1erxYXF2thYaE2NzdrZ2enhoaGwoeje/OdA9gc4uvr67q6uqrR0dH2iD89PbUg19fXa3Z2tvb392tlZaV7GgK/cScBNp3Pz8+rORsODg7+kL2B+PDwUCMjI7WxsVEzMzN1dHRUk5OTgcPz7092FuDb21udnJzU7e1t9fX1/fJIN6+7u7trrxvX1tZqfn6+Dg8PXT/+ob+NzgJs+t3f39fp6Wm9vr6+O+fLy0s9Pj7W0tJSi7G5dtzd3a2BgYF3v4cXfi8A4AcAPj8/1+rqas3NzdX29nb73d/fz9UHCnQW4O/8C27OlNPT0y265q65uSYcHh7+QG4/8nOBzgL8v5uQsbGx9iakuSs+Pj6uiYkJej6hQCcB/uoxzDdwe3t7tby8/Am5vWXnz4DfHkQ3IZoH0c2NxNbWVnsz8fMjGVw+v0DnzoCXl5ftMz0fxX0+rvcsdA7ge6J4zd8rAODfa23pPwoAiEW0AIDR/MYBZCBaAMBofuMAMhAtAGA0v3EAGYgWADCa3ziADEQLABjNbxxABqIFAIzmNw4gA9ECAEbzGweQgWgBAKP5jQPIQLQAgNH8xgFkIFoAwGh+4wAyEC0AYDS/cQAZiBYAMJrfOIAMRAsAGM1vHEAGogUAjOY3DiAD0QIARvMbB5CBaAEAo/mNA8hAtACA0fzGAWQgWgDAaH7jADIQLQBgNL9xABmIFgAwmt84gAxECwAYzW8cQAaiBQCM5jcOIAPRAgBG8xsHkIFoAQCj+Y0DyEC0AIDR/MYBZCBaAMBofuNfATi3X7deWkH9AAAAAElFTkSuQmCC</thumbnail><stage name="Stage" width="240" height="180" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" volume="100" pan="0" lines="round" ternary="true" codify="false" inheritance="true" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAC0CAYAAACqnKHoAAAEXElEQVR4Xu3TAQ0AAAgCQelf2hy/nQnYITtHgEBWYNnkghMgcAbsCQiEBQw4XJ7oBAzYDxAICxhwuDzRCRiwHyAQFjDgcHmiEzBgP0AgLGDA4fJEJ2DAfoBAWMCAw+WJTsCA/QCBsIABh8sTnYAB+wECYQEDDpcnOgED9gMEwgIGHC5PdAIG7AcIhAUMOFye6AQM2A8QCAsYcLg80QkYsB8gEBYw4HB5ohMwYD9AICxgwOHyRCdgwH6AQFjAgMPliU7AgP0AgbCAAYfLE52AAfsBAmEBAw6XJzoBA/YDBMICBhwuT3QCBuwHCIQFDDhcnugEDNgPEAgLGHC4PNEJGLAfIBAWMOBweaITMGA/QCAsYMDh8kQnYMB+gEBYwIDD5YlOwID9AIGwgAGHyxOdgAH7AQJhAQMOlyc6AQP2AwTCAgYcLk90AgbsBwiEBQw4XJ7oBAzYDxAICxhwuDzRCRiwHyAQFjDgcHmiEzBgP0AgLGDA4fJEJ2DAfoBAWMCAw+WJTsCA/QCBsIABh8sTnYAB+wECYQEDDpcnOgED9gMEwgIGHC5PdAIG7AcIhAUMOFye6AQM2A8QCAsYcLg80QkYsB8gEBYw4HB5ohMwYD9AICxgwOHyRCdgwH6AQFjAgMPliU7AgP0AgbCAAYfLE52AAfsBAmEBAw6XJzoBA/YDBMICBhwuT3QCBuwHCIQFDDhcnugEDNgPEAgLGHC4PNEJGLAfIBAWMOBweaITMGA/QCAsYMDh8kQnYMB+gEBYwIDD5YlOwID9AIGwgAGHyxOdgAH7AQJhAQMOlyc6AQP2AwTCAgYcLk90AgbsBwiEBQw4XJ7oBAzYDxAICxhwuDzRCRiwHyAQFjDgcHmiEzBgP0AgLGDA4fJEJ2DAfoBAWMCAw+WJTsCA/QCBsIABh8sTnYAB+wECYQEDDpcnOgED9gMEwgIGHC5PdAIG7AcIhAUMOFye6AQM2A8QCAsYcLg80QkYsB8gEBYw4HB5ohMwYD9AICxgwOHyRCdgwH6AQFjAgMPliU7AgP0AgbCAAYfLE52AAfsBAmEBAw6XJzoBA/YDBMICBhwuT3QCBuwHCIQFDDhcnugEDNgPEAgLGHC4PNEJGLAfIBAWMOBweaITMGA/QCAsYMDh8kQnYMB+gEBYwIDD5YlOwID9AIGwgAGHyxOdgAH7AQJhAQMOlyc6AQP2AwTCAgYcLk90AgbsBwiEBQw4XJ7oBAzYDxAICxhwuDzRCRiwHyAQFjDgcHmiEzBgP0AgLGDA4fJEJ2DAfoBAWMCAw+WJTsCA/QCBsIABh8sTnYAB+wECYQEDDpcnOgED9gMEwgIGHC5PdAIG7AcIhAUMOFye6AQM2A8QCAsYcLg80QkYsB8gEBYw4HB5ohMwYD9AICxgwOHyRCdgwH6AQFjAgMPliU7AgP0AgbCAAYfLE52AAfsBAmEBAw6XJzoBA/YDBMICBhwuT3QCBuwHCIQFDDhcnugEHpD1ALUzgduwAAAAAElFTkSuQmCC</pentrails><costumes><list struct="atomic" id="2"></list></costumes><sounds><list struct="atomic" id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><sprite name="Sprite" idx="1" x="0" y="0" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="8"><costumes><list struct="atomic" id="9"></list></costumes><sounds><list struct="atomic" id="10"></list></sounds><blocks></blocks><variables></variables><scripts><script x="25" y="15"><custom-block s="Recognize new photo %s"><l></l></custom-block></script><script x="27" y="53"><custom-block s="labels from %txt"><l></l></custom-block></script><script x="28" y="93"><custom-block s="scores from %txt"><l></l></custom-block></script><script x="29" y="136.99999999999997"><custom-block s="Microsoft first caption"></custom-block></script><script x="29" y="178"><custom-block s="Current image property from %txt %br with %mult%txt property names"><l></l><list><l></l></list></custom-block></script><script x="32" y="232"><custom-block s="Open this in a new tab"></custom-block></script></scripts></sprite></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Recognize new photo %&apos;cloud provider&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="275" collapsed="false">Takes a photo and ask the cloud provider to recognize it.&#xD;Reports the response when it arrives.</comment><header></header><code></code><translations></translations><inputs><input type="%s"><options>Google&#xD;Microsoft&#xD;IBM Watson</options></input></inputs><script><block s="doDeclareVariables"><list><l>response</l></list></block><block s="doSetVar"><l>response</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Ask %txt to analyse costume %obj then %cmdRing"><block var="cloud provider"/><custom-block s="costume from camera"></custom-block><block s="reifyScript"><script><block s="doSetVar"><l>response</l><l></l></block></script><list></list></block></custom-block><block s="doWaitUntil"><block s="reportNot"><block s="reportEquals"><block var="response"/><block s="reportBoolean"><l><bool>false</bool></l></block></block></block></block><block s="doReport"><block var="response"/></block></script></block-definition><block-definition s="Current image property from %&apos;cloud provider&apos; $nl with %&apos;property name or names&apos; property names" type="reporter" category="sensing"><comment x="0" y="0" w="344" collapsed="false">Reports a property of the most recent recognition by the AI cloud provider.&#xD;Visit tinyurl.com/vision-snap to learn more.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Google&#xD;Microsoft&#xD;IBM Watson</options></input><input type="%mult%txt"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>image_property</l><list><block var="cloud provider"/><block var="property name or names"/></list></custom-block></block></script></block-definition><block-definition s="IBM Watson label scores" type="reporter" category="sensing"><comment x="0" y="0" w="390" collapsed="true">Reports the confidence scores for the list reported by &apos;IBM Watson classes&apos;.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt %br with %mult%txt property names"><l>IBM Watson</l><list><l></l></list></custom-block></block></script></block-definition><block-definition s="IBM Watson classes" type="reporter" category="sensing"><comment x="0" y="0" w="331" collapsed="false">Reports a list of tags from IBM Watson from the last time it was asked to recognize an image.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt %br with %mult%txt property names"><l>IBM Watson</l><list><l></l></list></custom-block></block></script></block-definition><block-definition s="Microsoft first caption" type="reporter" category="sensing"><comment x="0" y="0" w="403" collapsed="true">Reports the best caption from the last image recognition that Microsoft did.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>captions</l></list></block><block s="doSetVar"><l>captions</l><custom-block s="Current image property from %txt %br with %mult%txt property names"><l>Microsoft</l><list><l>description</l><l>captions</l><l>text</l></list></custom-block></block><block s="doIf"><block s="reportIsA"><block var="captions"/><l><option>list</option></l></block><script><block s="doReport"><block s="reportListItem"><l>1</l><block var="captions"/></block></block></script></block><block s="doReport"><block var="captions"/></block></script></block-definition><block-definition s="Google labels" type="reporter" category="sensing"><comment x="0" y="0" w="324" collapsed="true">Reports the tags from the last image recognition by Google.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt %br with %mult%txt property names"><l>Google</l><list><l>labelAnnotations</l><l>description</l></list></custom-block></block></script></block-definition><block-definition s="Google label scores" type="reporter" category="sensing"><comment x="0" y="0" w="297" collapsed="false">Reports the confidence scores of the &apos;Google labels&apos; &#xD;from the last image recognition by Google.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt %br with %mult%txt property names"><l>Google</l><list><l>labelAnnotations</l><l>score</l></list></custom-block></block></script></block-definition><block-definition s="Microsoft labels" type="reporter" category="sensing"><comment x="0" y="0" w="334" collapsed="true">Reports the tags of the last image recognition by Microsoft.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt %br with %mult%txt property names"><l>Microsoft</l><list><l>description</l><l>tags</l></list></custom-block></block></script></block-definition><block-definition s="labels from %&apos;provider&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="522" collapsed="true">Reports the labels describing the most recent image recognised by the specified vision service provider.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Google&#xD;Microsoft&#xD;Watson</options></input></inputs><script><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Google</l></block><script><block s="doReport"><custom-block s="Google labels"></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Microsoft</l></block><script><block s="doReport"><custom-block s="Microsoft labels"></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Watson</l></block><script><block s="doReport"><custom-block s="IBM Watson classes"></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="provider"/><l></l></block><script><block s="doReport"><l>No vision provider given.</l></block></script></block><block s="doReport"><block s="reportJoinWords"><list><l>Unable to recognise vision provider: </l><block var="provider"/></list></block></block></script></block-definition><block-definition s="scores from %&apos;provider&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="576" collapsed="true">Reports the confidence scores for each of the labels described in the vision service provider&apos;s most recent response.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Google&#xD;Microsoft&#xD;Watson</options></input></inputs><script><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Google</l></block><script><block s="doReport"><custom-block s="Google label scores"></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Microsoft</l></block><script><block s="doReport"><custom-block s="Microsoft label scores"></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Watson</l></block><script><block s="doReport"><custom-block s="IBM Watson label scores"></custom-block></block></script></block></script></block-definition><block-definition s="Microsoft label scores" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt %br with %mult%txt property names"><l>Microsoft</l><list><l>tags</l><l>confidence</l></list></custom-block></block></script></block-definition><block-definition s="Setup camera %&apos;width&apos; %&apos;height&apos; then when ready %&apos;do when camera is ready&apos;" type="command" category="other"><comment x="0" y="0" w="314" collapsed="true">Specifies the resolution of the image sent for recogntion.</comment><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input><input type="%cs"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>setup_camera</l><list><block var="width"/><block var="height"/><block var="do when camera is ready"/></list></custom-block></script></block-definition><block-definition s="Load eCraft2Learn library" type="command" category="other"><comment x="0" y="0" w="248.57142857142858" collapsed="true">Returns only after eCraft2Learn library is loaded</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doWaitUntil"><custom-block s="Try to load ecraft2learn library"></custom-block></block></script></block-definition><block-definition s="Try to load ecraft2learn library" type="reporter" category="other"><comment x="0" y="0" w="323.5714285714286" collapsed="true">Should only be called by Load eCraft2Learn library</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;   return true;&#xD;}&#xD;if (window.waiting_for_ecraft2learn_library) {&#xD;   return false;&#xD;}&#xD;window.waiting_for_ecraft2learn_library = true;&#xD;let script = document.createElement("script");&#xD;script.type = "text/javascript";&#xD;if (window.location.hostname === &apos;localhost&apos;) {&#xD;    script.src = window.location.protocol + "//" + window.location.host + "/ai/ecraft2learn-beta.js"; // notice this the beta version&#xD;} else {&#xD;    script.src = "https://ecraft2learn.github.io/ai/ecraft2learn.js";&#xD;}&#xD;document.head.appendChild(script);&#xD;return false;</l></block><list></list></block></block></script></block-definition><block-definition s="call eCraft2Learn reporter %&apos;reporter name&apos; with %&apos;inputs&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>function_name</l><l>parameters</l><l>no_warning</l></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;    return ecraft2learn.run(function_name, parameters);&#xD;}&#xD;if (!no_warning) {&#xD;    alert("Any eCraft2Learn command must be run before the " + function_name + " reporter.");&#xD;}&#xD;return 0;</l></block><list><block var="reporter name"/><block var="inputs"/></list></block></block></script></block-definition><block-definition s="camera is ready %&apos;width&apos; %&apos;height&apos; dimensions" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input></inputs><script><custom-block s="let %upvar be %s"><l>camera ready</l><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><custom-block s="Setup camera %n %n then when ready %cs"><block var="width"/><block var="height"/><script><block s="doSetVar"><l>camera ready</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></custom-block><block s="doWaitUntil"><block var="camera ready"/></block><block s="doWait"><l>1</l><comment w="329.28571428571433" collapsed="true">Wait a bit more because otherwise a black image is captured.</comment></block><block s="doReport"><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></block-definition><block-definition s="costume from camera" type="reporter" category="looks"><comment x="0" y="0" w="207.14285714285717" collapsed="true">Reports a costume using the camera.</comment><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doWaitUntil"><custom-block s="camera is ready %n %n dimensions"><l></l><l></l></custom-block></block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>costume_from_camera</l><list></list></custom-block></block></script></block-definition><block-definition s="let %&apos;var&apos; be %&apos;value&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%s"></input></inputs><script><block s="doSetVar"><l>var</l><block var="value"/></block></script></block-definition><block-definition s="Ask %&apos;cloud provider&apos; to analyse costume %&apos;costume&apos; then %&apos;receive response&apos;" type="command" category="sensing"><comment x="0" y="0" w="235.00000000000003" collapsed="false">Sends the pixels of the costume to one of the vision recognition service providers and then runs the provided blocks with the respnse.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Google&#xD;Microsoft&#xD;IBM Watson</options></input><input type="%obj"></input><input type="%cmdRing"></input></inputs><script><block s="doWaitUntil"><custom-block s="camera is ready %n %n dimensions"><l>640</l><l>480</l></custom-block></block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>take_picture_and_analyse</l><list><block var="cloud provider"/><block var="costume"/><block var="receive response"/></list></custom-block></script></block-definition><block-definition s="Open this in a new tab" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>re_open_full_window</l><list></list></custom-block></script></block-definition><block-definition s="run eCraft2Learn command %&apos;command name&apos; with %&apos;inputs&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>function_name</l><l>parameters</l></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;    ecraft2learn.run(function_name, parameters);&#xD;} else {&#xD;   var script = document.createElement("script");&#xD;   script.type = "text/javascript";&#xD;   script.addEventListener(&apos;error&apos;, function () {&#xD;          alert("Unable to load https://ecraft2learn.github.io/ai/ecraft2learn.js. Check your network connection.");&#xD;   });&#xD;   script.src = "https://ecraft2learn.github.io/ai/ecraft2learn.js";&#xD;   script.addEventListener(&apos;load&apos;, function () {&#xD;          ecraft2learn.run(function_name, parameters);&#xD;   });&#xD;   document.head.appendChild(script);&#xD;}&#xD;</l></block><list><block var="command name"/><block var="inputs"/></list></block></script></block-definition></blocks><variables></variables></project>