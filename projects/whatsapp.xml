<project name="whatsapp" app="Snap! 6, https://snap.berkeley.edu" version="1"><notes></notes><thumbnail>data:image/png;base64,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</thumbnail><stage name="Stage" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAOhUlEQVR4Xu3VwQkAAAjEMN1/abewn7jAQRC64wgQIECAAIF3gX1fNEiAAAECBAiMAHsCAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQIHLFxAWmhEwHPAAAAAElFTkSuQmCC</pentrails><costumes><list struct="atomic" id="2"></list></costumes><sounds><list struct="atomic" id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><sprite name="Annotate" idx="3" x="113" y="-142.3351955307262" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="1" color="183.60000000000016,0,229.5,1" pen="tip" id="8"><costumes><list id="9"><item><costume name="annotate" center-x="118.5" center-y="30.5" image="data:image/png;base64,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" id="10"/></item></list></costumes><sounds><list struct="atomic" id="11"></list></sounds><blocks></blocks><variables></variables><scripts><script x="27.857142857142858" y="7.142857142857143"><block s="receiveInteraction"><l><option>clicked</option></l></block><block s="doTellTo"><l>Main</l><block s="reifyScript"><script><custom-block s="Annotate spreadsheet"></custom-block></script><list></list></block><list></list></block></script><script x="50.999999999999986" y="147.9047619047619"><custom-block s="Update rows %l"><block s="reportCDR"><custom-block s="Get global variable value %txt"><block var="spreadsheet name"/></custom-block></block></custom-block></script></scripts></sprite><sprite name="Train" idx="2" x="149.99999999999955" y="147.66480446927375" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="1" color="91.69799999999998,147.89999999999998,0,1" pen="tip" id="34"><costumes><list id="35"><item><costume name="train" center-x="81" center-y="32" image="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKIAAABACAYAAACZfqySAAAFxklEQVR4Xu2dP2zbRhTGv2z2Vo5xA8cmoCUZuxjVkEKDgU7dAnhw0AyGh84ZksAwgsL2kDlDkKFBasBAtk4FPAgNDBVaOqaLAdpQVWlkN2lzQSmyKZp3945/JFL8PHk4vrv33u/e3Xt3Iu9cXV1dgX+0wJwtcCdPEP/797c5q8fus7bAV1//kLXIkbxMQCRwufimVELTApoIRIJXKkbmMlhbMK1AJIBz8WnpO5VAKQKRAJaehUIooANSC2JaACUzoRAW4iDEFsiLCSWINh0SOLEfF7ahDS+BEaLMxIIoEUr4Fpap1IpJ+InCeAtEkxACmNpPlRKg4ynMkhhEAlgpfjJVVgLjFIiqBwhhpn6prLA4viZsGUEkhJXlJnPFCWLmJqXAJBYgiEmsxmcyt0CuILZe/4WXzczHLBZYe/oQ7x4viduXtaHIzu4KPry5i9WCKkkQC+oYm2ERRMP9M5GBbCxu2ZYRMWQwRkRLejJsThAJ4sgCjIgZziqNKJGdGRFn44y4XhgRGREZEec3/0rZM7PmUrpt8QadK4hycw1x8tNnvPUETzRc/PHMETTMoEl3iNaJh/fNAc6/iKu5DhrbK6hvLBlqckO02j46ZwM0L4cABjhX6Fdzl0fS19eWsH7fQf1bB6v3Mhh/jiI6XR+tkz6al1G9llFrOPhxy0H9nryGWy0Qu33s7PSuoYr102RTb2rrOth97mIrCkzXx+GRh1PJpNKBopIf80yqZMWkZ9BfONGx0c91cPDGRV0wIQhi1Egjoy/h+HsPp1oDOjj4fdrInY9/48kvA4HZ5U0kCdfMQGx72Hnl6yfyLdVu2ylOe4IYA+LuWg9vDUeTUUDygHAytM39b/BiQw3vTEDcHuDJK18+g8ItBaUjgpjItJFZ3vbwXVInifrXR5XcQRSNUd/INJkIYhIjTyVMFolWkr4mSZLmAkcZQIQhySSI1nAsY/fdg5skRbLZH/URZJN3sbc1nRF3un0c7/QM+9FIwhAZcylANCzPBNGQuR48d1H/khl32n20Og62wlfLhMuydmkSyVAvz7MEsfbUxd5jZ1y66vo4OfJkZTfotxcEUQmiLNsbPz5Epxs4ZoB/gv/PBrjAEBeXALwBzk2bdVFUjUTi0LhnBWJ8Bu/j0FhhGK8IUytJxO4EUQGipGxivarfemCI1sce3n/ylcXum0fmDWLKiEwQQ94XRR7z7E0OYBA5B2j96aMpgi/c05xB1CQbstIVI+KNN6UgmpZSKYnBEWHXx6czHxehY0Lp49Pt5guidoUQ7XEJoj2IKc6zg4Tm+Fcfp162Jyy6PdYs9ogEMRo+UkACaURM0McYwF76M2ZluGREHJlGl9UkW2rCT1kUhRNAct2TEETbREW2R4qxUnCx4VFw22aIn02XMTSbfUbEzF7eXWIQhXCPMVRckRLJYERkRNSEfFE0ArC5/xAvNhT38wiidsWd4btvyhoRZcVc41KfMusUTQZVJUA0CQAmK3NIVozgTMYkdKL+5ol0EnJp5tKsWpqFIKrBHqL12sPLpqTUQxAJYkoQgyRlc98N7RGH6LR9y3IPQSSIymRFtkdMX97SHztyj8jyzUzfZqHaaxJEggjxaY0uLDZcfLjfN/7wiiDyZEW/uib6ddtYZK3hYu+Zg1VJCUdxqsSIyIg4daHi8MjirDk43ttewdZ1kVtSxolPWAhiZiBms50vghT1GxCA4I0O62sOHlm+BaEIeuU9hoLc0M5bTcovugUIYtE9VJHxEcSKOLroahLEonuoIuNLBWJgI359qiKk5Kim6fN64o9CEsgcvbTgoq0/CjmxBz+Vu+BkzEg9G44Sfzh8oguX7Rl5tSTdmOBTcRMLYtBYKjBqH4JZEmIyGGaWjChBlC7TGehDERWygCpQGUEkkBWiJEdVTSulGEQCmaOXFli0CcCJ6tYghm2WdI+wwHavvGpS8KKGSgViVBjBrB6HScGLWup/EreVm95DjDwAAAAASUVORK5CYII=" id="36"/></item></list></costumes><sounds><list struct="atomic" id="37"></list></sounds><blocks></blocks><variables></variables><scripts><script x="29.28571428571429" y="7.16666666666762"><block s="receiveInteraction"><l><option>clicked</option></l></block><block s="doTellTo"><l>Main</l><block s="reifyScript"><script><custom-block s="Train using spreadsheet"></custom-block></script><list></list></block><list></list></block></script><script x="21.7142857142857" y="137.83333333333428"><custom-block s="Train with spreadsheet %l"><custom-block s="Get global variable value %txt"><block var="spreadsheet name"/></custom-block></custom-block></script><script x="23.142857142857128" y="210.6904761904772"><custom-block s="Collect data %l then start training"><block s="reportCDR"><custom-block s="Get global variable value %txt"><block var="spreadsheet name"/></custom-block></block></custom-block></script><script x="377.42857142857144" y="510.5714285714294"><custom-block s="Create model and data with first category %b %br %br ignore sender role %b and then %cmdRing"><block var="primary category"/><l><bool>false</bool></l><block s="reifyScript"><script><custom-block s="Train model named %txt %n times %br unless no progress for %n cycles %br with learning rate %n %br and shuffle the data %b %br and use %n of the data for validation %br then when completed %cmdRing %br or if there is an error %cmdRing"><block var="model name"/><l>1000</l><l>100</l><l>.001</l><l><bool>true</bool></l><l>0</l><block s="reifyScript"><script><block s="bubble"><l>Training completed.To annotate a different spreadsheet click &apos;Annotate&apos;.</l></block></script><list></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><list></list></block></custom-block></script><script x="29.28571428571429" y="292.8571428571429"><custom-block s="Train using pre-loaded spreadsheet"></custom-block></script></scripts></sprite><sprite name="For development" idx="4" x="-213.64804469273713" y="43.31284916201116" heading="90" scale="0.01" volume="100" pan="0" rotation="0" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="97"><costumes><list struct="atomic" id="98"></list></costumes><sounds><list struct="atomic" id="99"></list></sounds><blocks></blocks><variables></variables><scripts><script x="355.14285714285705" y="7.142857142857143"><custom-block s="Open support panel %txt"><l>tensorflow.js</l></custom-block></script><script x="572.9999999999999" y="9.50000000000078"><block s="doSetVar"><l>primary category</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><script x="374.2857142857142" y="2413.4285714285757"><custom-block s="Evaluate guesses matching %b first categhory"><l><bool>false</bool></l></custom-block></script><script x="374.99999999999994" y="2457.6428571428582"><block s="doSetVar"><l>evaluation</l><l>Pending</l></block><custom-block s="Evaluate results for models with base model name %txt %br using rest of history %l with results so far %l %br and then do %cmdRing"><block var="model name"/><block var="history"/><block s="reportNewList"><list></list></block><block s="reifyScript"><script><block s="doSetVar"><l>evaluation</l><block s="reportCONS"><block s="reportConcatenatedLists"><list><block s="reportNewList"><list><l>primary category accuracy</l><l>all category accuracy</l><l>SE prediction percent</l><l>C&amp;I prediction percent</l><l>QA prediction percent</l></list></block><block s="reportTextSplit"><block s="reportListItem"><l>2</l><block s="reportListItem"><l>23</l><block s="reportListItem"><l>1</l><block var="history"/></block></block></block><l><option>csv</option></l></block></list></block><l/></block></block></script><list></list></block></custom-block></script><script x="381.71428571428567" y="2707.904761904757"><custom-block s="run tests with %txt with inputs %l %br and then %cmdRing"><block var="model name"/><block var="test input"/><block s="reifyScript"><script><custom-block s="let %upvar be %s"><l>correct and differences only first category</l><custom-block s="count matches %l and %l %br with indices %l %br only the first category %b"><block var="predictions"/><block var="test output"/><block var="test indices"/><l><bool>true</bool></l></custom-block></custom-block><block s="bubble"><block var="correct and differences only first category"/></block></script><list><l>predictions</l></list></block></custom-block></script><script x="384.2857142857142" y="2046.0571428572057"><custom-block s="Key-counts to percentages %l"><custom-block s="Create key-counts table %l with key column %n"><block var="train output"/><l>1</l></custom-block></custom-block></script><script x="398.99999999999994" y="2106.000000000007"><custom-block s="Get predictions from model(s) %txt with inputs %l %br then %cmdRing %br or if there is an error %cmdRing %br with categories %l"><block var="model name"/><block var="test input"/><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><l/></custom-block></script><script x="798.5714285714287" y="92.02380952380996"><custom-block s="Reset everything"></custom-block></script><script x="550.7247488839286" y="2022.0809523810153"><block var="test output"/></script><script x="480.7142857142857" y="2017.1904761904832"><block var="outputs"/></script><script x="357.86760602678567" y="2016.3666666667295"><block var="validation output"/></script><script x="765.8571428571428" y="1823.9809523809683"><custom-block s="Balance training data"><comment w="217.14285714285717" collapsed="true">Not using. Class weights works better.</comment></custom-block></script><script x="385" y="2216.952380952386"><custom-block s="Create key-counts table %l with key column %n"><block var="train output"/><l>1</l></custom-block></script><script x="823.9002511160714" y="2171.7380952381027"><block var="content codes"/></script><script x="377.8571428571429" y="2862.333333333328"><custom-block s="Use dataset %txt"><l></l></custom-block><custom-block s="Create inputs and outputs in %l and %b keep sub-categories"><block var="data"/><l><bool>false</bool></l></custom-block><custom-block s="Create numerical inputs %br and then %cmdRing"><block s="reifyScript"><script><custom-block s="Split dataset %br training fraction: %n %br validation fraction: %n"><l>.6</l><l>.2</l></custom-block><custom-block s="Create model and data with first category %b %br %br ignore sender role %b and then %cmdRing"><block var="primary category"/><l><bool>false</bool></l><block s="reifyScript"><script><block s="bubble"><l>Training started</l></block><custom-block s="Train model named %txt %n times %br unless no progress for %n cycles %br with learning rate %n %br and shuffle the data %b %br and use %n of the data for validation %br then when completed %cmdRing %br or if there is an error %cmdRing"><block var="model name"/><l>300</l><l>100</l><l>.001</l><l><bool>true</bool></l><l>0</l><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><list></list></block></custom-block></script><list></list></block></custom-block></script><script x="384.99999999999994" y="3181.261904761899"><custom-block s="Use dataset %txt"><l>case study</l></custom-block><custom-block s="Create inputs and outputs in %l and %b keep sub-categories"><block var="data"/><l><bool>false</bool></l></custom-block><custom-block s="Create numerical inputs %br and then %cmdRing"><block s="reifyScript"><script><block s="doSetVar"><l>test input</l><block var="numerical inputs"/></block><block s="doSetVar"><l>test output</l><block var="outputs"/></block><block s="doSetVar"><l>test indices</l><block s="reportNumbers"><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="test input"/></block></block></block><block s="doSetVar"><l>model name</l><l>whatsapp all case study 3</l></block></script><list></list></block></custom-block></script><script x="386.4285714285714" y="3375.452380952362"><custom-block s="Use dataset %txt"><l>case study</l></custom-block><custom-block s="Create inputs and outputs in %l and %b keep sub-categories"><block var="data"/><l><bool>false</bool></l></custom-block><custom-block s="Create numerical inputs %br and then %cmdRing"><block s="reifyScript"><script><block s="doSetVar"><l>train input</l><block var="numerical inputs"/></block><block s="doSetVar"><l>train output</l><block var="outputs"/></block><block s="doSetVar"><l>train indices</l><block s="reportNumbers"><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="train input"/></block></block></block><block s="doSetVar"><l>validation input</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>validation output</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>model name</l><l>whatsapp all case study 3</l></block><custom-block s="Create model and data with first category %b %br %br ignore sender role %b and then %cmdRing"><block var="primary category"/><l><bool>false</bool></l><block s="reifyScript"><script><custom-block s="Train model named %txt %n times %br unless no progress for %n cycles %br with learning rate %n %br and shuffle the data %b %br and use %n of the data for validation %br then when completed %cmdRing %br or if there is an error %cmdRing"><block var="model name"/><l>1000</l><l>100</l><l>.001</l><l><bool>true</bool></l><l>.2</l><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><list></list></block></custom-block></script><list></list></block></custom-block></script><script x="540" y="55.404761904761216"><block s="doSetVar"><l>model name</l><block s="reportJoinWords"><list><block var="model name"/><l>_0</l></list></block></block></script><script x="814" y="153.71428571427458"><custom-block s="Create content codes"></custom-block></script><script x="862.5714285714286" y="120.59523809523856"><custom-block s="Combine case study and logistics"></custom-block></script><script x="1105.8681640625005" y="1435.2857142857233"><block var="test input"/></script><script x="597.5714285714286" y="1197.0714285714278"><block s="doSetVar"><l>Use weights for classes</l><block s="reportBoolean"><l><bool>false</bool></l></block></block></script><script x="69.57142857142856" y="1192.6666666666663"><block s="reportListItem"><l>1</l><block var="predictions compared"/></block></script><script x="510.7142857142857" y="347.595238095238"><custom-block s="Key-counts to percentages %l"><custom-block s="Create key-counts table %l with key column %n"><block var="outputs"/><l>1</l></custom-block></custom-block></script><script x="501.42857142857144" y="1530.2857142857129"><custom-block s="run tests with %txt with inputs %l %br and then %cmdRing"><block var="model name"/><block var="test input"/><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><script x="506.36509486607144" y="1620.4333333333586"><block s="doSetVar"><l>roles</l><block s="reportNewList"><list><l>Facilitator</l><l>Peer supervisor</l><l>CHW</l></list></block><comment w="298.57142857142867" collapsed="true">Group removed since only occurs as recipient role.</comment></block><block s="doSetVar"><l>files types</l><block s="reportNewList"><list><l>Text</l><l>Voice</l><l>Text and Emoji</l></list></block></block></script><script x="533.2857142857142" y="1699.4285714286038"><custom-block s="Compare one and multi category predictions"></custom-block></script><script x="500.4285714285714" y="1745.6047619048209"><custom-block s="Compute multi-category scores with model(s) %s"><block var="model name"/></custom-block></script><script x="452.85714285714283" y="1793.9285714285716"><custom-block s="Create model and data with first category %b %br %br ignore sender role %b and then %cmdRing"><l><bool>false</bool></l><l><bool>false</bool></l><block s="reifyScript"><script><custom-block s="Train model named %txt %n times %br unless no progress for %n cycles %br with learning rate %n %br and shuffle the data %b %br and use %n of the data for validation %br then when completed %cmdRing %br or if there is an error %cmdRing"><block var="model name"/><l>2000</l><l>500</l><l>.01</l><l><bool>true</bool></l><l>.2</l><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><list></list></block></custom-block></script><script x="495.4285714285714" y="1288.261904761939"><custom-block s="Predict categories with input %l with numerical input %l with output %l %br and then %cmdRing"><l/><l/><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><block s="reifyScript"><script></script><list></list></block></custom-block></script><script x="515" y="1421.7857142857133"><block s="reportListItem"><block s="reportNumbers"><block s="reportSum"><block var="number of category columns"/><l>1</l></block><block s="reportSum"><block var="number of category columns"/><block s="reportListAttribute"><l><option>length</option></l><block var="content codes"/></block></block></block><block s="reportListItem"><l>1</l><block var="predictions compared"/></block></block></script><script x="192.85714285714286" y="45.95238095238084"><block s="doSetVar"><l>model name</l><l>Case-study_1</l></block></script><script x="72.85714285714286" y="157.45238095238093"><custom-block s="Run and evaluate models with ensemble threshold %n with voting threshold %n"><l>0.4</l><l>0</l></custom-block></script><script x="65.71428571428572" y="112.61904761904762"><custom-block s="Train using pre-loaded spreadsheet"></custom-block></script></scripts></sprite><sprite name="Main" idx="1" x="-58" y="47.66480446927369" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="1" color="0,119.59499999999997,170.85000000000002,1" pen="tip" id="490"><costumes><list id="491"><item><costume name="simple face" center-x="34" center-y="44.5" image="data:image/png;base64,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" id="492"/></item></list></costumes><sounds><list struct="atomic" id="493"></list></sounds><blocks></blocks><variables></variables><scripts><script x="20.714285714285715" y="88.0952380952381"><block s="receiveGo"></block><block s="bubble"><block s="reportJoinWords"><list><l>You need two spreadsheets. </l><l> One to train the system how to annotate and the other to be annotated. </l><l>Note that this app will pause if this tab is not showing. Start by clicking on the &apos;Train&apos; button.</l></list></block></block></script><script x="23.571428571428573" y="223.4761904762293"><custom-block s="Default parameters"></custom-block></script><script x="25.714285714285715" y="281.42857142857144"><block s="doSetVar"><l>development mode</l><block s="reportBoolean"><l><bool>true</bool></l></block><comment w="291.42857142857144" collapsed="true">If ture also computes test inputs and outputs for analysis.</comment></block></script><script x="32.142857142857146" y="357.1428571428571"><custom-block s="Reset everything"><comment w="250.71428571428572" collapsed="true">Run before saving fresh versions of this project.</comment></custom-block></script></scripts></sprite><watcher var="files types" style="normal" x="0.8379487019801672" y="28.406460829536712" color="243,118,29" hidden="true"/><watcher var="outputs" style="normal" x="1.2569230529700235" y="1.843486976766556" color="243,118,29" hidden="true"/><watcher var="roles" style="normal" x="20.110768847523786" y="2.9495792633803006" color="243,118,29" hidden="true"/><watcher var="model name" style="normal" x="0" y="27.836655712190222" color="243,118,29" hidden="true"/><watcher var="numerical inputs" style="normal" x="1.173128182772416" y="18.786809730804833" color="243,118,29" hidden="true"/><watcher var="content codes" style="normal" x="22.24753803757153" y="2.8909227704468705" color="243,118,29" hidden="true"/><watcher var="best parameters" style="normal" x="1.4664102284657474" y="33.492809450556194" color="243,118,29" hidden="true"/><watcher var="test input" style="normal" x="2.2766908129265175" y="7.057741975412313" color="243,118,29" hidden="true"/><watcher var="train input" style="normal" x="2.2766908129265175" y="11.838793137897532" color="243,118,29" hidden="true"/><watcher var="train output" style="normal" x="2.2766908129265175" y="16.619844300382667" color="243,118,29" hidden="true"/><watcher var="validation output" style="normal" x="28.00329699900317" y="30.27999008862193" color="243,118,29" hidden="true"/><watcher var="test output" style="normal" x="11.360252120045516" y="3.629656028204039" color="243,118,29" hidden="true"/><watcher var="train indices" style="normal" x="2.320194459035065" y="77.07685946507209" color="243,118,29" hidden="true"/><watcher var="validation indices" style="normal" x="2.320194459035065" y="77.07685946507209" color="243,118,29" hidden="true"/><watcher var="test indices" style="normal" x="2.320194459035065" y="77.07685946507209" color="243,118,29" hidden="true"/><watcher var="content code keys" style="normal" x="4.849289077386629" y="4.889847987926757" color="243,118,29" hidden="true"/><watcher var="inputs" style="normal" x="1.173128182772416" y="39.23093573402568" color="243,118,29" hidden="true"/><watcher var="data" style="normal" x="3.826301833161324" y="3.826301833161189" color="243,118,29" hidden="true"/><watcher var="message key" style="normal" x="3.826301833161324" y="83.41338149343392" color="243,118,29" hidden="true"/><watcher var="index of primary content" style="normal" x="3.826301833161324" y="127.10974613235328" color="243,118,29" hidden="true"/><watcher var="primary category" style="normal" x="5.120701338059462" y="19.35625208200534" color="243,118,29" hidden="true"/><watcher var="one category predictions" style="normal" x="5.511068704637864" y="104.82052786442983" color="243,118,29" hidden="true"/><watcher var="all content codes" style="normal" x="3.942429816831691" y="87.5608325875001" color="243,118,29" hidden="true"/><watcher var="evaluation" style="normal" x="4.102083333333439" y="13.79791666666668" color="243,118,29" hidden="true"/><watcher var="validation input" style="normal" x="30.31857468099929" y="14.224975738800921" color="243,118,29" hidden="true"/><watcher var="multi-category predictions" style="normal" x="145.33426850371893" y="128.16915797435" color="243,118,29" hidden="true"/><watcher var="spreadsheet name" style="normal" x="7.458333333333485" y="247.7658318416668" color="243,118,29" hidden="true"/><watcher var="message column number" style="normal" x="7.458333333333485" y="247.7658318416668" color="243,118,29" hidden="true"/><watcher var="role column number" style="normal" x="7.458333333333485" y="247.7658318416668" color="243,118,29" hidden="true"/><watcher var="primary category column number" style="normal" x="7.458333333333485" y="247.7658318416668" color="243,118,29" hidden="true"/><watcher var="number of category columns" style="normal" x="7.458333333333485" y="247.7658318416668" color="243,118,29" hidden="true"/><watcher var="file type column number" style="normal" x="7.458333333333485" y="247.7658318416668" color="243,118,29" hidden="true"/><watcher var="confidence threshold" style="normal" x="7.458333333333485" y="247.7658318416668" color="243,118,29" hidden="true"/><watcher var="model loaded" style="normal" x="7.458333333333485" y="247.7658318416668" color="243,118,29" hidden="true"/><watcher var="multi-category" style="normal" x="212.71791626639197" y="106.24314733322211" color="243,118,29" hidden="true"/><watcher var="mode" style="normal" x="7.458333333333485" y="247.7658318416668" color="243,118,29" hidden="true"/><watcher var="development mode" style="normal" x="7.458333333333485" y="247.7658318416668" color="243,118,29" hidden="true"/><watcher var="temp" style="normal" x="6.883333333333439" y="76.16583184166674" color="243,118,29" hidden="true"/><watcher var="Use weights for classes" style="normal" x="10" y="138.20000200000004" color="243,118,29" hidden="true"/><watcher var="history" style="normal" x="202.33378967553745" y="57.96158768159955" color="243,118,29" hidden="true"/><watcher var="class frequencies" style="normal" x="245" y="143" color="243,118,29" hidden="true"/><watcher var="predictions compared" style="normal" x="227" y="178.200004" color="243,118,29" hidden="true"/><watcher var="threshold individual" style="normal" x="10" y="170.200004" color="243,118,29" hidden="true"/><watcher var="threshold ensemble" style="normal" x="10" y="198.000006" color="243,118,29" hidden="true"/><watcher var="predictions evaluated" style="normal" x="34" y="37.7999980000001" color="243,118,29" hidden="true"/><watcher var="number of models to train" style="normal" x="10" y="259.6000000000001" color="243,118,29" hidden="true"/><watcher var="number of lowest accuracy models to drop" style="normal" x="10" y="287.4000020000001" color="243,118,29" hidden="true"/><watcher var="model names" style="normal" x="293" y="74.79999800000007" color="243,118,29" hidden="true"/><watcher var="predicted true differences" style="normal" x="164.01624385127343" y="179.79999800000002" color="243,118,29" hidden="true"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition s="remove final number from %&apos;word&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><custom-block s="let %upvar be %s"><l>parts</l><block s="reportTextSplit"><block var="word"/><l> </l></block></custom-block><custom-block s="let %upvar be %s"><l>last part</l><block s="reportListItem"><l><option>last</option></l><block var="parts"/></block></custom-block><block s="doReport"><custom-block s="join each with space %l"><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportNot"><block s="reportIsA"><l></l><l><option>number</option></l></block></block></autolambda><list></list></block><block var="parts"/></block></custom-block></block></script></block-definition><block-definition s="Create numerical input from %&apos;input&apos; $nl and then %&apos;do&apos;" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%cmdRing"></input></inputs><script><block s="doIfElse"><block s="reportListIsEmpty"><block var="input"/></block><script><block s="doRun"><block var="do"/><list></list></block></script><script><block s="bubble"><block s="reportJoinWords"><list><block s="reportListAttribute"><l><option>length</option></l><block var="input"/></block><l> remaining.</l></list></block></block><custom-block s="let %upvar be %s"><l>row</l><block s="reportListItem"><l>1</l><block var="input"/></block></custom-block><custom-block s="get features of sentences %l %br then do with result %cmdRing"><block s="reportNewList"><list><block s="reportListItem"><l>2</l><block var="row"/></block></list></block><block s="reifyScript"><script><block s="doAddToList"><block s="reportConcatenatedLists"><list><custom-block s="one hot of %txt in %l"><block s="reportListItem"><l>1</l><block var="row"/></block><block var="roles"/></custom-block><block s="reportListItem"><l>1</l><block var="list of features list"/></block></list></block><block var="numerical inputs"/></block><custom-block s="Create numerical input from %l %br and then %cmdRing"><block s="reportCDR"><block var="input"/></block><block var="do"/></custom-block></script><list><l>list of features list</l></list></block></custom-block></script></block></script></block-definition><block-definition s="Content code counts $nl only the short category %&apos;only the short category&apos; $nl for all content code keys %&apos;all conent code keys&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%b">true</input><input type="%b">false</input></inputs><script><custom-block s="let %upvar be %s"><l>counts</l><block s="reportNewList"><list></list></block></custom-block><custom-block s="let %upvar be %s"><l>keys</l><custom-block s="if %b then %anyUE else %anyUE"><block var="all conent code keys"/><block var="content code keys"/><block s="reportListItem"><block s="reportNewList"><list><l>1</l></list></block><block var="content code keys"/></block></custom-block></custom-block><block s="doWarp"><script><block s="doForEach"><l>line</l><block var="data"/><script><block s="doIf"><block s="reportListContainsItem"><block var="files types"/><custom-block s="find %txt in %l"><l>fileType</l><block var="line"/></custom-block></block><script><custom-block s="for each %upvar of %l %cs"><l>key</l><block var="keys"/><script><custom-block s="let %upvar be %s"><l>category</l><block s="reportIfElse"><block var="only the short category"/><custom-block s="remove hypen and after from %txt"><custom-block s="find %txt in %l"><block var="key"/><block var="line"/></custom-block></custom-block><custom-block s="Trim text %txt"><custom-block s="find %txt in %l"><block var="key"/><block var="line"/></custom-block></custom-block></block></custom-block><block s="doIf"><block s="reportNot"><block s="reportEquals"><block var="category"/><l>NA</l></block></block><script><custom-block s="let %upvar be %s"><l>count entry</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block s="reportListItem"><l>1</l><l/></block><block var="category"/></block></autolambda><list></list></block><block var="counts"/></block></custom-block><block s="doIfElse"><block s="reportIsA"><block var="count entry"/><l><option>list</option></l></block><script><block s="doReplaceInList"><l>2</l><block var="count entry"/><block s="reportSum"><block s="reportListItem"><l>2</l><block var="count entry"/></block><l>1</l></block></block></script><script><block s="doAddToList"><block s="reportNewList"><list><block var="category"/><l>1</l></list></block><block var="counts"/></block></script></block></script></block></script></custom-block></script></block></script></block><block s="doReport"><custom-block s="sort %l ordering with %predRing"><block var="counts"/><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><block s="reportListItem"><l>2</l><l/></block><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block></custom-block></block></script></block></script></block-definition><block-definition s="Search for good neural net model parameters for %&apos;model name&apos; $nl perform %&apos;number of experiments&apos; experiments $nl where each experiment should run the same parameters %&apos;number of samples&apos; times $nl where at first run %&apos;training cycles&apos; training cycles $nl and when each experiment finishes do %&apos;do when a trial finishes&apos; $nl then process best parameters %&apos;do with best parameters&apos; $nl but if there is an error %&apos;process error&apos; $nl Varying these parameters: $nl optimization method %&apos;optimization method&apos; $nl loss function %&apos;loss function&apos; $nl activation function %&apos;activation function&apos; $nl shuffle data %&apos;shuffle data&apos; $nl number of training iterations %&apos;number of training iterations&apos; $nl validation split %&apos;validation split&apos; $nl dropout rate %&apos;dropout rate&apos; $nl number of layers %&apos;number of layers&apos; $nl loss weight %&apos;loss weight&apos; $nl accuracy weight %&apos;accuracy weight&apos; $nl duration weight %&apos;duration weight&apos; $nl size weight %&apos;size weight&apos; $nl variance weight %&apos;standard deviation weight&apos;" type="command" category="other"><comment x="0" y="0" w="280.7142857142857" collapsed="false">This searches for the best hyperparameters (learning rate, number of training cycles, loss function, optimazation method, and layers) that results in the most accurate model. It will run &apos;do when a trial finishes&apos; with the results of each experiment. Each experiment will average the results of &apos;number of samples&apos; runs with the same hyperparameters. After &apos;number of experiments&apos; it will run &apos;do with parameters&apos; with the best parameters found. The parameters can then be passed along to the &quot;Create and train a neural net named ... base upon ...&quot; block.&#xD;The named model must already exist and its training data (and optionally its validation data) already made available. It scores each experiment by adding the weighted values of the loss, accuracy, time to train, number of parameter, and degree of variability in the outcome scores.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%n">10</input><input type="%n">3</input><input type="%n">100</input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%n">10</input><input type="%n">10</input><input type="%n">1</input><input type="%n">2</input><input type="%n">3</input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>optimize_hyperparameters</l><list><block var="model name"/><block var="number of experiments"/><block var="training cycles"/><block var="do when a trial finishes"/><block var="do with best parameters"/><block var="process error"/><block s="reportNewList"><list><block var="optimization method"/><block var="loss function"/><block var="activation function"/><block var="shuffle data"/><block var="number of training iterations"/><block var="validation split"/><block var="dropout rate"/><block var="number of layers"/></list></block><block s="reportNewList"><list><block var="loss weight"/><block var="accuracy weight"/><block var="duration weight"/><block var="size weight"/><block var="standard deviation weight"/></list></block><block var="number of samples"/></list></custom-block></script></block-definition><block-definition s="Categorical prediction sorted with confidence percentages %&apos;prediction&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>sorted</l><custom-block s="sort %l ordering with %predRing"><block var="prediction"/><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><block s="reportListItem"><l>2</l><l/></block><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block></custom-block></custom-block><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportNewList"><list><block s="reportListItem"><l>1</l><l/></block><block s="reportRound"><block s="reportProduct"><l>100</l><block s="reportListItem"><l>2</l><l/></block></block></block></list></block></autolambda><list></list></block><block var="sorted"/></block></block></script></block-definition><block-definition s="count matches %&apos;predictions&apos; and %&apos;true&apos; $nl with indices %&apos;indices&apos; $nl only the first category %&apos;only the first category&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input><input type="%l"></input><input type="%b">false</input></inputs><script><block s="doWarp"><script><custom-block s="let %upvar be %s"><l>count</l><l>0</l></custom-block><custom-block s="let %upvar be %s"><l>differences</l><block s="reportNewList"><list></list></block></custom-block><custom-block s="let %upvar be %s"><l>header needed</l><block s="reportBoolean"><l><bool>true</bool></l></block></custom-block><custom-block s="let %upvar be %s"><l>multiple true values</l><block s="reportIsA"><block s="reportListItem"><l>1</l><block var="true"/></block><l><option>list</option></l></block></custom-block><custom-block s="for %upvar = %n to %n %cs"><l>i</l><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="predictions"/></block><script><custom-block s="let %upvar be %s"><l>prediction</l><block s="reportListItem"><block var="i"/><block var="predictions"/></block></custom-block><custom-block s="let %upvar be %s"><l>true answers</l><custom-block s="if %b then %anyUE else %anyUE"><block var="multiple true values"/><block s="reportListItem"><block var="i"/><block var="true"/></block><block s="reportNewList"><list><block s="reportListItem"><block var="i"/><block var="true"/></block></list></block></custom-block></custom-block><block s="doIfElse"><custom-block s="if %b then %anyUE else %anyUE"><block var="only the first category"/><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="true answers"/></block><block var="prediction"/></block><block s="reportListContainsItem"><block var="true answers"/><block var="prediction"/></block></custom-block><script><block s="doChangeVar"><l>count</l><l>1</l></block></script><script><block s="doIf"><block s="reportIsA"><block var="indices"/><l><option>list</option></l></block><script><block s="doIf"><block var="header needed"/><script><block s="doAddToList"><block s="reportConcatenatedLists"><list><block s="reportNewList"><list><l>Prediction</l></list></block><block s="reportListItem"><block s="reportNumbers"><block var="primary category column number"/><block s="reportDifference"><block s="reportSum"><block var="primary category column number"/><block var="number of category columns"/></block><l>1</l></block></block><block s="reportListItem"><l>1</l><custom-block s="Get global variable value %txt"><block var="spreadsheet name"/></custom-block></block></block><block s="reportNewList"><list><l>Sender category</l><l>Anonymised message</l></list></block></list></block><block var="differences"/></block><block s="doSetVar"><l>header needed</l><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block><custom-block s="let %upvar be %s"><l>original categories</l><block s="reportListItem"><block s="reportNumbers"><block s="reportSum"><block var="number of category columns"/><l>1</l></block><block s="reportProduct"><block var="number of category columns"/><l>2</l></block></block><block s="reportListItem"><block var="i"/><block var="true"/></block></block></custom-block><block s="doAddToList"><block s="reportConcatenatedLists"><list><block s="reportNewList"><list><block var="prediction"/></list></block><block var="original categories"/><block s="reportListItem"><block s="reportListItem"><block var="i"/><block var="indices"/></block><block var="inputs"/></block></list></block><block var="differences"/></block></script></block></script></block></script></custom-block><block s="doReport"><block s="reportNewList"><list><block var="count"/><block var="differences"/></list></block></block></script></block></script></block-definition><block-definition s="run tests with %&apos;model name&apos; with inputs %&apos;inputs&apos; $nl and then %&apos;process results&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Get predictions from model(s) %txt with inputs %l %br then %cmdRing %br or if there is an error %cmdRing %br with categories %l"><block var="model name"/><block var="inputs"/><block s="reifyScript"><script><custom-block s="let %upvar be %s"><l>sorted predictions</l><custom-block s="map %repRing over %l"><block s="reifyReporter"><autolambda><custom-block s="Categorical prediction sorted with confidence percentages %l"><l/></custom-block></autolambda><list></list></block><block var="test results"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>predicted labels</l><custom-block s="map %repRing over %l"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><l/></block></block></autolambda><list></list></block><block var="sorted predictions"/></custom-block></custom-block><block s="doRun"><block var="process results"/><list><block var="predicted labels"/></list></block></script><list><l>test results</l></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><block var="content codes"/></custom-block></script></block-definition><block-definition s="Balance training data" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="let %upvar be %s"><l>content codes counts</l><custom-block s="Create key-counts table %l with key column %n"><block var="train output"/><l>1</l></custom-block></custom-block><custom-block s="let %upvar be %s"><l>highest count</l><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="content codes counts"/></block></block></custom-block><custom-block s="let %upvar be %s"><l>duplication factors</l><custom-block s="map %repRing over %l"><block s="reifyReporter"><autolambda><block s="reportQuotient"><block var="highest count"/><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block><block var="content codes counts"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>new input</l><block s="reportNewList"><list></list></block></custom-block><custom-block s="let %upvar be %s"><l>new output</l><block s="reportNewList"><list></list></block></custom-block><custom-block s="for %upvar = %n to %n %cs"><l>i</l><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="train output"/></block><script><custom-block s="let %upvar be %s"><l>content code</l><block s="reportListItem"><l>1</l><block s="reportListItem"><block var="i"/><block var="train output"/></block></block></custom-block><custom-block s="let %upvar be %s"><l>input data</l><block s="reportListItem"><block var="i"/><block var="train input"/></block></custom-block><custom-block s="let %upvar be %s"><l>duplication factor</l><block s="reportListItem"><block s="reportListIndex"><block var="content code"/><block var="content codes"/></block><block var="duplication factors"/></block></custom-block><custom-block s="repeat %n times %cmdRing"><block var="duplication factor"/><block s="reifyScript"><script><block s="doAddToList"><block var="input data"/><block var="new input"/></block><block s="doAddToList"><block s="reportListItem"><block var="i"/><block var="train output"/></block><block var="new output"/></block></script><list></list></block></custom-block></script></custom-block><custom-block s="let %upvar be %s"><l>indices</l><block s="reportNumbers"><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="new input"/></block></block></custom-block><custom-block s="Shuffle %l"><block var="indices"/></custom-block><block s="doSetVar"><l>train input</l><block s="reportListItem"><block var="indices"/><block var="new input"/></block></block><block s="doSetVar"><l>train output</l><block s="reportListItem"><block var="indices"/><block var="new output"/></block></block><block s="doSetVar"><l>train indices</l><block var="indices"/></block></script></block-definition><block-definition s="repeat %&apos;x&apos; times %&apos;command&apos;" type="command" category="control"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%cmdRing"></input></inputs><script><custom-block s="let %upvar be %s"><l>integer part</l><block s="reportMonadic"><l><option>floor</option></l><block var="x"/></block></custom-block><custom-block s="let %upvar be %s"><l>fraction part</l><block s="reportDifference"><block var="x"/><block var="integer part"/></block></custom-block><block s="doRepeat"><block var="integer part"/><script><block s="doRun"><block var="command"/><list></list></block></script></block><block s="doIf"><block s="reportLessThan"><block s="reportRandom"><l>0</l><l>.9999</l></block><block var="fraction part"/></block><script><block s="doRun"><block var="command"/><list></list></block></script></block></script></block-definition><block-definition s="Create inputs and outputs" type="command" category="variables"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>inputs</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>outputs</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportNewList"><list></list></block></autolambda><list></list></block><block var="content code keys"/></block></block><block s="doWarp"><script><block s="doForEach"><l>line</l><block var="cleaned-case-study-group-v2"/><script><custom-block s="let %upvar be %s"><l>message</l><custom-block s="find %txt in %l"><l>anonymisedMessageWithPseudonymReplacementsAndRemovedImages</l><block var="line"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>primary content code</l><custom-block s="remove hypen and after from %txt"><custom-block s="find %txt in %l"><block s="reportListItem"><l>1</l><block var="content code keys"/></block><block var="line"/></custom-block></custom-block></custom-block><block s="doIf"><block s="reportAnd"><block s="reportListContainsItem"><block var="files types"/><custom-block s="find %txt in %l"><l>fileType</l><block var="line"/></custom-block></block><block s="reportAnd"><block s="reportListContainsItem"><block var="content codes"/><block var="primary content code"/></block><block s="reportNot"><block s="reportEquals"><block var="message"/><l>IMAGE </l></block></block></block><comment w="207.9557756696428" collapsed="false">Is voice or text and in the top content codes. And ignore bad IMAGE messages.</comment></block><script><block s="doAddToList"><block s="reportNewList"><list><custom-block s="find %txt in %l"><l>senderCategory</l><block var="line"/></custom-block><block var="message"/></list></block><block var="inputs"/></block><custom-block s="for %upvar = %n to %n %cs"><l>i</l><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="content code keys"/></block><script><block s="doAddToList"><custom-block s="remove hypen and after from %txt"><custom-block s="find %txt in %l"><block s="reportListItem"><block var="i"/><block var="content code keys"/></block><block var="line"/></custom-block></custom-block><block s="reportListItem"><block var="i"/><block var="outputs"/></block></block></script></custom-block></script></block></script></block></script></block></script></block-definition><block-definition s="Create numerical inputs $nl and then %&apos;do&apos;" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input></inputs><script><block s="doSetVar"><l>numerical inputs</l><block s="reportNewList"><list></list></block></block><custom-block s="Create numerical input from %l %br and then %cmdRing"><block var="inputs"/><block var="do"/></custom-block></script></block-definition><block-definition s="Evaluate %&apos;model(s) models&apos; input %&apos;input&apos; $nl output %&apos;true&apos; $nl indices %&apos;indices&apos; $nl only the first category %&apos;only the first category&apos;" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%l"></input><input type="%l"></input><input type="%l"></input><input type="%b">true</input></inputs><script><custom-block s="run tests with %txt with inputs %l %br and then %cmdRing"><block var="model(s) models"/><block var="input"/><block s="reifyScript"><script><custom-block s="let %upvar be %s"><l>correct and differences</l><custom-block s="count matches %l and %l %br with indices %l %br only the first category %b"><block var="predictions"/><block var="true"/><block var="indices"/><block var="only the first category"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>correct</l><block s="reportListItem"><l>1</l><block var="correct and differences"/></block></custom-block><block s="bubble"><block s="reportJoinWords"><list><block var="correct"/><l>/</l><block s="reportListAttribute"><l><option>length</option></l><block var="predictions"/></block><l> = </l><block s="reportRound"><block s="reportQuotient"><block s="reportProduct"><l>100</l><block var="correct"/></block><block s="reportListAttribute"><l><option>length</option></l><block var="predictions"/></block></block></block><l>%</l></list></block></block><block s="doSetVar"><l>predicted true differences</l><block s="reportListItem"><l>2</l><block var="correct and differences"/></block></block></script><list><l>predictions</l></list></block></custom-block></script></block-definition><block-definition s="Load WhatsApp model and then %&apos;do&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input></inputs><script><custom-block s="Load neural net from URL %txt %br then when loaded %cmdRing %br unless there is an error %cmdRing"><block s="reportJoinWords"><list><l>/ai/LIFE/whatsapp-data/</l><block var="model name"/><l>.json</l></list></block><block var="do"/><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script></block-definition><block-definition s="Run test" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>table</l></list></block><block s="doIfElse"><block s="reportIsA"><custom-block s="safely try reporting %anyUE then if %upvar report %anyUE"><block var="data"/><l>error</l><l>not a list</l></custom-block><l><option>list</option></l></block><script><block s="doSetVar"><l>table</l><block var="data"/></block></script><script><block s="doAsk"><l>Enter a URL to a CSV file with sender role, receiver role, and anonyomised message</l></block><custom-block s="let %upvar be %s"><l>contents</l><block s="reportURL"><block s="getLastAnswer"></block></block></custom-block><block s="doSetVar"><l>table</l><block s="reportTextSplit"><block var="contents"/><l><option>csv</option></l></block></block></script></block><block s="doIfElse"><block s="reportEquals"><block s="reportListAttribute"><l><option>length</option></l><block s="reportListItem"><l>1</l><block var="table"/></block></block><l>3</l></block><script><block s="bubble"><l>Working on it. Please wait.</l></block><custom-block s="Get predictions from model(s) %txt with inputs %l %br then %cmdRing %br or if there is an error %cmdRing %br with categories %l"><block var="model name"/><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportConcatenatedLists"><list><custom-block s="one hot of %txt in %l"><block s="reportListItem"><l>1</l><l/></block><block var="roles"/></custom-block><custom-block s="one hot of %txt in %l"><custom-block s="remove final number from %txt"><block s="reportListItem"><l>2</l><l/></block></custom-block><block var="roles"/></custom-block><custom-block s="features of sentence %txt"><block s="reportListItem"><l>3</l><l/></block></custom-block></list></block></autolambda><list></list></block><block var="table"/></block><block s="reifyScript"><script><block s="bubble"><custom-block s="map %repRing over %l"><block s="reifyReporter"><autolambda><block s="reportConcatenatedLists"><list><block s="reportListItem"><l>1</l><l/></block><block s="reportListItem"><l>2</l><l/></block></list></block></autolambda><list></list></block><custom-block s="map %repRing over %l"><block s="reifyReporter"><autolambda><custom-block s="Categorical prediction sorted with confidence percentages %l"><l/></custom-block></autolambda><list></list></block><block var="raw predictions"/></custom-block></custom-block></block></script><list><l>raw predictions</l></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><block var="content codes"/></custom-block></script><script><block s="bubble"><block s="reportJoinWords"><list><l>Could not interpret this as a proper CSV file: </l><block var="contents"/></list></block></block></script></block></script></block-definition><block-definition s="safely try %&apos;action&apos; then if %&apos;error&apos; %&apos;handler&apos;" type="command" category="control"><comment x="0" y="0" w="276" collapsed="false">Catch errors.&#xD;&#xD;Runs the first script.  If it succeeds, nothing else happens.&#xD;But if it has an error (something that would otherwise result&#xD;in a red halo around the block), then the second script is run,&#xD;with the text of the error message that would have been shown in the variable ERROR.</comment><header></header><code></code><translations>pt:tenta executar _ e, em caso de erro _ , executa _&#xD;</translations><inputs><input type="%cs"></input><input type="%upvar"></input><input type="%cs"></input></inputs><script><custom-block s="let %upvar be %s"><l>reset</l><block s="evaluate"><block s="reportJSFunction"><list><l>proc</l></list><l>var oldHandleError = proc.handleError,&#xD;    oldCatchingErrors = proc.isCatchingErrors;&#xD;&#xD;return function(){&#xD; proc.handleError = oldHandleError;&#xD; proc.isCatchingErrors = oldCatchingErrors;&#xD;}</l></block><list></list></block></custom-block><block s="doCallCC"><block s="reifyScript"><script><block s="doRun"><block s="reportJSFunction"><list><l>reset</l><l>action</l><l>handler</l><l>proc</l></list><l>proc.isCatchingErrors = true;&#xD;proc.handleError = function(error, element){&#xD; reset();&#xD; proc.context = handler;&#xD; proc.context.variables.setVar("error", error);&#xD;}&#xD;&#xD;try{&#xD; proc.evaluate(action, new List(), true);&#xD;}&#xD;catch(e){&#xD; proc.handleError(e, null);&#xD;} </l></block><list><block var="reset"/><block var="action"/><block s="reifyScript"><script><block s="doRun"><block s="reifyScript"><script><block s="doRun"><block var="handler"/><list></list></block><block s="doRun"><block var="return"/><list></list></block></script><list></list></block><list></list></block></script><list></list></block></list></block></script><list><l>return</l></list></block></block><block s="doRun"><block var="reset"/><list></list></block></script></block-definition><block-definition s="safely try reporting %&apos;this&apos; then if %&apos;error&apos; report %&apos;that&apos;" type="reporter" category="control"><comment x="0" y="0" w="316.6666666666667" collapsed="false">Catch errors in a reporter.&#xD;&#xD;Evaluates its first input.  If that expression successfully reports a value, this block reports that value.  If the expression causes a Snap! error,&#xD;then the final input slot is evaluated with the text of what would have&#xD;been the error message in variable ERROR.  SAFELY TRY then reports the value of that final expression.&#xD;&#xD;Sometimes you&apos;ll want to throw an error in the final expression.  You&#xD;can put an ERROR block inside a CALL block to do that.</comment><header></header><code></code><translations></translations><inputs><input type="%anyUE"></input><input type="%upvar"></input><input type="%anyUE"></input></inputs><script><block s="doDeclareVariables"><list><l>value</l></list></block><custom-block s="safely try %cs then if %upvar %cs"><script><block s="doSetVar"><l>value</l><block s="evaluate"><block var="this"/><list></list></block></block></script><l>err</l><script><block s="doSetVar"><l>error</l><block var="err"/></block><block s="doSetVar"><l>value</l><block s="evaluate"><block var="that"/><list></list></block></block></script></custom-block><block s="doReport"><block var="value"/></block></script></block-definition><block-definition s="set pen color to r: %&apos;r&apos; g: %&apos;g&apos; b: %&apos;b&apos;" type="command" category="pen"><header></header><code></code><translations></translations><inputs><input type="%n">255</input><input type="%n">0</input><input type="%n">0</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>r</l><l>g</l><l>b</l></list><l>this.setColor(new Color(r, g, b));</l></block><list><block var="r"/><block var="g"/><block var="b"/></list></block></script></block-definition><block-definition s="square of distance from features %&apos;features 1&apos; to %&apos;features 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="245.00000000000003" collapsed="false">When comparing distances one can save some time by avoiding many calls to square root. See also the &apos;distance from features ...&apos; block.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block><block s="reportPower"><block s="reportDifference"><block var="features 1"/><block var="features 2"/></block><l>2</l></block></custom-block></block></script></block-definition><block-definition s="magnitude of %&apos;features&apos;" type="reporter" category="variables"><comment x="0" y="0" w="323" collapsed="false">Reports distance to the center of the space. See https://en.wikipedia.org/wiki/Norm_(mathematics)#Euclidean_norm</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportMonadic"><l><option>sqrt</option></l><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block><block s="reportPower"><block var="features"/><l>2</l></block></custom-block></block></block></script></block-definition><block-definition s="dot product %&apos;list 1&apos; %&apos;list 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="255.71428571428572" collapsed="false">See https://en.wikipedia.org/wiki/Dot_product</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block><block s="reportProduct"><block var="list 1"/><block var="list 2"/></block></custom-block></block></script><scripts><script x="305.7142857142857" y="97.1190476190476"><custom-block s="Open web page %txt"><l>https://en.wikipedia.org/wiki/Dot_product</l></custom-block></script></scripts></block-definition><block-definition s="cosine similarity %&apos;list 1&apos; %&apos;list 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="213.28571428571422" collapsed="false">See https://en.wikipedia.org/wiki/Cosine_similarity&#xD;There is a faster JavaScript version of this.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doReport"><block s="reportQuotient"><custom-block s="dot product %l %l"><block var="list 1"/><block var="list 2"/></custom-block><block s="reportProduct"><custom-block s="magnitude of %l"><block var="list 1"/></custom-block><custom-block s="magnitude of %l"><block var="list 2"/></custom-block></block></block></block></script><scripts><script x="392.8571428571429" y="85.69047619047618"><custom-block s="Open web page %txt"><l>https://en.wikipedia.org/wiki/Cosine_similarity</l></custom-block></script></scripts></block-definition><block-definition s="Snap! version of closest word to %&apos;target features&apos; except %&apos;exceptions&apos; and report progress %&apos;report progress&apos;" type="reporter" category="variables"><comment x="0" y="0" w="318.5714285714286" collapsed="false">See &quot;closest word to ...&quot; that is much much faster.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input><input type="%b"></input></inputs><script><block s="doDeclareVariables"><list><l>target magnitude</l><l>candidate features</l><l>best word</l><l>best distance</l><l>candidate distance</l><l>count</l></list></block><block s="doSetVar"><l>count</l><l>0</l></block><block s="doSetVar"><l>best distance</l><l>9999999</l></block><block s="doSetVar"><l>target magnitude</l><custom-block s="magnitude of %l"><block var="target features"/></custom-block></block><block s="doWarp"><script><custom-block s="%upvar for each %upvar of %l %cs"><l>#</l><l>word</l><custom-block s="all words in language %txt with features"><l></l></custom-block><script><block s="doIf"><block s="reportNot"><block s="reportListContainsItem"><block var="exceptions"/><block var="word"/></block></block><script><block s="doIf"><block var="report progress"/><script><block s="doThink"><block s="reportJoinWords"><list><block var="best word"/><l> is the best match so far after looking at </l><block var="#"/><l> words. Distance is </l><block var="best distance"/></list></block></block></script></block><block s="doSetVar"><l>candidate features</l><custom-block s="features of %txt in language %txt"><block var="word"/><l></l></custom-block></block><block s="doSetVar"><l>candidate distance</l><custom-block s="square of distance from features %l to %l"><block var="target features"/><block var="candidate features"/></custom-block></block><block s="doIf"><block s="reportLessThan"><block var="candidate distance"/><block var="best distance"/></block><script><block s="doSetVar"><l>best word</l><block var="word"/></block><block s="doSetVar"><l>best distance</l><block var="candidate distance"/></block></script></block></script></block></script></custom-block><block s="doReport"><block var="best word"/></block></script></block></script></block-definition><block-definition s="distance from features %&apos;features 1&apos; to %&apos;features 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="330.71428571428567" collapsed="false">Euclidean distance between features using Snap! hyperblocks.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doReport"><block s="reportMonadic"><l><option>sqrt</option></l><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block><block s="reportPower"><block s="reportDifference"><block var="features 1"/><block var="features 2"/></block><l>2</l></block></custom-block></block></block></script><scripts><script x="501.42857142857144" y="80.69047619047622"><custom-block s="Open web page %txt"><l>https://en.wikipedia.org/wiki/Euclidean_distance</l></custom-block></script></scripts></block-definition><block-definition s="average %&apos;list1&apos; and %&apos;list 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="172" collapsed="false">Reports the average value of corresponding items in the two lists.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doReport"><block s="reportQuotient"><block s="reportSum"><block var="list1"/><block var="list 2"/></block><l>2</l></block></block></script></block-definition><block-definition s="mean distance of %&apos;word&apos; to %&apos;words&apos; $nl using %&apos;distance measure&apos; in language %&apos;language&apos;" type="reporter" category="variables"><comment x="0" y="0" w="307" collapsed="false">Reports the average distance from &apos;word&apos; to each of the &apos;words&apos;.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input><input type="%txt" readonly="true"><options>Euclidean distance&#xD;Cosine similarity</options></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="let %upvar be %s"><l>sum</l><l>0</l></custom-block><custom-block s="let %upvar be %s"><l>word features</l><custom-block s="features of %txt in language %txt"><block var="word"/><block var="language"/></custom-block></custom-block><custom-block s="for each %upvar of %l %cs"><l>item</l><block var="words"/><script><block s="doChangeVar"><l>sum</l><custom-block s="if %b then %anyUE else %anyUE"><block s="reportEquals"><block var="distance measure"/><l>Euclidean distance</l></block><custom-block s="Euclidean distance between %l and %l using JavaScript"><block var="word features"/><custom-block s="features of %txt in language %txt"><block var="item"/><block var="language"/></custom-block></custom-block><custom-block s="cosine similarity %l %l JavaScript version"><block var="word features"/><custom-block s="features of %txt in language %txt"><block var="item"/><block var="language"/></custom-block></custom-block></custom-block></block></script></custom-block><block s="doReport"><block s="reportQuotient"><block var="sum"/><block s="reportListAttribute"><l><option>length</option></l><block var="words"/></block></block></block></script></block-definition><block-definition s="map %&apos;function&apos; across each item in %&apos;data lists&apos;" type="reporter" category="lists"><comment x="0" y="0" w="262.8571428571429" collapsed="false">Apples function to corresponding items in the &apos;data lists&apos;.</comment><header></header><code></code><translations></translations><inputs><input type="%repRing"></input><input type="%l"></input></inputs><script><block s="doIf"><custom-block s="empty? %l"><block s="reportListItem"><l>1</l><block var="data lists"/></block></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="function"/><list><l></l></list></block><custom-block s="map %repRing across each item in %l"><block var="function"/><l/></custom-block></block></block></script></block-definition><block-definition s="Euclidean distance between %&apos;point 1&apos; and %&apos;point 2&apos; using JavaScript" type="reporter" category="lists"><comment x="0" y="0" w="279.2857142857143" collapsed="false">Reports the distance between the points. Works with any dimensions from 1 to what fits in memory.&#xD;To see how this can be implemented in a slower way in Snap! open the &apos;distance from features ... to ...&apos; block</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>euclidean_distance</l><list><block var="point 1"/><block var="point 2"/></list></custom-block></block></script><scripts><script x="451.71428571428584" y="106.85714285714283"><custom-block s="Open web page %txt"><l>https://en.wikipedia.org/wiki/Euclidean_distance</l></custom-block></script></scripts></block-definition><block-definition s="cosine similarity %&apos;list 1&apos; %&apos;list 2&apos; JavaScript version" type="reporter" category="lists"><comment x="0" y="0" w="234" collapsed="false">See https://en.wikipedia.org/wiki/Cosine_similarity&#xD;There is a pure Snap! version of this.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>cosine_similarity</l><list><block var="list 1"/><block var="list 2"/></list></custom-block></block></script></block-definition><block-definition s="set default language to %&apos;language&apos;" type="command" category="sensing"><comment x="0" y="0" w="275.7142857142857" collapsed="false">Language to use for speech input and output only if no language or voice is specified. Can be the language name in English or itself. Or the official code for the language such as fr-FR for French in France. Also used as the default language for the word embedding blocks.</comment><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>set_default_language</l><list><block var="language"/></list></custom-block></script></block-definition><block-definition s="all words in language %&apos;language&apos; with features" type="reporter" category="variables"><comment x="0" y="0" w="224.7398158482143" collapsed="false">Reports all the words that have a list of features accessible via the &quot;features of&quot; reporter block. Data obtained from https://github.com/facebookresearch/fastText</comment><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>all_words_with_features</l><list><block var="language"/></list></custom-block></block></script></block-definition><block-definition s="closest word to %&apos;features&apos; $nl in language %&apos;language&apos; $nl not including %&apos;exceptions&apos; $nl and do as words are found %&apos;when word found&apos; $nl with distance measure %&apos;distance measure&apos;" type="reporter" category="variables"><comment x="0" y="0" w="328.5714285714286" collapsed="false">Reports the word that is closest to the features. Uses a distance measure which can be either Eucliean Distance or Cosine similarity. You can choose from among 15 languages or leave it blank for the default language. Optionally one can &quot;watch&quot; it search by adding blocks to the &quot;when word found&quot; slot. The block is passed the best word so far, its distance, and the number of words considered so far.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input><input type="%l"></input><input type="%cmdRing"></input><input type="%txt" readonly="true">Cosine similarity<options>Euclidean distance&#xD;Cosine similarity</options></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>closest_word</l><list><block var="features"/><block var="exceptions"/><block var="when word found"/><block var="distance measure"/><block var="language"/></list></custom-block></block></script></block-definition><block-definition s="location of %&apos;word&apos; in language %&apos;language&apos;" type="reporter" category="variables"><comment x="0" y="0" w="384.28571428571433" collapsed="false">Reports a location of a word embedding use t-SNE. See https://en.wikipedia.org/wiki/T-distributed_stochastic_neighbor_embedding</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><custom-block s="let %upvar be %s"><l>location</l><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>word_to_location</l><list><block var="word"/><block var="language"/></list></custom-block></custom-block><block s="doIf"><custom-block s="empty? %l"><block var="location"/></custom-block><script><block s="doReport"><block var="location"/></block></script></block><custom-block s="let %upvar be %s"><l>stage size</l><custom-block s="setting %s"><l>Stage size</l></custom-block></custom-block><block s="doReport"><block s="reportNewList"><list><block s="reportDifference"><block s="reportProduct"><block s="reportListItem"><l>1</l><block var="location"/></block><block s="reportListItem"><l>1</l><block var="stage size"/></block></block><block s="reportQuotient"><block s="reportListItem"><l>1</l><block var="stage size"/></block><l>2</l></block></block><block s="reportDifference"><block s="reportProduct"><block s="reportListItem"><l>2</l><block var="location"/></block><block s="reportListItem"><l>2</l><block var="stage size"/></block></block><block s="reportQuotient"><block s="reportListItem"><l>2</l><block var="stage size"/></block><l>2</l></block></block></list></block><comment w="295" collapsed="true">Convert from 0 to 1 coordinates to Snap! coordinations.</comment></block></script></block-definition><block-definition s="set pen color to h: %&apos;h&apos; s: %&apos;s&apos; v: %&apos;v&apos;" type="command" category="pen"><header></header><code></code><translations></translations><inputs><input type="%n">0.3</input><input type="%n">0.7</input><input type="%n">0.6</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>h</l><l>s</l><l>v</l></list><l>var col = new Color();&#xD;col.set_hsv(h, s, v);&#xD;this.setColor(col);</l></block><list><block var="h"/><block var="s"/><block var="v"/></list></block></script></block-definition><block-definition s="HSV color" type="reporter" category="pen"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return new List(this.color.hsv());</l></block><list></list></block></block></script></block-definition><block-definition s="label %&apos;text&apos; of size %&apos;size&apos;" type="command" category="pen"><comment x="0" y="0" w="90" collapsed="false">LABEL will stamp text on the stage at the given font size. The direction of the text is the direction the sprite is facing, and color will match the pen color.</comment><header></header><code></code><translations>de:drucke _ in Gre _&#xD;</translations><inputs><input type="%txt">Hello!</input><input type="%n">12</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>text</l><l>size</l></list><l>var stage = this.parentThatIsA(StageMorph),&#xD;    context = stage.penTrails().getContext(&apos;2d&apos;),&#xD;    rotation = radians(this.direction() - 90),&#xD;    trans = new Point(&#xD;      this.center().x - stage.left(),&#xD;      this.center().y - stage.top()&#xD;    ),&#xD;    isWarped = this.Warped,&#xD;    len,&#xD;    pos;&#xD;&#xD;if (isWarped) {endWarp(); }&#xD;context.save();&#xD;context.font = size + &apos;px monospace&apos;;&#xD;context.textAlign = &apos;left&apos;;&#xD;context.textBaseline = &apos;alphabetic&apos;;&#xD;context.fillStyle = this.color.toString();&#xD;len = context.measureText(text).width;&#xD;trans = trans.multiplyBy(1 / stage.scale);&#xD;context.translate(trans.x, trans.y);&#xD;context.rotate(rotation);&#xD;context.fillText(text, 0, 0);&#xD;context.translate(-trans.x, -trans.y);&#xD;context.restore();&#xD;pos = new Point(&#xD;  len * Math.sin(radians(this.direction())),&#xD;  len * Math.cos(radians(this.direction())));&#xD;pos = pos.add(new Point(this.xPosition(), this.yPosition()));&#xD;this.gotoXY(pos.x, pos.y, false);&#xD;this.changed();&#xD;if (isWarped) {this.startWarp(); }&#xD;stage.changed();</l></block><list><block var="text"/><block var="size"/></list></block></script></block-definition><block-definition s="repeat text %&apos;text&apos; %&apos;n&apos; times" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%n"></input></inputs><script><block s="doIfElse"><block s="reportLessThan"><block var="n"/><l>1</l></block><script><block s="doReport"><block s="reportJoinWords"><list></list></block></block></script><script><block s="doReport"><block s="reportJoinWords"><list><block var="text"/><custom-block s="repeat text %txt %n times"><block var="text"/><block s="reportDifference"><block var="n"/><l>1</l></block></custom-block></list></block></block></script></block></script></block-definition><block-definition s="display word %&apos;word&apos; in language %&apos;language&apos; with size %&apos;size&apos; and zoom by %&apos;zoom&apos;" type="command" category="pen"><comment x="0" y="0" w="220" collapsed="true">Displays the word near similar words.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input><input type="%n">12</input><input type="%n">1</input></inputs><script><custom-block s="let %upvar be %s"><l>location</l><custom-block s="location of %txt in language %txt"><block var="word"/><block var="language"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>x</l><block s="reportDifference"><block s="reportProduct"><block s="reportListItem"><l>1</l><block var="location"/></block><block var="zoom"/></block><block s="reportProduct"><block s="reportStringSize"><block var="word"/></block><l>5</l></block><comment w="278" collapsed="false">Attempt to center the word. 12/2 would be correct if every character was full width.</comment></block></custom-block><custom-block s="let %upvar be %s"><l>y</l><block s="reportProduct"><block s="reportListItem"><l>2</l><block var="location"/></block><block var="zoom"/></block></custom-block><custom-block s="let %upvar be %s"><l>pen color</l><custom-block s="HSV color"></custom-block></custom-block><block s="gotoXY"><block var="x"/><block var="y"/></block><custom-block s="set pen color to h: %n s: %n v: %n"><block s="reportListItem"><l>1</l><block var="pen color"/></block><l>.2</l><l>1</l></custom-block><custom-block s="label %txt of size %n"><custom-block s="repeat text %txt %n times"><l></l><block s="reportStringSize"><block var="word"/></block></custom-block><block var="size"/></custom-block><block s="gotoXY"><block var="x"/><block var="y"/><comment w="224.99999999999994" collapsed="true">Display the word centered at the location.</comment></block><custom-block s="set pen color to h: %n s: %n v: %n"><block s="reportListItem"><l>1</l><block var="pen color"/></block><block s="reportListItem"><l>2</l><block var="pen color"/></block><block s="reportListItem"><l>3</l><block var="pen color"/></block></custom-block><custom-block s="label %txt of size %n"><block var="word"/><block var="size"/></custom-block></script></block-definition><block-definition s="closest word to %&apos;features&apos; $nl in language %&apos;language&apos; $nl not including %&apos;exceptions&apos;" type="reporter" category="variables"><comment x="0" y="0" w="328.5714285714286" collapsed="false">Reports the word that is closest to the features.  You can choose from among 15 languages or leave it blank for the default language. There is a full-featured version of this block as well.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input><input type="%l"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>closest_word</l><list><block var="features"/><block var="exceptions"/><l></l><l>Cosine similarity</l><block var="language"/></list></custom-block></block></script></block-definition><block-definition s="features of %&apos;word&apos; in language %&apos;language&apos;" type="reporter" category="variables"><comment x="0" y="0" w="343.5714285714286" collapsed="false">Reports a list of 300 numbers that &quot;describes&quot; the word. You can choose among 15 languages or leave it blank and use the default language. &#xD;To learn about these numbers see https://en.wikipedia.org/wiki/Word_embedding&#xD;The new name for this block is &quot;features of word ...&quot;</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><block s="doReport"><custom-block s="features of word %txt in language %txt"><block var="word"/><block var="language"/></custom-block></block></script></block-definition><block-definition s="wait for word embeddings in language %&apos;language&apos; $nl or use this word embeddings url %&apos;url&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Chinese&#xD;&#xD;English&#xD;&#xD;Finnish&#xD;&#xD;French&#xD;&#xD;German&#xD;&#xD;Greek&#xD;&#xD;Hindi&#xD;&#xD;Indonesian&#xD;&#xD;Italian&#xD;&#xD;Japanese&#xD;&#xD;Portuguese&#xD;&#xD;Sinhalese&#xD;&#xD;Swedish</options></input><input type="%txt"></input></inputs><script><block s="doDeclareVariables"><list><l>loaded</l></list></block><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Load words to features in language %txt then %cmdRing %br use this URL instead of default %txt"><block var="language"/><block s="reifyScript"><script><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><list></list></block><block var="url"/></custom-block><block s="doWaitUntil"><block var="loaded"/></block></script></block-definition><block-definition s="Load words to features in language %&apos;language&apos; then %&apos;do when loaded&apos; $nl use this URL instead of default %&apos;url&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Chinese&#xD;&#xD;English&#xD;&#xD;Finnish&#xD;&#xD;French&#xD;&#xD;German&#xD;&#xD;Greek&#xD;&#xD;Hindi&#xD;&#xD;Indonesian&#xD;&#xD;Italian&#xD;&#xD;Japanese&#xD;&#xD;Portuguese&#xD;&#xD;Sinhalese&#xD;&#xD;Swedish</options></input><input type="%cmdRing"></input><input type="%txt"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>word_embeddings_ready</l><list><block var="language"/><block var="do when loaded"/><block var="url"/></list></custom-block></script></block-definition><block-definition s="closest words to %&apos;features&apos; in language %&apos;language&apos; $nl and include distances %&apos;include distances&apos;" type="reporter" category="variables"><comment x="0" y="0" w="218.57142857142858" collapsed="false">Reports all the words sorted by closeness to &apos;features&apos;. Optionally can report pairs of words and distances. Distances are measured using cosine similarity.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input><input type="%b">false</input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="closest words to %l in language %txt %br and include distances %b %br do with result %cmdRing"><block var="features"/><block var="language"/><block var="include distances"/><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block var="words"/></block></script><list><l>words</l></list></block></custom-block><block s="doWaitUntil"><block var="result"/></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="closest words to %&apos;features&apos; in language %&apos;language&apos; $nl and include distances %&apos;include distances&apos; $nl do with result %&apos;process result&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%txt"><options>record_callbacks(finished_callback);</options></input><input type="%b">false</input><input type="%cmdRing"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><custom-block s="load tensorflow"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>closest_words</l><list><block var="features"/><block var="language"/><block var="include distances"/><block var="process result"/></list></custom-block></block></script></block-definition><block-definition s="average features of each word %&apos;words&apos; in language %&apos;language&apos;" type="reporter" category="lists"><comment x="0" y="0" w="152" collapsed="false">Finds the average of the features of each word in &apos;words&apos;.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="let %upvar be %s"><l>list of words</l><block s="reportTextSplit"><block var="words"/><l><option>word</option></l></block></custom-block><custom-block s="let %upvar be %s"><l>number of words</l><block s="reportListAttribute"><l><option>length</option></l><block var="list of words"/></block></custom-block><custom-block s="let %upvar be %s"><l>list of features</l><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="features of %txt in language %txt"><block var="word"/><block var="language"/></custom-block></autolambda><list><l>word</l></list></block><block var="list of words"/></block></custom-block><block s="doSetVar"><l>list of features</l><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><block s="reportListAttribute"><l><option>length</option></l><l/></block><l>0</l></block></autolambda><list></list></block><block var="list of features"/></block><comment w="241.99999999999997" collapsed="true">Remove features from unrecognised words.</comment></block><custom-block s="let %upvar be %s"><l>features added</l><block s="reportCombine"><block var="list of features"/><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block></block></custom-block><block s="doReport"><block s="reportQuotient"><block var="features added"/><block var="number of words"/></block></block></script></block-definition><block-definition s="tokenize %&apos;sentence&apos; $nl then do with result %&apos;process result&apos;" type="command" category="variables"><comment x="0" y="0" w="287.8571428571429" collapsed="true">Passes to &apos;process result&apos; a tokenization of the sentence.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="load tensorflow"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>tokenize_sentence</l><list><block var="sentence"/><block var="process result"/></list></custom-block></block></script></block-definition><block-definition s="tokenize %&apos;sentence&apos;" type="reporter" category="variables"><comment x="0" y="0" w="182.85714285714286" collapsed="true">Reports tokens for the sentence.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="tokenize %txt %br then do with result %cmdRing"><block var="sentence"/><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block var="tokens"/></block></script><list><l>tokens</l></list></block></custom-block><block s="doWaitUntil"><block var="result"/></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="features of sentences %&apos;sentences&apos;" type="reporter" category="variables"><comment x="0" y="0" w="267.14285714285717" collapsed="true">Reports a list of 512 features for each sentence.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="get features of sentences %l %br then do with result %cmdRing"><block var="sentences"/><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block var="list of features list"/></block></script><list><l>list of features list</l></list></block></custom-block><block s="doWaitUntil"><block var="result"/></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="features of word %&apos;word&apos; in language %&apos;language&apos;" type="reporter" category="variables"><comment x="0" y="0" w="343.5714285714286" collapsed="false">Reports a list of 300 numbers that &quot;describes&quot; the word. You can choose among 15 languages or leave it blank and use the default language. &#xD;To learn about these numbers see https://en.wikipedia.org/wiki/Word_embedding</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>word_to_features</l><list><block var="word"/><block var="language"/></list></custom-block></block></script></block-definition><block-definition s="Answer %&apos;question&apos; from %&apos;passage&apos; $nl process answers with %&apos;answers receiver&apos; $nl and if there is error %&apos;handle error&apos;" type="command" category="other"><comment x="0" y="0" w="191.42857142857144" collapsed="false">Uses &apos;passage&apos; to answer &apos;question&apos;.&#xD;The &apos;answer question&apos; reporter is easier to use and relies upon this block.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="load tensorflow"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>answer_question</l><list><block var="question"/><block var="passage"/><block var="answers receiver"/><block var="handle error"/></list></custom-block></block></script><scripts><comment x="37.85714285714286" y="158.71428571428572" w="509.4105747767857" collapsed="false">This uses BERT to answer questions.&#xD;See https://blog.tensorflow.org/2020/03/exploring-helpful-uses-for-bert-in-your-browser-tensorflow-js.html</comment></scripts></block-definition><block-definition s="Answer question %&apos;question&apos; using this passage %&apos;passage&apos;" type="reporter" category="other"><comment x="0" y="0" w="161.42857142857144" collapsed="false">Reports the top answer to the &apos;question&apos; using the &apos;passage&apos;.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input></inputs><script><custom-block s="let %upvar be %s"><l>answers</l><custom-block s="Get up to 5 answers to question %txt from passage %txt"><block var="question"/><block var="passage"/></custom-block></custom-block><block s="doIfElse"><block s="reportListIsEmpty"><block var="answers"/></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script><script><block s="doReport"><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="answers"/></block></block></block></script></block></script></block-definition><block-definition s="Get up to 5 answers to question %&apos;question&apos; from passage %&apos;passage&apos;" type="reporter" category="other"><comment x="0" y="0" w="253.57142857142858" collapsed="false">Reports a list of 5 elements where each element is a list of an answer to the &apos;question&apos; and its score of how good an answer it is. The highest scoring answer is first.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Answer %txt from %txt %br process answers with %cmdRing %br and if there is error %cmdRing"><block var="question"/><block var="passage"/><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportNewList"><list><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="answer"/></block></block><block s="reportListItem"><l>2</l><block s="reportListItem"><l>2</l><block var="answer"/></block></block></list></block></autolambda><list><l>answer</l></list></block><block var="answers"/><comment w="238.57142857142858" collapsed="false">Only report the answers and scores. Not the position of the &apos;passage&apos; that the answer is based upon.</comment></block></block></script><list><l>answers</l></list></block><block s="reifyScript"><script><custom-block s="inform %txt with title %txt"><l></l><l>Answering question from passage</l></custom-block></script><list></list></block></custom-block><block s="doWaitUntil"><block var="result"/></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="Wikipedia summary of covid-19 from 6 April 2020" type="reporter" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><l>The 201920 coronavirus pandemic is an ongoing pandemic of coronavirus disease 2019 (COVID-19), caused by severe acute respiratory syndrome coronavirus 2 (SARS-CoV-2). The outbreak was first noted in Wuhan, Hubei province, China, in December 2019. The World Health Organization (WHO) declared the outbreak to be a Public Health Emergency of International Concern on 30 January 2020 and recognized it as a pandemic on 11 March 2020. As of 6 April 2020, more than 1,270,000 cases of COVID-19 have been reported in over 200 countries and territories, resulting in approximately 69,400 deaths. More than 260,000 people have recovered.&#xD;&#xD;The virus is mainly spread during close contact, and by small droplets produced during coughing, sneezing, or talking. These small droplets may also be produced during breathing, but rapidly fall to the ground or surfaces and are not generally spread through the air over large distances. People may also catch COVID-19 by touching a contaminated surface and then their face. The virus can survive on surfaces for up to 72 hours. It is most contagious during the first 3 days after symptom onset, although spread may be possible before symptoms appear and in later stages of the disease. The time between exposure and symptom onset is typically around five days, but may range from 2to 14 days. Common symptoms include fever, cough, and shortness of breath. Complications may include pneumonia and acute respiratory distress syndrome. There is no known vaccine or specific antiviral treatment. Primary treatment is symptomatic and supportive therapy. Recommended preventive measures include hand washing, covering one&apos;s mouth when coughing, maintaining distance from other people, and monitoring and self-isolation for people who suspect they are infected.&#xD;&#xD;Efforts to prevent the virus spread include travel restrictions, quarantines, curfews, workplace hazard controls, event postponements and cancellations, and facility closures. These include national or regional quarantines throughout the world (starting with the quarantine of Hubei), curfew measures in mainland China, various border closures or incoming passenger restrictions, screening at airports and train stations, and outgoing passenger travel bans.&#xD;&#xD;The pandemic has led to severe global socioeconomic disruption, the postponement or cancellation of sporting, religious, and cultural events, and widespread fears of supply shortages resulting in panic buying. Schools and universities have closed either on a nationwide or local basis in more than 160 countries, affecting approximately 97percent of the world&apos;s student population. Misinformation about the virus has spread online, and there have been incidents of xenophobia and discrimination against Chinese people, other people of East and Southeast Asian descent and appearance, and others from hotspots.&#xD;&#xD;</l></block></script></block-definition><block-definition s="$arrowUp %&apos;word&apos;" type="reporter" category="variables"><comment x="0" y="0" w="300.7142857142857" collapsed="false">A concise shortcut to the &apos;features of ...&apos; block. It uses English.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><block s="doReport"><custom-block s="features of %txt in language %txt"><block var="word"/><l>English</l></custom-block></block></script></block-definition><block-definition s="$arrowDown %&apos;features&apos;" type="reporter" category="variables"><comment x="0" y="0" w="239.28571428571448" collapsed="false">A concise shortcut to the &apos;closest word to ...&apos; block. Uses English and excludes no words.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="closest word to %l %br in language %txt %br not including %l"><block var="features"/><l>English</l><l/></custom-block></block></script></block-definition><block-definition s="contains content code %&apos;content code&apos; in %&apos;true&apos;" type="predicate" category="lists"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>is contained list</l><block s="reportNewList"><list></list></block></custom-block><custom-block s="for %upvar = %n to %n %cs"><l>i</l><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block s="reportListItem"><l>1</l><block var="true"/></block></block><script><custom-block s="let %upvar be %s"><l>is contained</l><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><custom-block s="for %upvar = %n to %n %cs"><l>j</l><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="true"/></block><script><block s="doIf"><block s="reportEquals"><block s="reportListItem"><block var="i"/><block s="reportListItem"><block var="j"/><block var="true"/></block></block><block var="content code"/></block><script><block s="doSetVar"><l>is contained</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></block></script></custom-block><block s="doAddToList"><block var="is contained"/><block var="is contained list"/></block></script></custom-block><block s="doReport"><block var="is contained list"/></block></script></block-definition><block-definition s="Create inputs and outputs in %&apos;data&apos; and %&apos;full categories&apos; keep sub-categories" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%b">true</input></inputs><script><block s="doSetVar"><l>inputs</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>outputs</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportNewList"><list></list></block></autolambda><list></list></block><block s="reportNumbers"><l>1</l><block s="reportProduct"><block s="reportListAttribute"><l><option>length</option></l><block var="content code keys"/></block><l>2</l></block></block><comment w="204.28571428571445" collapsed="false">Each output wil be possibly full categories followed by full categories.</comment></block></block><block s="doWarp"><script><block s="doForEach"><l>line</l><block var="data"/><script><custom-block s="let %upvar be %s"><l>message</l><custom-block s="find %txt in %l"><block var="message key"/><block var="line"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>primary content code</l><custom-block s="Trim text %txt"><custom-block s="find %txt in %l"><block s="reportListItem"><l>1</l><block var="content code keys"/></block><block var="line"/></custom-block></custom-block></custom-block><block s="doIf"><block s="reportNot"><block var="full categories"/></block><script><block s="doSetVar"><l>primary content code</l><custom-block s="remove hypen and after from %txt"><block var="primary content code"/></custom-block></block></script></block><block s="doIf"><block s="reportAnd"><block s="reportListContainsItem"><block var="files types"/><custom-block s="find %txt in %l"><l>fileType</l><block var="line"/></custom-block></block><block s="reportAnd"><block s="reportListContainsItem"><block var="content codes"/><block var="primary content code"/></block><block s="reportNot"><block s="reportEquals"><block var="message"/><l>IMAGE </l></block></block></block><comment w="207.9557756696428" collapsed="false">Is voice or text and in the top content codes. And ignore bad IMAGE messages.</comment></block><script><custom-block s="let %upvar be %s"><l>role</l><custom-block s="Trim text %txt"><custom-block s="find %txt in %l"><l>senderCategory</l><block var="line"/></custom-block></custom-block></custom-block><block s="doAddToList"><block s="reportNewList"><list><block var="role"/><block var="message"/></list></block><block var="inputs"/></block><custom-block s="for %upvar = %n to %n %cs"><l>i</l><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="content code keys"/></block><script><custom-block s="let %upvar be %s"><l>content code</l><custom-block s="Trim text %txt"><custom-block s="find %txt in %l"><block s="reportListItem"><block var="i"/><block var="content code keys"/></block><block var="line"/></custom-block></custom-block></custom-block><block s="doIf"><block s="reportNot"><block var="full categories"/></block><script><block s="doSetVar"><l>content code</l><custom-block s="remove hypen and after from %txt"><block var="content code"/></custom-block></block></script></block><block s="doAddToList"><block var="content code"/><block s="reportListItem"><block var="i"/><block var="outputs"/></block></block></script></custom-block><custom-block s="for %upvar = %n to %n %cs"><l>i</l><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="content code keys"/></block><script><custom-block s="let %upvar be %s"><l>content code</l><custom-block s="Trim text %txt"><custom-block s="find %txt in %l"><block s="reportListItem"><block var="i"/><block var="content code keys"/></block><block var="line"/></custom-block></custom-block></custom-block><block s="doAddToList"><block var="content code"/><block s="reportListItem"><block s="reportSum"><block var="i"/><block s="reportListAttribute"><l><option>length</option></l><block var="content code keys"/></block></block><block var="outputs"/><comment w="178.57142857142858" collapsed="false">Add full categories to outputs for reporting mispredictions.</comment></block></block></script></custom-block></script></block></script></block></script></block><block s="doSetVar"><l>outputs</l><block s="reportListAttribute"><l><option>transpose</option></l><block var="outputs"/></block></block></script></block-definition><block-definition s="for %&apos;i&apos; = %&apos;start&apos; to %&apos;end&apos; %&apos;action&apos;" type="command" category="control"><header></header><code></code><translations>de:fr _ = _ bis _ _&#xD;</translations><inputs><input type="%upvar"></input><input type="%n">1</input><input type="%n">10</input><input type="%cs"></input></inputs><script><block s="doDeclareVariables"><list><l>step</l><l>tester</l></list></block><block s="doIfElse"><block s="reportGreaterThan"><block var="start"/><block var="end"/></block><script><block s="doSetVar"><l>step</l><l>-1</l></block><block s="doSetVar"><l>tester</l><block s="reifyReporter"><autolambda><block s="reportLessThan"><block var="i"/><block var="end"/></block></autolambda><list></list></block></block></script><script><block s="doSetVar"><l>step</l><l>1</l></block><block s="doSetVar"><l>tester</l><block s="reifyReporter"><autolambda><block s="reportGreaterThan"><block var="i"/><block var="end"/></block></autolambda><list></list></block></block></script></block><block s="doSetVar"><l>i</l><block var="start"/></block><block s="doUntil"><block s="evaluate"><block var="tester"/><list></list></block><script><block s="doRun"><block var="action"/><list></list></block><block s="doChangeVar"><l>i</l><block var="step"/></block></script></block></script></block-definition><block-definition s="Search and train with first category %&apos;first category&apos; $nl ignoring sender role %&apos;ignore sender&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%b">true</input><input type="%b">true</input></inputs><script><custom-block s="Create model and data with first category %b %br %br ignore sender role %b and then %cmdRing"><block var="first category"/><block var="ignore sender"/><block s="reifyScript"><script><block s="bubble"><l>Search started</l></block><block s="doSetVar"><l>history</l><block s="reportNewList"><list></list></block></block><custom-block s="Search and replace %n times %br with number of experiments %n %br with number of samples %n %br with %n initial number of training cylces %br do after each experiment finishes %cmdRing %br do after each replacement %cmdRing %br then finally do %cmdRing %br best so far %n"><l>4</l><l>10</l><l>1</l><l>300</l><block s="reifyScript"><script><block s="bubble"><l></l></block><block s="doAddToList"><l></l><block var="history"/></block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block><block s="doSetVar"><l>best parameters</l><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="bubble"><l>Search completed. See best parameters and history.</l></block></script><list></list></block><l>-9999999999</l></custom-block></script><list></list></block></custom-block></script><scripts><script x="12.857142857142858" y="386.52380952380963"><custom-block s="Search for good neural net model parameters for %txt %br perform %n experiments %br where each experiment should run the same parameters %n times %br where at first run %n training cycles %br and when each experiment finishes do %cmdRing %br then process best parameters %cmdRing %br but if there is an error %cmdRing %br $pointRight-1-64-64-255 Varying these parameters: %br ...optimization method %b %br ...loss function %b %br ...activation function %b %br ...shuffle data %b %br ...learning rate %b %br ...number of training iterations %b %br ...validation split %b %br ...dropout rate %b %br ...number and size of layers %b %br $pointRight-1-64-64-255 With these scoring weights: %br ...loss weight %n %br ...accuracy weight %n %br ...duration weight %n %br ...size of model weight %n %br ...variance of score weight %n %br $pointRight-1-64-64-255 With these initial settings: %br ...learning rate %n %br ...stop training if no progress for %n cycles %br ...fraction set aside for validation from training data %n %br ...shuffle data after each step %b"><block var="model name"/><l>10</l><l>1</l><l>500</l><block s="reifyScript"><script><block s="doAddToList"><l></l><block var="history"/></block><block s="doThink"><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="doSetVar"><l>best parameters</l><l></l></block><block s="bubble"><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><l><bool>true</bool></l><l><bool>false</bool></l><l><bool>false</bool></l><l><bool>false</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>false</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l>10</l><l>10</l><l>1</l><l>2</l><l>3</l><l>.001</l><l>50</l><l>0</l><l><bool>true</bool></l></custom-block></script></scripts></block-definition><block-definition s="Fill out content codes %&apos;codes&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>all codes</l><block var="codes"/></custom-block><custom-block s="for each %upvar of %l %cs"><l>code</l><block var="content codes"/><script><block s="doIf"><block s="reportNot"><block s="reportListContainsItem"><block var="all codes"/><block var="code"/></block></block><script><block s="doAddToList"><block s="reportJoinWords"><list><l>NOT </l><block var="code"/></list></block><block var="all codes"/></block></script></block></script></custom-block><block s="doReport"><block var="all codes"/></block></script></block-definition><block-definition s="Open help page" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>open_help_page</l><list><l></l></list></custom-block></script></block-definition><block-definition s="Search for good neural net model parameters for %&apos;model name&apos; perform %&apos;number of experiments&apos; experiments with each running %&apos;training cycles&apos; training cycles $nl and when each experiment finishes do %&apos;do when a trial finishes&apos; $nl then process best parameters %&apos;do with best parameters&apos; $nl but if there is an error %&apos;process error&apos;" type="command" category="other"><comment x="0" y="0" w="267.8571428571429" collapsed="false">This searches for the best hyperparameters (learning rate, number of training cycles, loss function, optimazation method, and layers) that results in the most accurate model. It will run &apos;do when a trial finishes&apos; with the results of each experiment and after &apos;number of experiments&apos; it will run &apos;do with parameters&apos; with the best parameters found. The parameters can then be passed along to the &quot;Create and train a neural net named ... base upon ...&quot; block.&#xD;The named model must already exist and its training data (and optionally its validation data) already made available.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%n"></input><input type="%n"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>optimize_hyperparameters</l><list><block var="model name"/><block var="number of experiments"/><block var="training cycles"/><block var="do when a trial finishes"/><block var="do with best parameters"/><block var="process error"/></list></custom-block></script></block-definition><block-definition s="Load %&apos;kind of data&apos; data from URL %&apos;URL&apos; $nl and add to any previous data %&apos;add to previous data&apos; ( this is only for %&apos;model name&apos; ) $nl then %&apos;do when data loaded&apos; $nl but if there is an error %&apos;process error&apos;" type="command" category="other"><comment x="0" y="0" w="177.14285714285717" collapsed="false">Loads training or validataion data previously saved using the &quot;tensorflow.js&quot; page opened using the &quot;Open support panel ...&quot; block.</comment><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">training<options>training&#xD;validation</options></input><input type="%txt"></input><input type="%b">true</input><input type="%txt">all models</input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>load_data_from_URL</l><list><block var="kind of data"/><block var="URL"/><block var="add to previous data"/><block var="model name"/><block var="do when data loaded"/><block var="process error"/></list></custom-block></script></block-definition><block-definition s="%&apos;n&apos; random numbers with maximum of %&apos;maximum&apos;" type="reporter" category="variables"><comment x="0" y="0" w="237.14285714285717" collapsed="false">Reports a list of &apos;n&apos; between 1 and &apos;maximum&apos;.&#xD;Multiplying and dividing by 1000 produces numbers with 3 decimal places.</comment><header></header><code></code><translations></translations><inputs><input type="%n">100</input><input type="%n"></input></inputs><script><block s="doWarp"><script><custom-block s="let %upvar be %s"><l>numbers</l><block s="reportNewList"><list></list></block></custom-block><block s="doRepeat"><block var="n"/><script><block s="doAddToList"><block s="reportQuotient"><block s="reportRandom"><l>1</l><block s="reportProduct"><block var="maximum"/><l>1000</l></block></block><l>1000</l></block><block var="numbers"/></block></script></block><block s="doReport"><block var="numbers"/></block></script></block></script></block-definition><block-definition s="Train model named %&apos;name&apos; %&apos;n&apos; times $nl with learning rate %&apos;learning rate&apos; $nl and shuffle the data %&apos;shuffle&apos; $nl and use %&apos;validation split&apos; of the data for validation $nl then when completed %&apos;process response&apos; $nl or if there is an error %&apos;process error&apos;" type="command" category="other"><comment x="0" y="0" w="265.7142857142857" collapsed="false">Train the model using &apos;n&apos; learning steps. Each step will change weights by &apos;learning rate&apos;. If it is too big the learning will fail. If it is too small it will go very slowly. So that the learning doesn&apos;t rely upon the order of the data it can be &apos;shuffled&apos; each step. If validation data hasn&apos;t been created then an alternative is to use &apos;validation split&apos; fraction of the data for validation.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%n"></input><input type="%n"></input><input type="%b">true</input><input type="%n">0</input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>train_model</l><list><block var="name"/><block var="n"/><block var="learning rate"/><block var="shuffle"/><block var="validation split"/><block var="process response"/><block var="process error"/></list></custom-block></script></block-definition><block-definition s="Train model named %&apos;model name&apos; %&apos;n&apos; times $nl then when completed %&apos;do when finished&apos;" type="command" category="other"><comment x="0" y="0" w="262.14285714285717" collapsed="false">Train the model using &apos;n&apos; learning steps.&#xD;There is a full-featured version of this block.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%n">10</input><input type="%cs"></input></inputs><script><custom-block s="Train model named %txt %n times %br with learning rate %n %br and shuffle the data %b %br and use %n of the data for validation %br then when completed %cmdRing %br or if there is an error %cmdRing"><block var="model name"/><block var="n"/><l>.001</l><l><bool>true</bool></l><l>0</l><block s="reifyScript"><script><block s="doRun"><block var="do when finished"/><list><block var="training statistics"/></list></block></script><list><l>training statistics</l></list></block><block s="reifyScript"><script><custom-block s="inform %txt with title %txt %br ok to repeat same message %b"><block var="error message"/><l>Error training a model</l><l><bool>true</bool></l></custom-block></script><list><l>error message</l></list></block></custom-block></script></block-definition><block-definition s="Create a neural net model %&apos;model name&apos; $nl with layers %&apos;layers&apos; $nl with input size %&apos;input size&apos; then %&apos;do when created&apos;" type="command" category="other"><comment x="0" y="0" w="249.2857142857143" collapsed="false">Creates a neural with a &apos;name&apos; that is used in other blocks for training and prediction. &apos;Layers&apos; is a list of positive numbers determine the size of each layer.  &apos;Input size&apos; should be a number or a list of numbers that describes what the input dimensions are. You don&apos;t need to provide this if you have already sent or loaded training data.&#xD;There is another version of this block with more inputs.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input><input type="%s"></input><input type="%cs"></input></inputs><script><custom-block s="Create a neural network model %txt %br with layers %l %br using optimizer %txt %br with loss function %txt %br with input size %s %br then %cmdRing %br but if there is an error %cmdRing"><block var="model name"/><block var="layers"/><l>Adaptive Stochastic Gradient Descent</l><l>Mean Squared Error</l><block var="input size"/><block var="do when created"/><block s="reifyScript"><script><custom-block s="inform %txt with title %txt %br ok to repeat same message %b"><block var="error message"/><l>Error creating a model</l><l/></custom-block></script><list><l>error message</l></list></block></custom-block></script></block-definition><block-definition s="Create a neural network model %&apos;name&apos; $nl with layers %&apos;layers&apos; $nl using optimizer %&apos;optimizer&apos; $nl with loss function %&apos;loss function&apos; $nl with input size %&apos;input size&apos; $nl then %&apos;do after model created&apos; $nl but if there is an error %&apos;process error&apos;" type="command" category="other"><comment x="0" y="0" w="245.00000000000003" collapsed="false">Creates a neural with a &apos;name&apos; that is used in other blocks for training and prediction. &apos;Layers&apos; is a list of positive numbers determine the size of each layer. The &apos;optimizer&apos; is the name of the method that will be used during training. &apos;loss function&apos; is used to measure the difference between predictions and outputs during training. &apos;Input size&apos; should be a number or a list of numbers that describes what the input dimensions are. You don&apos;t need to provide this if you have already sent or loaded training data.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input><input type="%txt" readonly="true">Stochastic Gradient Descent<options>Stochastic Gradient Descent&#xD;Adaptive Stochastic Gradient Descent&#xD;Adaptive Learning Rate Gradiant Descent&#xD;Adaptive Moment Estimation&#xD;Adaptive Moment Estimation Max&#xD;Momentum&#xD;Root Mean Squared Prop</options></input><input type="%txt" readonly="true">Mean Squared Error<options>Absolute Distance&#xD;Compute Weighted Loss&#xD;Cosine Distance&#xD;Hinge Loss&#xD;Huber Loss&#xD;Log Loss&#xD;Mean Squared Error&#xD;Sigmoid Cross Entropy&#xD;Softmax Cross Entropy</options></input><input type="%s"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>create_tensorflow_model</l><list><block var="name"/><block var="layers"/><block var="optimizer"/><block var="loss function"/><block var="input size"/><block var="do after model created"/><block var="process error"/></list></custom-block></script></block-definition><block-definition s="Search and replace %&apos;number of replacements&apos; times $nl with number of experiments %&apos;number of experiments&apos; $nl with %&apos;number of training cycles&apos; initial number of training cylces $nl do after each experiment finishes %&apos;when an experiment finishes&apos; $nl do after each replacement %&apos;do with parameters&apos; $nl then finally do %&apos;when finished&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input><input type="%n"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><block s="doIfElse"><block s="reportGreaterThan"><block var="number of replacements"/><l>0</l></block><script></script><script><block s="doRun"><block var="when finished"/><list></list></block></script></block></script></block-definition><block-definition s="Open support panel %&apos;source&apos;" type="command" category="sensing"><comment x="0" y="0" w="170.71428571428572" collapsed="false">Open an interface page for different machine learning models.</comment><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">training using camera<options>training using camera&#xD;training using microphone&#xD;posenet&#xD;tensorflow.js</options></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>display_support_window</l><list><block var="source"/></list></custom-block></script></block-definition><block-definition s="Send %&apos;kind of data&apos; data input %&apos;input&apos; output %&apos;output&apos; $nl forget old data %&apos;ignore old data&apos; ( this is only for %&apos;model name&apos; ) $nl then when data has been received %&apos;do when finished&apos;" type="command" category="other"><comment x="0" y="0" w="282.14285714285717" collapsed="false">Sends either training or validation data to the support panel.</comment><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">training<options>training&#xD;validation&#xD;test</options></input><input type="%l"></input><input type="%l"></input><input type="%b">false</input><input type="%txt">all models</input><input type="%cs"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>send_data</l><list><block var="model name"/><block var="kind of data"/><block var="input"/><block var="output"/><block var="ignore old data"/><block var="do when finished"/></list></custom-block></script></block-definition><block-definition s="inform %&apos;message&apos; with title %&apos;title&apos; $nl ok to repeat same message %&apos;ok&apos;" type="command" category="other"><comment x="0" y="0" w="217.14285714285717" collapsed="false">Will display &apos;message&apos; in a dialog box with &apos;title&apos;. User needs to click &apos;OK&apos; to remove it.&#xD;Can supress duplicate messages.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input><input type="%b">true</input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>inform</l><list><block var="title"/><block var="message"/><l></l><block var="ok"/></list></custom-block></script></block-definition><block-definition s="Open web page %&apos;url&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>open_web_page</l><list><block var="url"/></list></custom-block></script></block-definition><block-definition s="Load %&apos;model names&apos; if needed" type="command" category="other"><comment x="0" y="0" w="148.42857242857139" collapsed="false">Loads any of the &apos;model names&apos; if they aren&apos;t already loaded.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doForEach"><l>model name</l><block var="model names"/><script><block s="doIf"><block s="reportNot"><l/></block><script><custom-block s="Load neural net from URL %txt %br then when loaded %cmdRing %br unless there is an error %cmdRing"><block s="reportJoinWords"><list><l>models/</l><block var="model name"/><l>.json</l></list></block><block s="reifyScript"><script></script><list></list></block><block s="reifyScript"><script><custom-block s="inform %txt with title %txt %br ok to repeat same message %b"><l></l><l>Loading the model</l><l/></custom-block></script><list></list></block></custom-block></script></block></script></block><block s="doWaitUntil"><block s="errorObsolete"></block></block></script></block-definition><block-definition s="setting %&apos;which&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="254.66666666666666" collapsed="false">Allows reading global settings programmatically.&#xD;&#xD;Eisenberg&apos;s Law:  Anything you can do from the user interface you should be able to do in your program, and vice versa.  This library is just a beginning; there are many UI controls outside of the Settings menu.</comment><header></header><code></code><translations>pt:o valor da configurao _&#xD;</translations><inputs><input type="%s" readonly="true"><options>Project notes&#xD;Project name&#xD;User&#xD;Presentation mode&#xD;Language&#xD;Zoom blocks&#xD;Stage size&#xD;Stage scale&#xD;Retina display support&#xD;Long form input dialog&#xD;Plain prototype labels&#xD;Input sliders&#xD;Execute on slider change&#xD;Clicking sound&#xD;Turbo mode&#xD;Flat design&#xD;Keyboard editing&#xD;Visible stepping&#xD;Thread safe scripts&#xD;Prefer smooth animations&#xD;Flat line ends&#xD;Codification support&#xD;Inheritance support&#xD;Hyper blocks support&#xD;Visible palette</options></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>which</l></list><l>var stage = this.parentThatIsA(StageMorph),&#xD;    ide = stage.parentThatIsA(IDE_Morph),&#xD;    world = stage.parentThatIsA(WorldMorph);&#xD;&#xD;switch (which) {&#xD;    case &apos;Project notes&apos;:&#xD;        return ide.projectNotes;&#xD;    case &apos;Project name&apos;:&#xD;        return ide.projectName;&#xD;    case &apos;User&apos;:&#xD;        return ide.cloud.username;&#xD;    case &apos;Presentation mode&apos;:&#xD;        return ide.isAppMode;&#xD;    case &apos;Language&apos;:&#xD;        return SnapTranslator.language;&#xD;    case &apos;Zoom blocks&apos;:&#xD;        return SyntaxElementMorph.prototype.scale;&#xD;    case &apos;Stage size&apos;:&#xD;        return new List([StageMorph.prototype.dimensions.x,&#xD;                                   StageMorph.prototype.dimensions.y]);&#xD;    case &apos;Stage scale&apos;:&#xD;       return stage.scale;&#xD;    case &apos;Retina display support&apos;:&#xD;        return isRetinaEnabled();&#xD;    case &apos;Long form input dialog&apos;:&#xD;        return InputSlotDialogMorph.prototype.isLaunchingExpanded;&#xD;    case &apos;Plain prototype labels&apos;:&#xD;        return BlockLabelPlaceHolderMorph.prototype.plainLabel;&#xD;    case &apos;Input sliders&apos;:&#xD;        return MorphicPreferences.useSliderForInput;&#xD;    case &apos;Execute on slider change&apos;:&#xD;        return ArgMorph.prototype.executeOnSliderEdit;&#xD;    case &apos;Clicking sound&apos;:&#xD;        return !!BlockMorph.prototype.snapSound;&#xD;    case &apos;Turbo mode&apos;:&#xD;        return stage.isFastTracked;&#xD;    case &apos;Flat design&apos;:&#xD;        return MorphicPreferences.isFlat;&#xD;    case &apos;Keyboard editing&apos;:&#xD;        return !!this.scripts.focus;&#xD;    case &apos;Visible stepping&apos;:&#xD;        return Process.prototype.enableSingleStepping;&#xD;    case &apos;Thread safe scripts&apos;:&#xD;        return stage.isThreadSafe;&#xD;    case &apos;Prefer smooth animations&apos;:&#xD;        return StageMorph.prototype.frameRate &gt; 0;&#xD;    case &apos;Flat line ends&apos;:&#xD;        return SpriteMorph.prototype.useFlatLineEnds;&#xD;    case &apos;Codification support&apos;:&#xD;        return StageMorph.prototype.enableCodeMapping;&#xD;    case &apos;Inheritance support&apos;:&#xD;        return StageMorph.prototype.enableInheritance;&#xD;    case &apos;Hyper blocks support&apos;:&#xD;        return Process.prototype.enableHyperOps;&#xD;    default: return which;&#xD;    case &apos;Visible palette&apos;:&#xD;        return ide.currentCategory;&#xD;}</l></block><list><block var="which"/></list></block></block></script></block-definition><block-definition s="set flag %&apos;which&apos; to %&apos;tf&apos;" type="command" category="sensing"><comment x="0" y="0" w="254.66666666666666" collapsed="false">Allows changing global settings programmatically.&#xD;This block is for Boolean (checkbox) settings; use&#xD;SET VALUE for numeric or text values.&#xD;&#xD;Eisenberg&apos;s Law:  Anything you can do from the user interface you should be able to do in your program, and vice versa.  This library is just a beginning; there are many UI controls outside of the Settings menu.</comment><header></header><code></code><translations>pt:altera o valor da configurao _ para _&#xD;</translations><inputs><input type="%s" readonly="true"><options>Presentation mode&#xD;Retina display support&#xD;Long form input dialog&#xD;Plain prototype labels&#xD;Input sliders&#xD;Execute on slider change&#xD;Clicking sound&#xD;Turbo mode&#xD;Flat design&#xD;Keyboard editing&#xD;Visible stepping&#xD;Thread safe scripts&#xD;Prefer smooth animations&#xD;Flat line ends&#xD;Codification support&#xD;Inheritance support&#xD;Hyper blocks support</options></input><input type="%b"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>which</l><l>tf</l></list><l>var   stage = this.parentThatIsA(StageMorph),&#xD;        ide = stage.parentThatIsA(IDE_Morph),&#xD;        world = stage.parentThatIsA(WorldMorph),&#xD;        thisObj = this;&#xD;&#xD;if (tf != !!tf) return;&#xD;&#xD;try{&#xD;ide.savingPreferences = false;&#xD;&#xD;switch (which) {&#xD;    case &apos;Presentation mode&apos;:&#xD;        if (tf != ide.isAppMode) ide.toggleAppMode();&#xD;        break;&#xD;    case &apos;Retina display support&apos;:&#xD;        if (tf != isRetinaEnabled()) ide.toggleRetina();&#xD;        break;&#xD;    case &apos;Long form input dialog&apos;:&#xD;        if (tf != InputSlotDialogMorph.prototype.isLaunchingExpanded)&#xD;            ide.toggleLongFormInputDialog();&#xD;        break;&#xD;    case &apos;Plain prototype labels&apos;:&#xD;        if (tf != BlockLabelPlaceHolderMorph.prototype.plainLabel)&#xD;            ide.togglePlainPrototypeLabels();&#xD;        break;&#xD;    case &apos;Input sliders&apos;:&#xD;        MorphicPreferences.useSliderForInput = tf;&#xD;        break;&#xD;    case &apos;Execute on slider change&apos;:&#xD;        ArgMorph.prototype.executeOnSliderEdit = tf;&#xD;        break;&#xD;    case &apos;Clicking sound&apos;:&#xD;        if (tf != !!BlockMorph.prototype.snapSound)&#xD;            BlockMorph.prototype.toggleSnapSound();&#xD;        break;&#xD;    case &apos;Turbo mode&apos;:&#xD;        if (tf != stage.isFastTracked)&#xD;            ide.toggleFastTracking();&#xD;        break;&#xD;    case &apos;Flat design&apos;:&#xD;        if (tf == MorphicPreferences.isFlat) break;&#xD;        if (tf)&#xD;            ide.flatDesign();&#xD;        else&#xD;            ide.defaultDesign();&#xD;        break;&#xD;    case &apos;Keyboard editing&apos;:&#xD;        if (thisObj.scripts.focus &amp;&amp; !tf) {&#xD;            thisObj.scripts.focus.stopEditing();&#xD;        } else if (tf &amp;&amp; !thisObj.scripts.focus) {&#xD;            thisObj.scripts.toggleKeyboardEntry();&#xD;        };&#xD;        break;&#xD;    case &apos;Visible stepping&apos;:&#xD;        if (tf != Process.prototype.enableSingleStepping)&#xD;            ide.toggleSingleStepping();&#xD;        break;&#xD;    case &apos;Thread safe scripts&apos;:&#xD;        stage.isThreadSafe = tf;&#xD;        break;&#xD;    case &apos;Prefer smooth animations&apos;:&#xD;        if (tf != (StageMorph.prototype.frameRate &gt; 0))&#xD;            ide.toggleVariableFrameRate();&#xD;        break;&#xD;    case &apos;Flat line ends&apos;:&#xD;        SpriteMorph.prototype.useFlatLineEnds = tf;&#xD;        break;&#xD;    case &apos;Codification support&apos;:&#xD;        if (tf != StageMorph.prototype.enableCodeMapping) {&#xD;            StageMorph.prototype.enableCodeMapping = tf;&#xD;            ide.currentSprite.blocksCache.variables = null;&#xD;            ide.currentSprite.paletteCache.variables = null;&#xD;            ide.refreshPalette();&#xD;        }&#xD;        break;&#xD;    case &apos;Inheritance support&apos;:&#xD;        if (tf != StageMorph.prototype.enableInheritance) {&#xD;            StageMorph.prototype.enableInheritance = tf;&#xD;            ide.currentSprite.blocksCache.variables = null;&#xD;            ide.currentSprite.paletteCache.variables = null;&#xD;            ide.refreshPalette();&#xD;        }&#xD;        break;&#xD;    case &apos;Hyper blocks support&apos;:&#xD;        Process.prototype.enableHyperOps = tf;&#xD;        break;&#xD;};&#xD;}&#xD;finally {&#xD;ide.savingPreferences = false;&#xD;};&#xD;</l></block><list><block var="which"/><block var="tf"/></list></block></script></block-definition><block-definition s="set value %&apos;which&apos; to %&apos;value&apos;" type="command" category="sensing"><comment x="0" y="0" w="254.66666666666666" collapsed="false">Allows changing global settings programmatically.&#xD;This block is for numeric or text settings; use&#xD;SET FLAG for Boolean (checkbox) values.&#xD;&#xD;Eisenberg&apos;s Law:  Anything you can do from the user interface you should be able to do in your program, and vice versa.  This library is just a beginning; there are many UI controls outside of the Settings menu.</comment><header></header><code></code><translations>pt:altera o valor da configurao _ para _&#xD;</translations><inputs><input type="%s" readonly="true"><options>Project notes&#xD;Project name&#xD;Language&#xD;Zoom blocks&#xD;Stage size&#xD;Stage scale&#xD;Visible palette</options></input><input type="%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>which</l><l>value</l></list><l>var   stage = this.parentThatIsA(StageMorph),&#xD;        ide = stage.parentThatIsA(IDE_Morph),&#xD;        world = stage.parentThatIsA(WorldMorph);&#xD;&#xD;try {&#xD;ide.savingPreferences = false;&#xD;&#xD;switch (which) {&#xD;    case &apos;Project notes&apos;:&#xD;        ide.projectNotes = value;&#xD;        break;&#xD;    case &apos;Project name&apos;:&#xD;        ide.setProjectName(value);&#xD;        break;&#xD;    case &apos;Language&apos;:&#xD;        ide.setLanguage(value);&#xD;        break;&#xD;    case &apos;Zoom blocks&apos;:&#xD;        if (!isNaN(value)) ide.setBlocksScale(Math.min(value, 12));&#xD;        break;&#xD;    case &apos;Stage size&apos;:&#xD;        if ((value instanceof List) &amp;&amp; value.length()==2&#xD;                       &amp;&amp; !isNaN(value.at(1)) &amp;&amp; !isNaN(value.at(2)))&#xD;            ide.setStageExtent(new Point(value.at(1), value.at(2)));&#xD;        break;&#xD;    case &apos;Stage scale&apos;:&#xD;        ide.toggleStageSize(value != 1, Math.max(0.1, value));&#xD;        break;&#xD;    case &apos;Visible palette&apos;:&#xD;        ide.currentCategory = value.toLowerCase();&#xD;        ide.categories.children.forEach(function (each) {&#xD;                each.refresh();&#xD;        });&#xD;        ide.refreshPalette(true);&#xD;        break;&#xD;};&#xD;}&#xD;finally {ide.savingPreferences = true;&#xD;};</l></block><list><block var="which"/><block var="value"/></list></block></script></block-definition><block-definition s="Check if %&apos;model name&apos; exists $nl then do %&apos;process answer&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>does_model_exist</l><list><block var="model name"/><block var="process answer"/></list></custom-block></script></block-definition><block-definition s="Does %&apos;model name&apos; model exist?" type="predicate" category="lists"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><custom-block s="let %upvar be %s"><l>answer</l><l>unknown</l></custom-block><custom-block s="Check if %txt exists %br then do %cmdRing"><block var="model name"/><block s="reifyScript"><script><block s="doSetVar"><l>answer</l><block var="response"/></block></script><list><l>response</l></list></block></custom-block><block s="doWaitUntil"><block s="reportIsA"><block var="answer"/><l><option>Boolean</option></l></block></block><block s="doReport"><block var="answer"/></block></script></block-definition><block-definition s="Set random number seed %&apos;seed&apos;" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%n"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>set_random_number_seed</l><list><block var="seed"/></list></custom-block></script></block-definition><block-definition s="as percentages %&apos;data&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>sum</l><block s="reportCombine"><block var="data"/><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block></block></custom-block><block s="doReport"><block s="reportRound"><block s="reportProduct"><block s="reportQuotient"><block var="data"/><block var="sum"/></block><l>100</l></block></block></block></script></block-definition><block-definition s="collect results for test %&apos;index&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%n"></input></inputs><script><block s="doReport"><block s="reportConcatenatedLists"><list><block s="reportListItem"><block s="reportListItem"><block var="index"/><block var="test indices"/></block><block var="inputs"/></block><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportNot"><block s="reportEquals"><l></l><l>NA</l></block></block></autolambda><list></list></block><block s="reportListItem"><block s="reportNumbers"><l>6</l><l>10</l></block><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><block s="reportListItem"><block var="index"/><block var="test indices"/></block><l/></block></autolambda><list></list></block><block var="outputs"/></block></block></block><block s="reportListItem"><block var="index"/><block var="one category predictions"/></block><custom-block s="as percentages %l"><block s="reportListItem"><block var="index"/><block var="multi-category predictions"/></block></custom-block></list></block></block></script></block-definition><block-definition s="Use dataset %&apos;dataset&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%txt"><options>case study&#xD;logistics</options></input></inputs><script><block s="doIfElse"><block s="reportEquals"><block var="dataset"/><l>case study</l></block><script><block s="doSetVar"><l>model name</l><block s="reportIfElse"><block var="primary category"/><l>whatsapp case study 3</l><l>whatsapp multi-category case study 3</l></block></block><block s="doSetVar"><l>index of primary content</l><l>17</l></block><block s="doSetVar"><l>data</l><block var="cleaned-case-study-group-v2"/></block><block s="doSetVar"><l>message key</l><l>anonymisedMessageWithPseudonymReplacementsAndRemovedImages</l></block></script><script><block s="doSetVar"><l>model name</l><block s="reportIfElse"><block var="primary category"/><l>whatsapp logistics 3</l><l>whatsapp multi-category logistics 3</l></block></block><block s="doSetVar"><l>index of primary content</l><l>18</l></block><block s="doSetVar"><l>data</l><block var="cleaned-logistics-group-v2"/></block><block s="doSetVar"><l>message key</l><l>anonymisedMessageWithPseudonymReplacements</l></block></script></block><block s="doSetVar"><l>content code keys</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><l/></block></autolambda><list></list></block><block s="reportListItem"><block s="reportNumbers"><block var="index of primary content"/><block s="reportSum"><block var="index of primary content"/><l>4</l></block></block><block s="reportListItem"><l>1</l><block var="data"/></block></block></block></block></script></block-definition><block-definition s="Create content codes" type="command" category="lists"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doWarp"><script><block s="doSetVar"><l>all content codes</l><custom-block s="Content code counts %br only the short category %b %br for all content code keys %b"><l><bool>true</bool></l><l><bool>true</bool></l></custom-block></block><block s="doSetVar"><l>content codes</l><block s="reportNewList"><list></list></block></block><custom-block s="for each %upvar of %l %cs"><l>code and frequency</l><block var="all content codes"/><script><block s="doIf"><block s="reportGreaterThan"><block s="reportListItem"><l>2</l><block var="code and frequency"/></block><l>9</l></block><script><block s="doAddToList"><block s="reportListItem"><l>1</l><block var="code and frequency"/></block><block var="content codes"/></block></script></block></script></custom-block></script></block></script></block-definition><block-definition s="Combine case study and logistics" type="command" category="lists"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Use dataset %txt"><l>logistics</l></custom-block><custom-block s="Create inputs and outputs in %l and %b keep sub-categories"><block var="data"/><l><bool>false</bool></l></custom-block><custom-block s="let %upvar be %s"><l>logistics inputs</l><block var="inputs"/></custom-block><custom-block s="let %upvar be %s"><l>logistics outputs</l><block var="outputs"/></custom-block><custom-block s="Use dataset %txt"><l>case study</l></custom-block><custom-block s="Create inputs and outputs in %l and %b keep sub-categories"><block var="data"/><l><bool>false</bool></l></custom-block><block s="doSetVar"><l>inputs</l><block s="reportConcatenatedLists"><list><block var="logistics inputs"/><block var="inputs"/></list></block></block><block s="doSetVar"><l>outputs</l><custom-block s="map %repRing on each element of %l and %l"><block s="reifyReporter"><autolambda><block s="reportConcatenatedLists"><list><l/><l/></list></block></autolambda><list></list></block><block var="logistics outputs"/><block var="outputs"/></custom-block></block><block s="doSetVar"><l>model name</l><l>whatsapp both 3</l></block></script></block-definition><block-definition s="Swap training and test data" type="command" category="lists"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="let %upvar be %s"><l>temp</l><block var="train input"/></custom-block><block s="doSetVar"><l>train input</l><block var="test input"/></block><block s="doSetVar"><l>test input</l><block var="temp"/></block><block s="doSetVar"><l>temp</l><block var="train output"/></block><block s="doSetVar"><l>train output</l><block var="test output"/></block><block s="doSetVar"><l>test output</l><block var="temp"/></block><block s="doSetVar"><l>temp</l><block var="train indices"/></block><block s="doSetVar"><l>train indices</l><block var="test indices"/></block><block s="doSetVar"><l>test indices</l><block var="temp"/></block></script></block-definition><block-definition s="Compute multi-category scores with model(s) %&apos;model name&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doSetVar"><l>multi-category</l><l>Pending</l></block><custom-block s="Evaluate multi-category model(s) %s with inputs %l and outputs %l and indices %l %br and do with analysis %cmdRing"><block var="model name"/><custom-block s="Skip %b sender role %l"><l><bool>false</bool></l><block var="test input"/></custom-block><block var="test output"/><block var="test indices"/><block s="reifyScript"><script><block s="doWarp"><script><block s="doSetVar"><l>multi-category</l><block s="reportCONS"><block s="reportListItem"><l>1</l><l/></block><custom-block s="sort %l ordering with %predRing"><block s="reportCDR"><l/></block><block s="reifyPredicate"><autolambda><block s="reportLessThan"><block s="reportListItem"><l>2</l><l/></block><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block></custom-block></block></block></script></block><custom-block s="Average scores"></custom-block></script><list></list></block></custom-block></script></block-definition><block-definition s="Average scores" type="command" category="lists"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doWarp"><script><custom-block s="let %upvar be %s"><l>total strict score</l><l>0</l></custom-block><custom-block s="let %upvar be %s"><l>total loose score</l><l>0</l></custom-block><custom-block s="let %upvar be %s"><l>number of scores</l><block s="reportListAttribute"><l><option>length</option></l><block s="reportCDR"><block var="multi-category"/></block></block></custom-block><custom-block s="for each %upvar of %l %cs"><l>row</l><block s="reportCDR"><block var="multi-category"/></block><script><block s="doChangeVar"><l>total strict score</l><block s="reportListItem"><l>1</l><block var="row"/></block></block><block s="doChangeVar"><l>total loose score</l><block s="reportListItem"><l>2</l><block var="row"/></block></block></script></custom-block><block s="bubble"><block s="reportNewList"><list><l>strict</l><block s="reportRound"><block s="reportQuotient"><block var="total strict score"/><block var="number of scores"/></block></block><l>loose</l><block s="reportRound"><block s="reportQuotient"><block var="total loose score"/><block var="number of scores"/></block></block></list></block></block></script></block></script></block-definition><block-definition s="Evaluate multi-category model(s) %&apos;model name(s)&apos; with inputs %&apos;input data&apos; and outputs %&apos;output data&apos; and indices %&apos;indices&apos; $nl and do with analysis %&apos;do&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%l"></input><input type="%l"></input><input type="%l"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Get predictions from model(s) %txt with inputs %l %br then %cmdRing %br or if there is an error %cmdRing %br with categories %l"><block var="model name"/><block var="input data"/><block s="reifyScript"><script><custom-block s="let %upvar be %s"><l>true</l><custom-block s="select output %l only first category %b"><block var="output data"/><l><bool>false</bool></l></custom-block></custom-block><custom-block s="let %upvar be %s"><l>outcomes</l><block s="reportNewList"><list><block s="reportNewList"><list><l>Strict score</l><l>Loose score</l><l>SE rank</l><l>SE score</l><l>C&amp;I rank</l><l>C&amp;I score</l><l>Q rank</l><l>Q score</l><l>Sender Role</l><l>Message</l></list></block></list></block></custom-block><custom-block s="%upvar for each %upvar of %l %cs"><l>row index</l><l>prediction</l><block var="predictions"/><script><custom-block s="let %upvar be %s"><l>outcome</l><block s="reportNewList"><list></list></block></custom-block><custom-block s="let %upvar be %s"><l>sorted predicted content codes</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><l/></block></autolambda><list></list></block><custom-block s="sort %l ordering with %predRing"><block var="prediction"/><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><block s="reportListItem"><l>2</l><l/></block><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block></custom-block></block></custom-block><custom-block s="let %upvar be %s"><l>strict row score</l><l>0</l></custom-block><custom-block s="let %upvar be %s"><l>loose row score</l><l>0</l></custom-block><custom-block s="for each %upvar of %l %cs"><l>content code and score</l><block var="prediction"/><script><custom-block s="let %upvar be %s"><l>content code</l><block s="reportListItem"><l>1</l><block var="content code and score"/></block></custom-block><custom-block s="let %upvar be %s"><l>true rank</l><block s="reportListIndex"><block var="content code"/><block s="reportListItem"><block var="row index"/><block var="true"/></block></block></custom-block><custom-block s="let %upvar be %s"><l>predicted rank</l><block s="reportListIndex"><block var="content code"/><block var="sorted predicted content codes"/></block></custom-block><custom-block s="let %upvar be %s"><l>predicted score</l><block s="reportRound"><block s="reportProduct"><block s="reportListItem"><l>2</l><block var="content code and score"/></block><l>100</l></block></block></custom-block><block s="doIfElse"><block s="reportEquals"><block var="true rank"/><block var="predicted rank"/></block><script><block s="doChangeVar"><l>strict row score</l><block var="predicted score"/></block></script><script><block s="doChangeVar"><l>strict row score</l><block s="reportProduct"><l>-1</l><block var="predicted score"/></block></block></script></block><block s="doIfElse"><block s="reportOr"><block s="reportAnd"><block s="reportGreaterThan"><block var="true rank"/><l>0</l></block><block s="reportGreaterThan"><block var="predicted rank"/><l>0</l></block></block><block s="reportAnd"><block s="reportEquals"><block var="true rank"/><l>0</l></block><block s="reportEquals"><block var="predicted rank"/><l>0</l></block></block></block><script><block s="doChangeVar"><l>loose row score</l><block var="predicted score"/></block></script><script><block s="doChangeVar"><l>loose row score</l><block s="reportProduct"><l>-1</l><block var="predicted score"/></block></block></script></block><block s="doSetVar"><l>outcome</l><block s="reportConcatenatedLists"><list><block var="outcome"/><block s="reportNewList"><list><block var="true rank"/><block var="predicted score"/></list></block></list></block></block></script></custom-block><block s="doSetVar"><l>outcome</l><block s="reportConcatenatedLists"><list><block s="reportNewList"><list><block var="strict row score"/><block var="loose row score"/></list></block><block var="outcome"/><custom-block s="if %b then %anyUE else %anyUE"><block s="reportIsA"><block var="inputs"/><l><option>list</option></l></block><block s="reportListItem"><block s="reportListItem"><block var="row index"/><block var="indices"/></block><block var="inputs"/></block><l>not recorded</l></custom-block></list></block></block><block s="doAddToList"><block var="outcome"/><block var="outcomes"/></block></script></custom-block><block s="doRun"><block var="do"/><list><block var="outcomes"/></list></block></script><list><l>predictions</l></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><block var="content codes"/></custom-block></script></block-definition><block-definition s="%&apos;#&apos; for each %&apos;item&apos; of %&apos;data&apos; %&apos;action&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%upvar"></input><input type="%l"></input><input type="%cs"></input></inputs><script><block s="doSetVar"><l>#</l><l>1</l></block><block s="doUntil"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doSetVar"><l>item</l><block s="reportListItem"><l>1</l><block var="data"/></block></block><block s="doRun"><block var="action"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="doSetVar"><l>data</l><block s="reportCDR"><block var="data"/></block></block><block s="doChangeVar"><l>#</l><l>1</l></block></script></block></script></block-definition><block-definition s="$flash remove duplicates from %&apos;data&apos;" type="reporter" category="lists"><comment x="0" y="0" w="209" collapsed="false">Reports a new list whose items are the same as in the input list, except that if two or more equal items appear in the input list, only the last one is kept in the result.</comment><header></header><code></code><translations>ca:elimina els duplicats de _&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportAtomicKeep"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block s="reportListIndex"><block var="value"/><block var="list"/></block><block var="index"/></block></autolambda><list><l>value</l><l>index</l><l>list</l></list></block><block var="data"/></block></block></script><scripts><script x="14" y="164.2222222222222"><block s="doWarp"><script><block s="doIf"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doIfElse"><block s="reportListContainsItem"><block s="reportCDR"><block var="data"/></block><block s="reportListItem"><l>1</l><block var="data"/></block></block><script><block s="doReport"><custom-block s="$flash remove duplicates from %l"><block s="reportCDR"><block var="data"/></block></custom-block></block></script><script><block s="doReport"><block s="reportCONS"><block s="reportListItem"><l>1</l><block var="data"/></block><custom-block s="$flash remove duplicates from %l"><block s="reportCDR"><block var="data"/></block></custom-block></block></block></script></block></script></block></script></scripts></block-definition><block-definition s="$flash assoc %&apos;key&apos; %&apos;a-list&apos;" type="reporter" category="lists"><comment x="0" y="0" w="289.3333333333333" collapsed="false">The second input is an &quot;association list,&quot; a list of two-item lists.  Each of those smaller lists has a &quot;key&quot; as its first item and a &quot;value&quot; as its second.  ASSOC reports the first key-value pair in the association list whose key matches the first input.</comment><header></header><code></code><translations>ca:associaci _ _&#xD;</translations><inputs><input type="%s"></input><input type="%l"></input></inputs><script><block s="doReport"><block s="reportAtomicFindFirst"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block var="key"/><block s="reportListItem"><l>1</l><l/></block></block></autolambda><list></list></block><block var="a-list"/></block></block></script><scripts><script x="19.333333333333332" y="108.22222222222221"><block s="doIf"><block s="reportEquals"><block var="a-list"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="key"/><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="a-list"/></block></block></block><script><block s="doReport"><block s="reportListItem"><l>1</l><block var="a-list"/></block></block></script></block><block s="doReport"><custom-block s="$flash assoc %s %l"><block var="key"/><block s="reportCDR"><block var="a-list"/></block></custom-block></block></script></scripts></block-definition><block-definition s="$flash reverse %&apos;list&apos;" type="reporter" category="lists"><header></header><code></code><translations>de:$flash umgekehrt _&#xD;pt:$flash uma lista inversa de _&#xD;ca:$flash capgira _&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>list</l></list><l>return new List(list.asArray().slice().reverse());</l></block><list><block var="list"/></list></block></block></script></block-definition><block-definition s=" link %&apos;data&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doIf"><block s="reportListIsEmpty"><block var="data"/></block><script><block s="doReport"><block var="data"/></block></script></block><block s="doReport"><block s="reportCONS"><block s="reportListItem"><l>1</l><block var="data"/></block><block s="reportCDR"><block var="data"/></block></block></block></script></block-definition><block-definition s="printable %&apos;data&apos;" type="reporter" category="lists"><comment x="0" y="0" w="188.66666666666669" collapsed="false">Takes a (possibly deep) list as input,&#xD;and reports a human-readable text form &#xD;of the list (namely, Lisp notation).&#xD;&#xD;Will not work on circular lists.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doIf"><block s="reportNot"><block s="reportIsA"><block var="data"/><l><option>list</option></l></block></block><script><block s="doReport"><block var="data"/></block></script></block><block s="doIf"><block s="reportListIsEmpty"><block var="data"/></block><script><block s="doReport"><l>()</l></block></script></block><block s="doReport"><block s="reportJoinWords"><list><l>(</l><block s="reportAtomicCombine"><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="printable %l"><l/></custom-block></autolambda><list></list></block><block var="data"/></block><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><l></l><l> </l><l></l></list></block></autolambda><list></list></block></block><l>)</l></list></block></block></script></block-definition><block-definition s="sentence %&apos;phrase&apos;" type="reporter" category="lists"><comment x="0" y="0" w="302.6666666666667" collapsed="false">SENTENCE is the main constructor for sentences, represented&#xD;as lists of words.  It takes zero or more inputs, each of which can&#xD;be either a list or a text string.  If a list, the input is assumed to be&#xD;a list of words.  If a text string, it is converted to a list of words using&#xD;SENTENCELIST.  Then all the lists of words are appended to form a new list of words.&#xD;&#xD;If the inputs are lists of lists rather than lists of words, SENTENCE,&#xD;like APPEND, does only one level of flattening, reporting a list of&#xD;all the items of all the input lists.</comment><header></header><code></code><translations></translations><inputs><input type="%mult%s"></input></inputs><script><block s="doReport"><block s="reportConcatenatedLists"><block s="reportAtomicMap"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportIsA"><l></l><l><option>list</option></l></block><l></l><custom-block s="sentence $arrowRight list %txt"><l></l></custom-block></block></autolambda><list></list></block><block var="phrase"/></block></block></block></script></block-definition><block-definition s="$flash zip %&apos;lists&apos;" type="reporter" category="lists"><comment x="0" y="0" w="191.99999999999997" collapsed="false">ZIP takes any number of lists as inputs.  The lists should all be the same length.  ZIP reports a list of lists in which the first item is a list of all the first items, the second item is a list of all the second items, etc.&#xD;Viewing the inputs as the rows of a matrix, ZIP reports its transpose.</comment><header></header><code></code><translations></translations><inputs><input type="%mult%l"></input></inputs><script><block s="doIf"><block s="reportListIsEmpty"><block s="reportListItem"><l>1</l><block var="lists"/></block></block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doReport"><block s="reportCONS"><block s="reportAtomicMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><l/></block></autolambda><list></list></block><block var="lists"/></block><custom-block s="$flash zip %mult%l"><block s="reportAtomicMap"><block s="reifyReporter"><autolambda><block s="reportCDR"><l/></block></autolambda><list></list></block><block var="lists"/></block></custom-block></block></block></script></block-definition><block-definition s="%&apos;x&apos;" type="reporter" category="lists"><comment x="0" y="0" w="105.33333333333331" collapsed="false">The identity function reports its input.</comment><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block var="x"/></block></script></block-definition><block-definition s="multimap %&apos;function&apos; over %&apos;lists&apos;" type="reporter" category="lists"><comment x="0" y="0" w="267.3333333333333" collapsed="false">Takes as input a function of N inputs and N lists.&#xD;The function is called with item 1 of all the lists as its inputs, with item 2 of all the lists as its inputs, and so on.  (The lists should all be the same length.)</comment><header></header><code></code><translations></translations><inputs><input type="%repRing"></input><input type="%mult%l"></input></inputs><script><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="evaluate"><block var="function"/><custom-block s="%s"><l></l></custom-block></block></autolambda><list></list></block><custom-block s="$flash zip %mult%l"><block var="lists"/></custom-block></block></block></script></block-definition><block-definition s="sentence $arrowRight list %&apos;text&apos;" type="reporter" category="operators"><comment x="0" y="0" w="196" collapsed="false">Takes a sentence in text string form and reports the sentence as a list of its words.</comment><header></header><code></code><translations>de:Satz $arrowRight Liste _&#xD;ca:frase $arrowRight llista _&#xD;es:frase $arrowRight lista _&#xD;fr:phrase $arrowRight liste _&#xD;pt:uma lista com as palavras da frase _&#xD;</translations><inputs><input type="%txt"></input></inputs><script><block s="doReport"><block s="reportAtomicKeep"><block s="reifyPredicate"><autolambda><block s="reportNot"><block s="reportEquals"><block s="reportStringSize"><l></l></block><l>0</l></block></block></autolambda><list></list></block><block s="reportTextSplit"><block var="text"/><l><option>whitespace</option></l></block></block></block></script></block-definition><block-definition s="Evaluate guesses matching %&apos;first category&apos; first categhory" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%b">true</input></inputs><script><block s="doWarp"><script><custom-block s="let %upvar be %s"><l>count</l><l>0</l></custom-block><block s="doRepeat"><l>100</l><script><custom-block s="for each %upvar of %l %cs"><l>item</l><block s="reportListAttribute"><l><option>transpose</option></l><block var="test output"/></block><script><custom-block s="let %upvar be %s"><l>guess</l><block s="reportListItem"><l><option>any</option></l><block var="content codes"/></block></custom-block><block s="doIf"><custom-block s="if %b then %anyUE else %anyUE"><block var="first category"/><block s="reportEquals"><block var="guess"/><block s="reportListItem"><l>1</l><block var="item"/></block></block><block s="reportListContainsItem"><block var="item"/><block var="guess"/></block></custom-block><script><block s="doChangeVar"><l>count</l><l>1</l></block></script></block></script></custom-block></script></block><block s="doReport"><block s="reportRound"><block s="reportQuotient"><block var="count"/><block s="reportListItem"><l>2</l><block s="reportListAttribute"><l><option>dimensions</option></l><block var="test output"/></block></block></block></block></block></script></block><block s="doReport"><l></l></block></script></block-definition><block-definition s="Percent correct with input %&apos;input&apos; $nl output %&apos;output&apos; $nl indices %&apos;indices&apos; $nl only the first category %&apos;only first category&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input><input type="%l"></input><input type="%b">true</input></inputs><script><custom-block s="let %upvar be %s"><l>correct percentage</l><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><custom-block s="run tests with %txt with inputs %l %br and then %cmdRing"><block var="model name"/><block var="input"/><block s="reifyScript"><script><custom-block s="let %upvar be %s"><l>correct and differences</l><custom-block s="count matches %l and %l %br with indices %l %br only the first category %b"><block var="predictions"/><block var="output"/><block var="indices"/><block var="only first category"/></custom-block></custom-block><block s="doSetVar"><l>correct percentage</l><block s="reportRound"><block s="reportQuotient"><block s="reportProduct"><l>100</l><block s="reportListItem"><l>1</l><block var="correct and differences"/></block></block><block s="reportListAttribute"><l><option>length</option></l><block var="predictions"/></block></block></block></block></script><list><l>predictions</l></list></block></custom-block><block s="doWaitUntil"><block s="reportIsA"><block var="correct percentage"/><l><option>number</option></l></block></block><block s="doReport"><block var="correct percentage"/></block></script></block-definition><block-definition s="Evaluate results for models with base model name %&apos;model name&apos; $nl using rest of history %&apos;history remaining&apos; with results so far %&apos;results&apos; $nl and then do %&apos;do&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input><input type="%l"></input><input type="%cmdRing"></input></inputs><script><block s="doIfElse"><block s="reportListIsEmpty"><block var="history remaining"/></block><script><block s="doRun"><block var="do"/><list><block var="results"/></list></block></script><script><block s="bubble"><block var="model name"/></block><custom-block s="Class frequencies from predictions from model %txt with inputs %l %br then do %cmdRing"><block var="model name"/><block var="test input"/><block s="reifyScript"><script><custom-block s="run tests with %txt with inputs %l %br and then %cmdRing"><block var="model name"/><block var="test input"/><block s="reifyScript"><script><custom-block s="let %upvar be %s"><l>correct and differences only first category</l><custom-block s="count matches %l and %l %br with indices %l %br only the first category %b"><block var="predictions"/><block var="test output"/><block var="test indices"/><l><bool>true</bool></l></custom-block></custom-block><custom-block s="let %upvar be %s"><l>correct and differences all categories</l><custom-block s="count matches %l and %l %br with indices %l %br only the first category %b"><block var="predictions"/><block var="test output"/><block var="test indices"/><l><bool>false</bool></l></custom-block></custom-block><custom-block s="let %upvar be %s"><l>exploded model name</l><block s="reportTextSplit"><block var="model name"/><l><option>letter</option></l></block></custom-block><custom-block s="let %upvar be %s"><l>dash index</l><block s="reportListIndex"><l>_</l><block var="exploded model name"/></block></custom-block><custom-block s="let %upvar be %s"><l>next model name</l><block s="reportJoinWords"><list><block s="reportListItem"><block s="reportNumbers"><l>1</l><block var="dash index"/></block><block var="exploded model name"/></block><block s="reportSum"><block s="reportJoinWords"><list><block s="reportListItem"><block s="reportNumbers"><block s="reportSum"><block var="dash index"/><l>1</l></block><block s="reportListAttribute"><l><option>length</option></l><block var="exploded model name"/></block></block><block var="exploded model name"/></block></list></block><l>1</l></block></list></block></custom-block><custom-block s="Evaluate results for models with base model name %txt %br using rest of history %l with results so far %l %br and then do %cmdRing"><block var="next model name"/><block s="reportCDR"><block var="history remaining"/></block><block s="reportCONS"><custom-block s="Evaluate prediction with first category accuracy %n %br with all category accuarcy %n %br with prediction frequencies %l with history item %l"><block s="reportRound"><block s="reportQuotient"><block s="reportProduct"><l>100</l><block s="reportListItem"><l>1</l><block var="correct and differences only first category"/></block></block><block s="reportListAttribute"><l><option>length</option></l><block var="predictions"/></block></block></block><block s="reportRound"><block s="reportQuotient"><block s="reportProduct"><l>100</l><block s="reportListItem"><l>1</l><block var="correct and differences all categories"/></block></block><block s="reportListAttribute"><l><option>length</option></l><block var="predictions"/></block></block></block><block var="frequencies"/><block s="reportListItem"><l>1</l><block var="history remaining"/></block></custom-block><block var="results"/></block><block var="do"/></custom-block></script><list><l>predictions</l></list></block></custom-block></script><list><l>frequencies</l></list></block></custom-block></script></block></script></block-definition><block-definition s="Evaluate prediction with first category accuracy %&apos;first category accuracy&apos; $nl with all category accuarcy %&apos;all category accuracy&apos; $nl with prediction frequencies %&apos;frequencies&apos; with history item %&apos;history element&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input><input type="%l"></input><input type="%l"></input></inputs><script><block s="doReport"><block s="reportConcatenatedLists"><list><block s="reportNewList"><list><block var="first category accuracy"/><block var="all category accuracy"/></list></block><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="zero if not number %s"><custom-block s="find %txt in %l"><l></l><block var="frequencies"/></custom-block></custom-block></autolambda><list></list></block><block var="content codes"/></block><block s="reportTextSplit"><custom-block s="find %txt in %l"><l>Spreadsheet values</l><block var="history element"/></custom-block><l><option>csv</option></l></block></list></block></block></script></block-definition><block-definition s="zero if not number %&apos;x&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><custom-block s="if %b then %anyUE else %anyUE"><block s="reportIsA"><block var="x"/><l><option>number</option></l></block><block var="x"/><l>0</l></custom-block></block></script></block-definition><block-definition s="Train using spreadsheet" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Set mode %txt"><l>train</l></custom-block><block s="doSetVar"><l>numerical inputs</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>inputs</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>outputs</l><block s="reportNewList"><list></list></block></block><block s="doIfElse"><block s="reportNot"><block s="reportIsA"><block var="spreadsheet name"/><l><option>text</option></l></block></block><script><custom-block s="let %upvar be %s"><l>original global variables</l><custom-block s="Get global variable names"></custom-block></custom-block><block s="bubble"><l>Please drop a CSV version of your spreadsheet anywhere.</l></block><custom-block s="Ignore %s"><custom-block s="features of sentence %txt"><l>Preloading models.</l></custom-block></custom-block><block s="doWaitUntil"><block s="reportNotEquals"><block s="reportListAttribute"><l><option>length</option></l><block var="original global variables"/></block><block s="reportListAttribute"><l><option>length</option></l><custom-block s="Get global variable names"></custom-block></block></block></block><block s="doSetVar"><l>spreadsheet name</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportNot"><block s="reportListContainsItem"><block var="original global variables"/><l></l></block></block></autolambda><list></list></block><custom-block s="Get global variable names"></custom-block></block></block><block s="doSetVar"><l>model name</l><block s="reportJoinWords"><list><block var="spreadsheet name"/><l>_0</l></list></block></block><custom-block s="Train with spreadsheet %l"><custom-block s="Get global variable value %txt"><block var="spreadsheet name"/></custom-block></custom-block></script><script><custom-block s="Train with spreadsheet %l"><custom-block s="Get global variable value %txt"><block var="spreadsheet name"/></custom-block></custom-block></script></block></script></block-definition><block-definition s="Train with spreadsheet %&apos;data&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><custom-block s="Obtain column numbers from first row %l"><block s="reportListItem"><l>1</l><block var="data"/></block></custom-block><custom-block s="Collect data %l then start training"><block s="reportCDR"><block var="data"/></block></custom-block></script></block-definition><block-definition s="column number %&apos;name or number&apos; in column names %&apos;names&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="if %b then %anyUE else %anyUE"><block s="reportIsA"><block var="name or number"/><l><option>number</option></l></block><block var="name or number"/><block s="reportListIndex"><block var="name or number"/><block var="names"/></block></custom-block></block></script></block-definition><block-definition s="Set global variable named %&apos;name&apos; to %&apos;value&apos;" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%s"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>set_global_variable</l><list><block var="name"/><block var="value"/></list></custom-block></script></block-definition><block-definition s="Obtain column number for %&apos;name&apos; $nl with prompt %&apos;prompt&apos; $nl in column names %&apos;names&apos; $nl ok with no answer %&apos;no answer ok&apos;" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input><input type="%l"></input><input type="%b">false</input></inputs><script><block s="doAsk"><block var="prompt"/></block><custom-block s="let %upvar be %s"><l>column number</l><custom-block s="column number %s in column names %l"><block s="getLastAnswer"></block><block var="names"/></custom-block></custom-block><block s="doIfElse"><block s="reportAnd"><block s="reportNot"><block var="no answer ok"/></block><block s="reportLessThanOrEquals"><block var="column number"/><l>0</l></block></block><script><block s="doSayFor"><block s="reportJoinWords"><list><l>Could not find </l><block s="getLastAnswer"></block><l> in </l><block var="names"/><l>. Try again.</l></list></block><l>3</l></block><custom-block s="Obtain column number for %txt %br with prompt %txt %br in column names %l %br ok with no answer %b"><block var="name"/><block var="prompt"/><block var="names"/><block var="no answer ok"/></custom-block></script><script><custom-block s="Set global variable named %txt to %s"><block var="name"/><block var="column number"/></custom-block></script></block></script></block-definition><block-definition s="Reset everything" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>class frequencies</l><l>not set</l></block><block s="doSetVar"><l>data</l><l>not set</l></block><block s="doSetVar"><l>evaluation</l><l>not set</l></block><block s="doSetVar"><l>file type column number</l><l>0</l></block><block s="doSetVar"><l>history</l><l>not set</l></block><block s="doSetVar"><l>inputs</l><l>not set</l></block><block s="doSetVar"><l>message column number</l><l>0</l></block><block s="doSetVar"><l>model loaded</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><block s="doSetVar"><l>model names</l><l>not set</l></block><block s="doSetVar"><l>multi-category</l><l>not set</l></block><block s="doSetVar"><l>multi-category predictions</l><l>not set</l></block><block s="doSetVar"><l>numerical inputs</l><l>not set</l></block><block s="doSetVar"><l>one category predictions</l><l>not set</l></block><block s="doSetVar"><l>outputs</l><l>not set</l></block><block s="doSetVar"><l>predicted true differences</l><l>not set</l></block><block s="doSetVar"><l>predictions compared</l><l>not set</l></block><block s="doSetVar"><l>predictions evaluated</l><l>not set</l></block><block s="doSetVar"><l>primary category column number</l><l>0</l></block><block s="doSetVar"><l>role column number</l><l>0</l></block><block s="doSetVar"><l>temp</l><l>not set</l></block><block s="doSetVar"><l>test indices</l><l>not set</l></block><block s="doSetVar"><l>test input</l><l>not set</l></block><block s="doSetVar"><l>test output</l><l>not set</l></block><block s="doSetVar"><l>train indices</l><l>not set</l></block><block s="doSetVar"><l>train input</l><l>not set</l></block><block s="doSetVar"><l>train output</l><l>not set</l></block><block s="doSetVar"><l>validation indices</l><l>not set</l></block><block s="doSetVar"><l>validation input</l><l>not set</l></block><block s="doSetVar"><l>validation output</l><l>not set</l></block><block s="doIf"><block s="reportIsA"><block var="spreadsheet name"/><l><option>text</option></l></block><script><custom-block s="Delete global variable %txt"><block var="spreadsheet name"/></custom-block></script></block><block s="doSetVar"><l>spreadsheet name</l><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block-definition><block-definition s="Load model before annotating spreadsheet" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doIfElse"><block var="model loaded"/><script><custom-block s="Annotate spreadsheet"></custom-block></script><script><block s="bubble"><l>Loading. Please wait.</l></block><custom-block s="Load neural net from URL %txt %br then when loaded %cmdRing %br unless there is an error %cmdRing"><block s="reportJoinWords"><list><l>/ai/models/</l><block var="model name"/><l>.json</l></list></block><block s="reifyScript"><script><block s="doSetVar"><l>model loaded</l><block s="reportBoolean"><l><bool>true</bool></l></block></block><custom-block s="Annotate spreadsheet"></custom-block></script><list></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script></block></script></block-definition><block-definition s="Annotate spreadsheet" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Set mode %txt"><l>annotate</l></custom-block><block s="doIf"><block var="development mode"/><script><block s="doSetVar"><l>test input</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>test output</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>inputs</l><block s="reportNewList"><list></list></block></block></script></block><block s="doIf"><block s="reportIsA"><block var="spreadsheet name"/><l><option>text</option></l></block><script><custom-block s="Delete global variable %txt"><block var="spreadsheet name"/></custom-block></script></block><custom-block s="let %upvar be %s"><l>original global variables</l><custom-block s="Get global variable names"></custom-block></custom-block><block s="bubble"><l>Please drop a CSV version of your spreadsheet anywhere.</l></block><custom-block s="Ignore %s"><custom-block s="features of sentence %txt"><l>Preloading models.</l></custom-block></custom-block><block s="doWaitUntil"><block s="reportNotEquals"><block s="reportListAttribute"><l><option>length</option></l><block var="original global variables"/></block><block s="reportListAttribute"><l><option>length</option></l><custom-block s="Get global variable names"></custom-block></block></block></block><block s="doSetVar"><l>spreadsheet name</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportNot"><block s="reportListContainsItem"><block var="original global variables"/><l></l></block></block></autolambda><list></list></block><custom-block s="Get global variable names"></custom-block></block></block><custom-block s="Update spreadsheet %l"><custom-block s="Get global variable value %txt"><block var="spreadsheet name"/></custom-block></custom-block></script></block-definition><block-definition s="Get global variable names" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>global_variable_names</l><list></list></custom-block></block></script></block-definition><block-definition s="Get global variable value %&apos;name&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>get_global_variable_value</l><list><block var="name"/></list></custom-block></block></script></block-definition><block-definition s="Update spreadsheet %&apos;data&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doSetVar"><l>message column number</l><l>0</l></block><block s="doSetVar"><l>role column number</l><l>0</l></block><block s="doSetVar"><l>file type column number</l><l>0</l></block><custom-block s="let %upvar be %s"><l>names</l><block s="reportListItem"><l>1</l><block var="data"/></block></custom-block><custom-block s="Obtain column numbers from first row %l"><block var="names"/></custom-block><block s="doAddToList"><l>Primary category</l><block var="names"/></block><block s="doAddToList"><l>Secondary category</l><block var="names"/></block><block s="doAddToList"><l>Tertiary category</l><block var="names"/></block><custom-block s="Update rows %l"><block s="reportCDR"><block var="data"/></block></custom-block></script></block-definition><block-definition s="column number %&apos;name or number&apos; in first row %&apos;row&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="if %b then %anyUE else %anyUE"><block s="reportIsA"><block var="name or number"/><l><option>number</option></l></block><block var="name or number"/><block s="reportListIndex"><block var="name or number"/><block var="row"/></block></custom-block></block></script></block-definition><block-definition s="Update rows %&apos;rows&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doIfElse"><block s="reportListIsEmpty"><block var="rows"/></block><script><block s="doIf"><block var="development mode"/><script><block s="doSetVar"><l>test indices</l><block s="reportNumbers"><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="test input"/></block></block></block></script></block><block s="bubble"><block s="reportJoinWords"><list><l>Finished. Type any key to save the annotated version of &apos;</l><block var="spreadsheet name"/></list></block></block><block s="doWaitUntil"><block s="reportKeyPressed"><l><option>any key</option></l></block></block><custom-block s="Save global variable %txt as CSV"><block var="spreadsheet name"/></custom-block></script><script><block s="bubble"><block s="reportJoinWords"><list><l>Processing. </l><block s="reportListAttribute"><l><option>length</option></l><block var="rows"/></block><l> rows remaining.</l></list></block></block><custom-block s="Update row %l %br then update %l"><block s="reportListItem"><l>1</l><block var="rows"/></block><block s="reportCDR"><block var="rows"/></block></custom-block></script></block></script></block-definition><block-definition s="Old version: Update row %&apos;row&apos; $nl and then update %&apos;rows remaining&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doIfElse"><custom-block s="good row %l"><block var="row"/></custom-block><script><custom-block s="let %upvar be %s"><l>message</l><custom-block s="Trim text %txt"><block s="reportListItem"><block var="message column number"/><block var="row"/></block></custom-block></custom-block><custom-block s="let %upvar be %s"><l>role</l><custom-block s="Trim text %txt"><block s="reportListItem"><block var="role column number"/><block var="row"/></block></custom-block></custom-block><custom-block s="let %upvar be %s"><l>message embedding</l><custom-block s="features of sentence %txt"><block var="message"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>one hot role</l><custom-block s="one hot of %txt in %l"><block var="role"/><block var="roles"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>input</l><block s="reportConcatenatedLists"><list><block var="one hot role"/><block var="message embedding"/></list></block></custom-block><block s="doIf"><block var="development mode"/><script><block s="doAddToList"><block var="input"/><block var="test input"/></block><custom-block s="let %upvar be %s"><l>full categories</l><block s="reportListItem"><block s="reportNumbers"><block var="primary category column number"/><block s="reportDifference"><block s="reportSum"><block var="primary category column number"/><block var="number of category columns"/></block><l>1</l></block></block><block var="row"/></block></custom-block><custom-block s="let %upvar be %s"><l>short categories</l><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="remove hypen and after from %txt"><l></l></custom-block></autolambda><list></list></block><block var="full categories"/></block></custom-block><block s="doAddToList"><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="Trim text %txt"><l></l></custom-block></autolambda><list></list></block><block s="reportConcatenatedLists"><list><block var="short categories"/><block var="full categories"/></list></block></block><block var="test output"/></block><block s="doAddToList"><block s="reportNewList"><list><block var="role"/><block var="message"/></list></block><block var="inputs"/></block></script></block><custom-block s="Get prediction from model(s) %s with input %s %br then %cmdRing %br or if there is an error %cmdRing %br with categories %l"><block var="model name"/><block var="input"/><block s="reifyScript"><script><custom-block s="update row %l with prediction %l"><block var="row"/><block var="prediction"/></custom-block><custom-block s="Update rows %l"><block var="rows remaining"/></custom-block></script><list><l>prediction</l></list></block><block s="reifyScript"><script><block s="bubble"><block s="reportJoinWords"><list><l>There was an error, sorry. </l><l></l></list></block></block></script><list></list></block><block var="content codes"/></custom-block></script><script><custom-block s="Update rows %l"><block var="rows remaining"/></custom-block></script></block></script></block-definition><block-definition s="update row %&apos;row&apos; with prediction %&apos;prediction&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>content codes and scores</l><custom-block s="$flash sort %l ordering with %predRing"><block var="prediction"/><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><block s="reportListItem"><l>2</l><l/></block><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block></custom-block></custom-block><custom-block s="for each %upvar of %l %cs"><l>content code and score</l><block var="content codes and scores"/><script><block s="doIfElse"><block s="reportGreaterThanOrEquals"><block s="reportListItem"><l>2</l><block var="content code and score"/></block><block var="confidence threshold"/></block><script><block s="doAddToList"><block s="reportListItem"><l>1</l><block var="content code and score"/></block><block var="row"/></block></script><script><block s="doAddToList"><l>NA</l><block var="row"/></block></script></block></script></custom-block></script></block-definition><block-definition s="map %&apos;reporter&apos; on each element of %&apos;list 1&apos; and %&apos;list 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="242.14285714285717" collapsed="false">Reports a list created by applying reporter to corresponding elements of the lists.</comment><header></header><code></code><translations></translations><inputs><input type="%repRing"></input><input type="%l"></input><input type="%l"></input></inputs><script><block s="doIf"><custom-block s="empty? %l"><block var="list 1"/></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doIf"><custom-block s="empty? %l"><block var="list 2"/></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="reporter"/><list><block s="reportListItem"><l>1</l><block var="list 1"/></block><block s="reportListItem"><l>1</l><block var="list 2"/></block></list></block><custom-block s="map %repRing on each element of %l and %l"><block var="reporter"/><block s="reportCDR"><block var="list 1"/></block><block s="reportCDR"><block var="list 2"/></block></custom-block></block></block></script></block-definition><block-definition s="Get prediction from model(s) %&apos;model names&apos; with input %&apos;input&apos; $nl then %&apos;process prediction&apos; $nl or if there is an error %&apos;process error&apos; $nl with categories %&apos;categories&apos;" type="command" category="other"><comment x="0" y="0" w="226.42857142857144" collapsed="false">Ask the trained model to predict what the output should be for the &apos;input&apos;. There is also a block for computing many predictions all at once. &apos;Model names&apos; can be a list of names or a single name. Categories should only be provided if the prediction is for labelling the input.</comment><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%l"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>predictions_from_model</l><list><block var="model names"/><block s="reportNewList"><list><block var="input"/></list></block><block s="reifyReporter"><script><block s="doRun"><block var="process prediction"/><list><block s="reportListItem"><l>1</l><block var="predictions"/></block></list></block></script><list><l>predictions</l></list></block><block var="process error"/><block var="categories"/></list></custom-block></script></block-definition><block-definition s="Ignore %&apos;x&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs></block-definition><block-definition s="Load neural net from URL %&apos;URL&apos; $nl then when loaded %&apos;do when loaded&apos; $nl unless there is an error %&apos;process error&apos;" type="command" category="other"><comment x="0" y="0" w="185.71428571428572" collapsed="false">Loads a model previously saved using the interface on the &apos;tensorflow.js&apos; page which can be opened using the &apos;Open support panel ...&apos; block.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>load_tensorflow_model_from_URL</l><list><block var="URL"/><block var="do when loaded"/><block var="process error"/></list></custom-block></script></block-definition><block-definition s="Obtain column numbers from first row %&apos;names&apos;" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><custom-block s="Obtain column number for %txt %br with prompt %txt %br in column names %l %br ok with no answer %b"><l>message column number</l><l>What is the name or column number that contains the messages?</l><block var="names"/><l><bool>false</bool></l></custom-block><block s="doIf"><block s="reportOr"><block s="reportEquals"><block var="mode"/><l>train</l></block><block var="development mode"/></block><script><custom-block s="Obtain column number for %txt %br with prompt %txt %br in column names %l %br ok with no answer %b"><l>primary category column number</l><l>What is the name or column number that contains the primary category?</l><block var="names"/><l><bool>false</bool></l></custom-block></script></block><custom-block s="Obtain column number for %txt %br with prompt %txt %br in column names %l %br ok with no answer %b"><l>role column number</l><l>If the spreadsheet contains the sender role what is its name or column number? Otherwise just press the ENTER key.</l><block var="names"/><l><bool>true</bool></l></custom-block><custom-block s="Obtain column number for %txt %br with prompt %txt %br in column names %l %br ok with no answer %b"><l>file type column number</l><l>If the spreadsheet contains file type column with entries such as Text and Voice what is its name or column number? Otherwise just press the ENTER key.</l><block var="names"/><l><bool>true</bool></l></custom-block></script></block-definition><block-definition s="Set mode %&apos;new mode&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"><options>train&#xD;annotate</options></input></inputs><script><block s="doSetVar"><l>mode</l><block var="new mode"/></block></script></block-definition><block-definition s="Compare one and multi category predictions" type="command" category="lists"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="let %upvar be %s"><l>distances</l><block s="reportNewList"><list></list></block></custom-block><custom-block s="%upvar for each %upvar of %l %cs"><l>index</l><l>one category prediction</l><block var="one category predictions"/><script><custom-block s="let %upvar be %s"><l>multi-category prediction</l><custom-block s="as percentages %l"><block s="reportListItem"><block var="index"/><block var="multi-category predictions"/></block></custom-block></custom-block><custom-block s="let %upvar be %s"><l>distance</l><block s="reportRound"><custom-block s="distance from features %l to %l"><block var="one category prediction"/><block var="multi-category prediction"/></custom-block></block></custom-block><block s="doAddToList"><block var="distance"/><block var="distances"/></block><block s="doIf"><block s="reportGreaterThan"><block var="distance"/><l>75</l></block><script><block s="bubble"><block s="reportCONS"><block var="index"/><custom-block s="collect results for test %n"><block var="index"/></custom-block></block></block><block s="doWait"><l>1</l></block><block s="doWaitUntil"><block s="reportKeyPressed"><l><option>space</option></l></block></block></script></block></script></custom-block><block s="doReport"><block var="distances"/></block></script></block-definition><block-definition s="count occurences of %&apos;x&apos; in %&apos;list&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%l"></input></inputs><script><block s="doIfElse"><block s="reportListIsEmpty"><block var="list"/></block><script><block s="doReport"><l>0</l></block></script><script><block s="doReport"><block s="reportSum"><custom-block s="if %b then %anyUE else %anyUE"><block s="reportNotEquals"><block var="x"/><block s="reportListItem"><l>1</l><block var="list"/></block></block><l>0</l><l>1</l></custom-block><custom-block s="count occurences of %s in %l"><block var="x"/><block s="reportCDR"><block var="list"/></block></custom-block></block></block></script></block></script></block-definition><block-definition s="Predict categories with input %&apos;input&apos; with numerical input %&apos;numerical input&apos; with output %&apos;output row&apos; $nl and then %&apos;do&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input><input type="%l"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Compare predictions %l with inputs %l and outputs %l %br with results so far %l %br $and then %cmdRing"><block var="model names"/><block s="reportNewList"><list><block var="numerical input"/></list></block><block s="reportNewList"><list><block var="output row"/></list></block><l/><block s="reifyScript"><script><block s="doRun"><block var="do"/><list><block s="reportListItem"><l>1</l><custom-block s="evaluate predictions from multiple models %l with input %l"><block var="results from models"/><block var="input"/></custom-block></block></list></block></script><list><l>results from models</l></list></block></custom-block></script></block-definition><block-definition s="Update row %&apos;row&apos; $nl then update %&apos;rows remaining&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doIfElse"><custom-block s="good row %l"><block var="row"/></custom-block><script><custom-block s="let %upvar be %s"><l>message</l><custom-block s="Trim text %txt"><block s="reportListItem"><block var="message column number"/><block var="row"/></block></custom-block></custom-block><custom-block s="let %upvar be %s"><l>role</l><custom-block s="Trim text %txt"><block s="reportListItem"><block var="role column number"/><block var="row"/></block></custom-block></custom-block><custom-block s="let %upvar be %s"><l>one hot role</l><custom-block s="one hot of %txt in %l"><block var="role"/><block var="roles"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>message embedding</l><custom-block s="features of sentence %txt"><block var="message"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>input</l><block s="reportNewList"><list><block var="role"/><block var="message"/></list></block></custom-block><custom-block s="let %upvar be %s"><l>numerical input</l><block s="reportConcatenatedLists"><list><block var="one hot role"/><block var="message embedding"/></list></block></custom-block><custom-block s="let %upvar be %s"><l>full categories</l><block s="reportListItem"><block s="reportNumbers"><block var="primary category column number"/><block s="reportDifference"><block s="reportSum"><block var="primary category column number"/><block var="number of category columns"/></block><l>1</l></block></block><block var="row"/></block></custom-block><custom-block s="let %upvar be %s"><l>short categories</l><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="remove hypen and after from %txt"><l></l></custom-block></autolambda><list></list></block><block var="full categories"/></block></custom-block><custom-block s="let %upvar be %s"><l>output row</l><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="Trim text %txt"><l></l></custom-block></autolambda><list></list></block><block s="reportConcatenatedLists"><list><block var="short categories"/><block var="full categories"/></list></block></block></custom-block><block s="doAddToList"><block var="output row"/><block var="test output"/></block><custom-block s="Predict categories with input %l with numerical input %l with output %l %br and then %cmdRing"><block var="input"/><block var="numerical input"/><block var="output row"/><block s="reifyScript"><script><custom-block s="for %upvar = %n to %n %cs"><l>i</l><l>1</l><l>3</l><script><block s="doAddToList"><block s="reportListItem"><block var="i"/><block var="categories"/></block><block var="row"/></block></script></custom-block><block s="doIf"><block var="development mode"/><script><block s="doAddToList"><block var="input"/><block var="inputs"/></block><block s="doAddToList"><block var="numerical input"/><block var="test input"/></block></script></block><custom-block s="Update rows %l"><block var="rows remaining"/></custom-block></script><list><l>categories</l></list></block></custom-block></script><script><custom-block s="Update rows %l"><block var="rows remaining"/></custom-block></script></block></script></block-definition><block-definition s="Save global variable %&apos;name&apos; as CSV" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>save_global_variable_as_csv</l><list><block var="name"/></list></custom-block></script></block-definition><block-definition s="Collect data %&apos;rows&apos; then start training" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doWarp"><script><block s="doIfElse"><block s="reportListIsEmpty"><block var="rows"/></block><script><block s="bubble"><l>Finished collecting data. Training starting.</l></block><custom-block s="Delete global variable %txt"><block var="spreadsheet name"/></custom-block><block s="doSetVar"><l>spreadsheet name</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Split dataset %br training fraction: %n %br validation fraction: %n"><l>.6</l><l>.2</l></custom-block><custom-block s="Create model, data, and search %br and after each training %cmdRing %br and then when finished %cmdRing"><block s="reifyScript"><script><block s="bubble"><block s="reportJoinWords"><list><block s="reportSum"><custom-block s="find %txt in %l"><l>trial_number</l><l/></custom-block><l>1</l></block><l> out of </l><block var="number of models to train"/><l> models trained.</l></list></block></block></script><list></list></block><block s="reifyScript"><script><custom-block s="Update model names"></custom-block></script><list></list></block></custom-block></script><script><block s="bubble"><block s="reportJoinWords"><list><l>Processing. </l><block s="reportListAttribute"><l><option>length</option></l><block var="rows"/></block><l> rows remaining.</l></list></block></block><custom-block s="let %upvar be %s"><l>row</l><block s="reportListItem"><l>1</l><block var="rows"/></block></custom-block><block s="doIf"><custom-block s="good row %l"><block var="row"/></custom-block><script><custom-block s="let %upvar be %s"><l>role</l><custom-block s="Trim text %txt"><block s="reportListItem"><block var="role column number"/><block var="row"/></block></custom-block></custom-block><custom-block s="let %upvar be %s"><l>message</l><custom-block s="Trim text %txt"><block s="reportListItem"><block var="message column number"/><block var="row"/></block></custom-block></custom-block><block s="doIf"><block var="development mode"/><script><block s="doSetVar"><l>inputs</l><block s="reportCONS"><block s="reportNewList"><list><block var="role"/><block var="message"/></list></block><block var="inputs"/></block></block></script></block><block s="doSetVar"><l>numerical inputs</l><block s="reportCONS"><block s="reportConcatenatedLists"><list><custom-block s="one hot of %txt in %l"><block var="role"/><block var="roles"/></custom-block><custom-block s="features of sentence %txt"><block var="message"/></custom-block></list></block><block var="numerical inputs"/></block></block><custom-block s="let %upvar be %s"><l>full content codes</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l></l><block var="row"/></block></autolambda><list></list></block><block s="reportNumbers"><block var="primary category column number"/><block s="reportDifference"><block s="reportSum"><block var="primary category column number"/><block var="number of category columns"/></block><l>1</l></block></block></block></custom-block><custom-block s="let %upvar be %s"><l>short content codes</l><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="remove hypen and after from %txt"><l></l></custom-block></autolambda><list></list></block><block var="full content codes"/></block></custom-block><block s="doSetVar"><l>outputs</l><block s="reportCONS"><block s="reportConcatenatedLists"><list><block var="short content codes"/><block var="full content codes"/></list></block><block var="outputs"/></block></block></script></block><custom-block s="Collect data %l then start training"><block s="reportCDR"><block var="rows"/></block></custom-block></script></block></script></block></script><scripts><script x="531.8571428571428" y="280.83333333333337"><custom-block s="Create model and data with first category %b %br %br ignore sender role %b and then %cmdRing"><block var="primary category"/><l><bool>false</bool></l><block s="reifyScript"><script><custom-block s="Train model named %txt %n times %br unless no progress for %n cycles %br with learning rate %n %br and shuffle the data %b %br and use %n of the data for validation %br then when completed %cmdRing %br or if there is an error %cmdRing"><block var="model name"/><l>300</l><l>100</l><l>.001</l><l><bool>true</bool></l><l>.2</l><block s="reifyScript"><script><block s="bubble"><l>Training completed.To annotate a different spreadsheet click &apos;Annotate&apos;.</l></block></script><list></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><list></list></block></custom-block></script></scripts></block-definition><block-definition s="Train model named %&apos;name&apos; %&apos;n&apos; times $nl unless no progress for %&apos;stop after&apos; cycles $nl with learning rate %&apos;learning rate&apos; $nl and shuffle the data %&apos;shuffle&apos; $nl and use %&apos;validation split&apos; of the data for validation $nl then when completed %&apos;process response&apos; $nl or if there is an error %&apos;process error&apos;" type="command" category="other"><comment x="0" y="0" w="267.14285714285717" collapsed="false">Train the model using &apos;n&apos; learning steps. If three is no progress for &apos;stop after&apos; cycles it will stop early. Each step will change weights by &apos;learning rate&apos;. If it is too big the learning will fail. If it is too small it will go very slowly. So that the learning doesn&apos;t rely upon the order of the data it can be &apos;shuffled&apos; each step. If validation data hasn&apos;t been created then an alternative is to use &apos;validation split&apos; fraction of the data for validation.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%n"></input><input type="%n"></input><input type="%n"></input><input type="%b">true</input><input type="%n">0</input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>train_model</l><list><block var="name"/><block var="n"/><block var="learning rate"/><block var="shuffle"/><block var="validation split"/><block var="process response"/><block var="process error"/><block var="stop after"/></list></custom-block></script></block-definition><block-definition s="Split dataset $nl training fraction: %&apos;training&apos; $nl validation fraction: %&apos;validation&apos;" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input></inputs><script><custom-block s="let %upvar be %s"><l>number of inputs</l><block s="reportListAttribute"><l><option>length</option></l><block var="numerical inputs"/></block></custom-block><custom-block s="let %upvar be %s"><l>indices</l><block s="reportNumbers"><l>1</l><block var="number of inputs"/></block></custom-block><custom-block s="Shuffle %l"><block var="indices"/></custom-block><custom-block s="let %upvar be %s"><l>number of training samples</l><block s="reportRound"><block s="reportProduct"><block var="training"/><block var="number of inputs"/></block></block></custom-block><custom-block s="let %upvar be %s"><l>number of validation samples</l><block s="reportRound"><block s="reportProduct"><block var="validation"/><block var="number of inputs"/></block></block></custom-block><block s="doSetVar"><l>train indices</l><block s="reportListItem"><block s="reportNumbers"><l>1</l><block var="number of training samples"/></block><block var="indices"/></block></block><block s="doSetVar"><l>train input</l><block s="reportListItem"><block var="train indices"/><block var="numerical inputs"/></block></block><block s="doSetVar"><l>train output</l><block s="reportListItem"><block var="train indices"/><block var="outputs"/></block></block><block s="doIfElse"><block s="reportLessThan"><block var="number of training samples"/><block var="number of inputs"/></block><script><block s="doSetVar"><l>validation indices</l><block s="reportListItem"><block s="reportNumbers"><block s="reportSum"><block var="number of training samples"/><l>1</l></block><block s="reportDifference"><block s="reportSum"><block var="number of training samples"/><block var="number of validation samples"/></block><l>1</l></block></block><block var="indices"/></block></block><block s="doSetVar"><l>validation input</l><block s="reportListItem"><block var="validation indices"/><block var="numerical inputs"/></block></block><block s="doSetVar"><l>validation output</l><block s="reportListItem"><block var="validation indices"/><block var="outputs"/></block></block></script><script><block s="doSetVar"><l>validation indices</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>validation input</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>validation output</l><block s="reportNewList"><list></list></block></block></script></block><block s="doIfElse"><block s="reportLessThan"><block s="reportSum"><block var="number of training samples"/><block var="number of validation samples"/></block><block var="number of inputs"/></block><script><block s="doSetVar"><l>test indices</l><block s="reportListItem"><block s="reportNumbers"><block s="reportSum"><block s="reportSum"><block var="number of training samples"/><block var="number of validation samples"/></block><l>1</l></block><block var="number of inputs"/></block><block var="indices"/></block></block><block s="doSetVar"><l>test input</l><block s="reportListItem"><block var="test indices"/><block var="numerical inputs"/></block></block><block s="doSetVar"><l>test output</l><block s="reportListItem"><block var="test indices"/><block var="outputs"/></block></block></script><script><block s="doSetVar"><l>test indices</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>test input</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>test output</l><block s="reportNewList"><list></list></block></block></script></block></script></block-definition><block-definition s="Shuffle %&apos;list&apos;" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>length</l><block s="reportListAttribute"><l><option>length</option></l><block var="list"/></block></custom-block><block s="doWarp"><script><block s="doFor"><l>i</l><l>1</l><block var="length"/><script><custom-block s="let %upvar be %s"><l>j</l><block s="reportRandom"><l>1</l><block var="length"/></block></custom-block><custom-block s="let %upvar be %s"><l>ith element</l><block s="reportListItem"><block var="i"/><block var="list"/></block></custom-block><custom-block s="let %upvar be %s"><l>jth element</l><block s="reportListItem"><block var="j"/><block var="list"/></block></custom-block><block s="doReplaceInList"><block var="i"/><block var="list"/><block var="jth element"/></block><block s="doReplaceInList"><block var="j"/><block var="list"/><block var="ith element"/></block></script></block></script></block></script></block-definition><block-definition s="Delete global variable %&apos;name&apos;" type="command" category="variables"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>delete_global_variable</l><list><block var="name"/></list></custom-block></script></block-definition><block-definition s="good row %&apos;row&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>message</l><custom-block s="Trim text %txt"><block s="reportListItem"><block var="message column number"/><block var="row"/></block></custom-block></custom-block><block s="doIf"><block s="reportEquals"><block s="reportStringSize"><block var="message"/></block><l>0</l></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block><custom-block s="let %upvar be %s"><l>primary content code</l><block s="reportIfElse"><block s="reportEquals"><block var="mode"/><l>train</l></block><custom-block s="Trim text %txt"><custom-block s="remove hypen and after from %txt"><block s="reportListItem"><block var="primary category column number"/><block var="row"/></block></custom-block></custom-block><block s="reportListItem"><l>1</l><block var="content codes"/></block></block></custom-block><custom-block s="let %upvar be %s"><l>file type</l><custom-block s="if %b then %anyUE else %anyUE"><block s="reportGreaterThan"><block var="file type column number"/><l>0</l></block><custom-block s="Trim text %txt"><block s="reportListItem"><block var="file type column number"/><block var="row"/></block></custom-block><block s="reportListItem"><l>1</l><block var="files types"/></block></custom-block></custom-block><block s="doReport"><block s="reportAnd"><block s="reportListContainsItem"><block var="files types"/><block var="file type"/></block><block s="reportAnd"><block s="reportListContainsItem"><block var="content codes"/><block var="primary content code"/></block><block s="reportNot"><block s="reportEquals"><block var="message"/><l>IMAGE</l></block></block></block><comment w="207.9557756696428" collapsed="false">Is voice or text and an accepted content code. And ignore IMAGE messages.</comment></block></block></script></block-definition><block-definition s="Trim text %&apos;text&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><custom-block s="let %upvar be %s"><l>letters</l><block s="reportTextSplit"><block var="text"/><l> </l></block></custom-block><block s="doIfElse"><block s="reportLessThanOrEquals"><block s="reportListAttribute"><l><option>length</option></l><block var="letters"/></block><l>1</l></block><script><block s="doReport"><block var="text"/></block></script><script><block s="doReport"><custom-block s="join each with space %l"><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportNot"><block s="reportEquals"><l></l><block s="reportListItem"><l>1</l><block s="reportTextSplit"><l> </l><l> </l></block></block></block></block></autolambda><list></list></block><block var="letters"/></block></custom-block></block></script></block></script></block-definition><block-definition s="remove hypen and after from %&apos;category&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><custom-block s="let %upvar be %s"><l>words</l><block s="reportTextSplit"><block var="category"/><l> </l></block></custom-block><block s="doIf"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="words"/></block><l>Case</l></block><script><block s="doReport"><custom-block s="Trim text %txt"><block var="category"/></custom-block></block></script></block><custom-block s="let %upvar be %s"><l>remaining words</l><block s="reportNewList"><list></list></block></custom-block><block s="doForEach"><l>word</l><block var="words"/><script><block s="doIfElse"><block s="reportEquals"><block var="word"/><l>-</l></block><script><block s="doReport"><custom-block s="Trim text %txt"><custom-block s="join each with space %l"><block var="remaining words"/></custom-block></custom-block></block></script><script><block s="doAddToList"><block var="word"/><block var="remaining words"/></block></script></block></script></block><block s="doReport"><custom-block s="Trim text %txt"><block var="category"/></custom-block></block></script></block-definition><block-definition s="one hot of %&apos;label&apos; in %&apos;labels&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>one hot</l><block s="reportNewList"><list></list></block></custom-block><custom-block s="for each %upvar of %l %cs"><l>item</l><block var="labels"/><script><block s="doAddToList"><custom-block s="if %b then %anyUE else %anyUE"><block s="reportEquals"><block var="item"/><block var="label"/></block><l>1</l><l>0</l></custom-block><block var="one hot"/></block></script></custom-block><block s="doIf"><block s="reportNot"><block s="reportListContainsItem"><block var="labels"/><block var="label"/></block></block><script><block s="doSayFor"><block s="reportJoinWords"><list><block var="label"/><l> is not in </l><block s="reportJoinWords"><list><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><l></l><l>, </l></list></block></autolambda><list></list></block><block var="labels"/></block></list></block></list></block><l>2</l></block></script></block><block s="doReport"><block var="one hot"/></block></script></block-definition><block-definition s="features of sentence %&apos;sentence&apos;" type="reporter" category="variables"><comment x="0" y="0" w="208.57142857142858" collapsed="false">Reports 512 features for the sentence.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="get features of sentences %l %br then do with result %cmdRing"><block s="reportNewList"><list><block var="sentence"/></list></block><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block s="reportListItem"><l>1</l><block var="list of features list"/></block></block></script><list><l>list of features list</l></list></block></custom-block><block s="doWaitUntil"><block var="result"/></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="get features of sentences %&apos;sentences&apos; $nl then do with result %&apos;process result&apos;" type="command" category="variables"><comment x="0" y="0" w="385.8571428571428" collapsed="true">Passes a list of lists of 512 features of input &apos;sentences&apos; to &apos;process result&apos;. </comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="load tensorflow"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>sentence_features</l><list><block var="sentences"/><block var="process result"/></list></custom-block></block></script></block-definition><block-definition s="call eCraft2Learn reporter %&apos;reporter name&apos; with %&apos;inputs&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>function_name</l><l>parameters</l><l>no_warning</l></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;&#xD;    return ecraft2learn.run(function_name, parameters);&#xD;&#xD;}&#xD;&#xD;if (!no_warning) {&#xD;&#xD;    alert("Any eCraft2Learn command must be run before the " + function_name + " reporter.");&#xD;&#xD;}&#xD;&#xD;return 0;</l></block><list><block var="reporter name"/><block var="inputs"/></list></block></block></script></block-definition><block-definition s="load tensorflow" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>loaded</l></list></block><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>load_tensorflow</l><list><block s="reifyScript"><script><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><list></list></block></list></custom-block><block s="doWaitUntil"><block var="loaded"/></block></script></block-definition><block-definition s="Load eCraft2Learn library" type="command" category="other"><comment x="0" y="0" w="248.57142857142858" collapsed="true">Returns only after eCraft2Learn library is loaded</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doWaitUntil"><custom-block s="Try to load ecraft2learn library"></custom-block></block></script></block-definition><block-definition s="Try to load ecraft2learn library" type="reporter" category="other"><comment x="0" y="0" w="323.5714285714286" collapsed="true">Should only be called by Load eCraft2Learn library</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;   return true;&#xD;}&#xD;if (window.waiting_for_ecraft2learn_library) {&#xD;   return false;&#xD;}&#xD;window.waiting_for_ecraft2learn_library = true;&#xD;let script = document.createElement("script");&#xD;&#xD;script.type = "text/javascript";&#xD;&#xD;if (window.location.hostname === &apos;localhost&apos;) {&#xD;&#xD;    script.src = window.location.protocol + "//" + window.location.host + "/ai/ecraft2learn-beta.js"; // notice this the beta version&#xD;&#xD;} else {&#xD;&#xD;    script.src = "https://ecraft2learn.github.io/ai/ecraft2learn.js";&#xD;&#xD;}&#xD;&#xD;document.head.appendChild(script);&#xD;return false;</l></block><list></list></block></block></script></block-definition><block-definition s="all current model names" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="let %upvar be %s"><l>exploded name</l><block s="reportTextSplit"><block var="model name"/><l><option>letter</option></l></block></custom-block><custom-block s="let %upvar be %s"><l>dash location</l><block s="reportListIndex"><l>_</l><block var="exploded name"/></block></custom-block><block s="doIf"><block s="reportEquals"><block var="dash location"/><l>0</l></block><script><block s="doReport"><block s="reportNewList"><list><block var="model name"/></list></block></block></script></block><custom-block s="let %upvar be %s"><l>base name</l><block s="reportJoinWords"><list><block s="reportListItem"><block s="reportNumbers"><l>1</l><block var="dash location"/></block><block var="exploded name"/></block></list></block></custom-block><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><block var="base name"/><block s="reportSum"><custom-block s="find %txt in %l"><l>trial_number</l><l/></custom-block><l>1</l></block></list></block></autolambda><list></list></block><block var="history"/></block></block></script></block-definition><block-definition s="Train using pre-loaded spreadsheet" type="command" category="lists"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Create model, data, and search %br and after each training %cmdRing %br and then when finished %cmdRing"><block s="reifyScript"><script><block s="bubble"><block s="reportJoinWords"><list><block s="reportSum"><custom-block s="find %txt in %l"><l>trial_number</l><l/></custom-block><l>1</l></block><l> out of </l><block var="number of models to train"/><l> models trained.</l></list></block></block></script><list></list></block><block s="reifyScript"><script><custom-block s="Update model names"></custom-block></script><list></list></block></custom-block></script></block-definition><block-definition s="Update model names" type="command" category="variables"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>class frequencies</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>model names</l><block s="reportNewList"><list></list></block></block><custom-block s="let %upvar be %s"><l>models</l><custom-block s="Model names sorted by accuracy"></custom-block></custom-block><custom-block s="Each class frequency %s $and then %cmdRing"><block s="reportListItem"><block s="reportNumbers"><l>1</l><block s="reportDifference"><block s="reportListAttribute"><l><option>length</option></l><block var="models"/></block><block var="number of lowest accuracy models to drop"/></block></block><block var="models"/></block><block s="reifyScript"><script><custom-block s="for each %upvar of %l %cs"><l>class frequency</l><block var="class frequencies"/><script><block s="doIf"><block s="reportGreaterThan"><block s="reportListAttribute"><l><option>length</option></l><l/></block><l>3</l></block><script><block s="doAddToList"><block s="reportListItem"><l>1</l><block var="class frequency"/></block><block var="model names"/></block></script></block></script></custom-block></script><list></list></block></custom-block></script></block-definition><block-definition s="Model names sorted by accuracy" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="let %upvar be %s"><l>exploded name</l><block s="reportTextSplit"><block var="model name"/><l><option>letter</option></l></block></custom-block><custom-block s="let %upvar be %s"><l>dash location</l><block s="reportListIndex"><l>_</l><block var="exploded name"/></block></custom-block><block s="doIf"><block s="reportEquals"><block var="dash location"/><l>0</l></block><script><block s="doReport"><block s="reportNewList"><list><block var="model name"/></list></block></block></script></block><custom-block s="let %upvar be %s"><l>base name</l><block s="reportJoinWords"><list><block s="reportListItem"><block s="reportNumbers"><l>1</l><block var="dash location"/></block><block var="exploded name"/></block></list></block></custom-block><custom-block s="let %upvar be %s"><l>sorted history</l><custom-block s="sort %l ordering with %predRing"><block var="history"/><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><custom-block s="find %txt in %l"><l>Higest accuracy</l><l/></custom-block><custom-block s="find %txt in %l"><l>Higest accuracy</l><l/></custom-block></block></autolambda><list></list></block></custom-block></custom-block><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><block var="base name"/><block s="reportSum"><custom-block s="find %txt in %l"><l>trial_number</l><l/></custom-block><l>1</l></block></list></block></autolambda><list></list></block><block var="sorted history"/></block></block></script><scripts><comment x="359.28571428571433" y="45.857142857142854" w="162.14285714285717" collapsed="false">For multi-category could see if highest accuracy keys exist and if not to use Lowest validation loss</comment></scripts></block-definition><block-definition s="Each class frequency %&apos;model names remaining&apos; $and then %&apos;do&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%cmdRing"></input></inputs><script><block s="doIfElse"><block s="reportListIsEmpty"><block var="model names remaining"/></block><script><block s="doRun"><block var="do"/><list><block var="class frequencies"/></list></block></script><script><custom-block s="Class frequencies from predictions from model %txt with inputs %l %br then do %cmdRing"><block s="reportListItem"><l>1</l><block var="model names remaining"/></block><block var="test input"/><block s="reifyScript"><script><block s="doAddToList"><block s="reportCONS"><block s="reportListItem"><l>1</l><block var="model names remaining"/></block><block s="reportCombine"><l/><block s="reifyReporter"><autolambda><block s="reportConcatenatedLists"><list><l/><l/></list></block></autolambda><list></list></block></block></block><block var="class frequencies"/></block><custom-block s="Each class frequency %s $and then %cmdRing"><block s="reportCDR"><block var="model names remaining"/></block><block var="do"/></custom-block></script><list></list></block></custom-block></script></block></script></block-definition><block-definition s="Class frequencies from predictions from model %&apos;model name&apos; with inputs %&apos;inputs&apos; $nl then do %&apos;do&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Get predictions from model(s) %txt with inputs %l %br then %cmdRing %br or if there is an error %cmdRing %br with categories %l"><block var="model name"/><block var="inputs"/><block s="reifyScript"><script><block s="doRun"><block var="do"/><list><custom-block s="Key-counts to percentages %l"><custom-block s="Create key-counts table %l with key column %n"><custom-block s="$flash sort %l ordering with %predRing"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><custom-block s="$flash sort %l ordering with %predRing"><l/><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><block s="reportListItem"><l>2</l><l/></block><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block></custom-block></block></autolambda><list></list></block><block var="predictions"/></block><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><block s="reportListItem"><l>2</l><l/></block><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block></custom-block><l>1</l></custom-block></custom-block></list></block></script><list><l>predictions</l></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><block var="content codes"/></custom-block></script></block-definition><block-definition s="$flash sort %&apos;data&apos; ordering with %&apos;function&apos;" type="reporter" category="lists"><comment x="0" y="0" w="161.14285714285708" collapsed="false">Reports a sorted version of the list in its first input slot, using the comparison function in the second input slot.  For a list of numbers, using &lt; as the comparison function will sort from low to high; using &gt; will sort from high to low.</comment><header></header><code></code><translations>ca:ordena _ segons criteri _&#xD;</translations><inputs><input type="%l"></input><input type="%predRing"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>data</l><l>fn</l><l>proc</l></list><l>return proc.reportAtomicSort(data, fn);</l></block><list><block var="data"/><block var="function"/></list></block></block></script><scripts><script x="11.999999999999998" y="147.55555555555557"><block s="doDeclareVariables"><list><l>even items</l><l>odd items</l><l>merge</l><l>split</l><l>copy of data</l><l>id</l></list></block><block s="doSetVar"><l>id</l><block s="reifyScript"><script><block s="doReport"><l></l></block></script><list></list></block></block><block s="doSetVar"><l>copy of data</l><block s="reportMap"><block var="id"/><block var="data"/></block></block><block s="doSetVar"><l>split</l><block s="reifyScript"><script><block s="doSetVar"><l>even items</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>odd items</l><block s="reportNewList"><list></list></block></block><block s="doUntil"><block s="reportListIsEmpty"><block var="copy of data"/></block><script><block s="doAddToList"><block s="reportListItem"><l>1</l><block var="copy of data"/></block><block var="odd items"/></block><block s="doDeleteFromList"><l>1</l><block var="copy of data"/></block><block s="doIf"><block s="reportNot"><block s="reportListIsEmpty"><block var="copy of data"/></block></block><script><block s="doAddToList"><block s="reportListItem"><l>1</l><block var="copy of data"/></block><block var="even items"/></block><block s="doDeleteFromList"><l>1</l><block var="copy of data"/></block></script></block></script></block></script><list></list></block></block><block s="doSetVar"><l>merge</l><block s="reifyScript"><script><block s="doIf"><block s="reportEquals"><block var="#1"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block var="#2"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="#2"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block var="#1"/></block></script></block><block s="doIfElse"><block s="evaluate"><block var="function"/><list><block s="reportListItem"><l>1</l><block var="#1"/></block><block s="reportListItem"><l>1</l><block var="#2"/></block></list></block><script><block s="doReport"><block s="reportCONS"><block s="reportListItem"><l>1</l><block var="#1"/></block><block s="evaluate"><block var="merge"/><list><block s="reportCDR"><block var="#1"/></block><block var="#2"/></list></block></block></block></script><script><block s="doReport"><block s="reportCONS"><block s="reportListItem"><l>1</l><block var="#2"/></block><block s="evaluate"><block var="merge"/><list><block var="#1"/><block s="reportCDR"><block var="#2"/></block></list></block></block></block></script></block></script><list><l>#1</l><l>#2</l></list></block></block><block s="doIf"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block s="reportCDR"><block var="data"/></block><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block var="data"/></block></script></block><block s="doRun"><block var="split"/><list></list></block><block s="doReport"><block s="evaluate"><block var="merge"/><list><custom-block s="$flash sort %l ordering with %predRing"><block var="odd items"/><block var="function"/></custom-block><custom-block s="$flash sort %l ordering with %predRing"><block var="even items"/><block var="function"/></custom-block></list></block></block></script></scripts></block-definition><block-definition s="Create key-counts table %&apos;data&apos; with key column %&apos;column&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%n">1</input></inputs><script><block s="doWarp"><script><custom-block s="let %upvar be %s"><l>table</l><block s="reportNewList"><list></list></block></custom-block><custom-block s="for each %upvar of %l %cs"><l>item</l><block var="data"/><script><custom-block s="let %upvar be %s"><l>key</l><block s="reportListItem"><block var="column"/><block var="item"/></block></custom-block><custom-block s="let %upvar be %s"><l>key count</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block var="key"/><block s="reportListItem"><l>1</l><l/></block></block></autolambda><list></list></block><block var="table"/></block></custom-block><block s="doIfElse"><block s="reportIsA"><block var="key count"/><l><option>list</option></l></block><script><block s="doReplaceInList"><l>2</l><block var="key count"/><block s="reportSum"><block s="reportListItem"><l>2</l><block var="key count"/></block><l>1</l></block></block></script><script><block s="doAddToList"><block s="reportNewList"><list><block var="key"/><l>1</l></list></block><block var="table"/></block></script></block></script></custom-block><block s="doReport"><custom-block s="$flash sort %l ordering with %predRing"><block var="table"/><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><block s="reportListItem"><l>2</l><l/></block><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block></custom-block></block></script></block></script></block-definition><block-definition s="Key-counts to percentages %&apos;data&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>total counts</l><block s="reportCombine"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>2</l><l/></block></autolambda><list></list></block><block var="data"/></block><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block></block></custom-block><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportNewList"><list><block s="reportListItem"><l>1</l><l/></block><block s="reportRound"><block s="reportProduct"><block s="reportQuotient"><block s="reportListItem"><l>2</l><l/></block><block var="total counts"/></block><l>100</l></block></block></list></block></autolambda><list></list></block><block var="data"/></block></block></script></block-definition><block-definition s="Create model, data, and search $nl and after each training %&apos;after training&apos; $nl and then when finished %&apos;do&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><block s="doSetVar"><l>history</l><block s="reportNewList"><list></list></block></block><custom-block s="Create model and data with first category %b %br %br ignore sender role %b and then %cmdRing"><block var="primary category"/><l><bool>false</bool></l><block s="reifyScript"><script><custom-block s="Set TensorFlow support window visualization options %br graph width: %n %br graph height: %n %br minimum loss: %n %br maximum loss: %n %br display graphs: %b %br display layers: %b %br display confusion matrices: %b"><l>480</l><l>360</l><l>0</l><l>1</l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>true</bool></l></custom-block><custom-block s="Search and replace %n times %br with number of experiments %n %br with number of samples %n %br with %n initial number of training cylces %br do after each experiment finishes %cmdRing %br do after each replacement %cmdRing %br then finally do %cmdRing %br best so far %n"><l>1</l><block var="number of models to train"/><l>1</l><l>1000</l><block s="reifyScript"><script><block s="doAddToList"><block var="results"/><block var="history"/></block><block s="doRun"><block var="after training"/><list><block var="results"/></list></block></script><list><l>results</l></list></block><block s="reifyScript"><script><block s="doSetVar"><l>best parameters</l><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="doRun"><block var="do"/><list></list></block></script><list></list></block><l>-9999999999</l></custom-block></script><list></list></block></custom-block></script></block-definition><block-definition s="Search and replace %&apos;number of replacements&apos; times $nl with number of experiments %&apos;number of experiments&apos; $nl with number of samples %&apos;number of samples&apos; $nl with %&apos;number of training cycles&apos; initial number of training cylces $nl do after each experiment finishes %&apos;when an experiment finishes&apos; $nl do after each replacement %&apos;do with parameters&apos; $nl then finally do %&apos;when finished&apos; $nl best so far %&apos;best score so far&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input><input type="%n">3</input><input type="%n"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%n">9999999999</input></inputs><script><block s="doIfElse"><block s="reportGreaterThan"><block var="number of replacements"/><l>0</l></block><script><custom-block s="Search for good neural net model parameters for %txt %br perform %n experiments %br where each experiment should run the same parameters %n times %br where at first run %n training cycles %br and when each experiment finishes do %cmdRing %br then process best parameters %cmdRing %br but if there is an error %cmdRing %br $pointRight-1-64-64-255 Varying these parameters: %br ...optimization method %b %br ...loss function %b %br ...activation function %b %br ...shuffle data %b %br ...learning rate %b %br ...number of training iterations %b %br ...validation split %b %br ...dropout rate %b %br ...number and size of layers %b %br $pointRight-1-64-64-255 With these scoring weights: %br ...loss weight %n %br ...accuracy weight %n %br ...duration weight %n %br ...size of model weight %n %br ...variance of score weight %n %br $pointRight-1-64-64-255 With these initial settings: %br ...learning rate %n %br ...stop training if no progress for %n cycles %br ...fraction set aside for validation from training data %n %br ...shuffle data after each step %b"><block var="model name"/><block var="number of experiments"/><block var="number of samples"/><block var="number of training cycles"/><block s="reifyScript"><script><block s="doRun"><block var="when an experiment finishes"/><list><block var="results"/></list></block></script><list><l>results</l></list></block><block s="reifyScript"><script><custom-block s="process best parameters %l %n %n %n %n %cmdRing %cmdRing %cmdRing %n"><block var="best parameters"/><block var="number of replacements"/><block var="number of experiments"/><block var="number of samples"/><block var="number of training cycles"/><block var="when an experiment finishes"/><block var="do with parameters"/><block var="when finished"/><block var="best score so far"/></custom-block></script><list><l>best parameters</l></list></block><block s="reifyScript"><script><custom-block s="inform %txt with title %txt"><l></l><l>Error while searching for good parameters</l></custom-block></script><list></list></block><l><bool>true</bool></l><l><bool>false</bool></l><l><bool>false</bool></l><l><bool>false</bool></l><l><bool>false</bool></l><l><bool>false</bool></l><l><bool>false</bool></l><l><bool>false</bool></l><l><bool>true</bool></l><l>1</l><l>10</l><l>1</l><l>1</l><l>2</l><l>.002</l><l>100</l><l>0.2</l><l><bool>true</bool></l></custom-block></script><script><block s="doRun"><block var="when finished"/><list></list></block></script></block></script></block-definition><block-definition s="process best parameters %&apos;best parameters&apos; %&apos;number of replacements&apos; %&apos;number of experiments&apos; %&apos;number of samples&apos; %&apos;initial training cycles&apos; %&apos;when an experiment finishes&apos; %&apos;do with parameters&apos; %&apos;when finished&apos; %&apos;best score so far&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%n"></input><input type="%n"></input><input type="%n"></input><input type="%n"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%n"></input></inputs><script><custom-block s="let %upvar be %s"><l>current score</l><custom-block s="get the %txt of %l"><l>highest_score</l><block var="best parameters"/></custom-block></custom-block><block s="doIfElse"><block s="reportGreaterThan"><block var="current score"/><block var="best score so far"/></block><script><custom-block s="Replace model named %txt with the best model found %br and when finished %cs %br but if there is an error %cmdRing"><block var="model name"/><script><block s="doRun"><block var="do with parameters"/><list><block var="best parameters"/></list></block><custom-block s="Search and replace %n times %br with number of experiments %n %br with number of samples %n %br with %n initial number of training cylces %br do after each experiment finishes %cmdRing %br do after each replacement %cmdRing %br then finally do %cmdRing %br best so far %n"><block s="reportDifference"><block var="number of replacements"/><l>1</l></block><block var="number of experiments"/><block var="number of samples"/><custom-block s="get the %txt of %l"><l>epochs</l><block var="best parameters"/></custom-block><block var="when an experiment finishes"/><block var="do with parameters"/><block var="when finished"/><block var="current score"/></custom-block></script><block s="reifyScript"><script><custom-block s="inform %txt with title %txt"><l></l><l>Error while replacing model with best model while searching.</l></custom-block><custom-block s="Search and replace %n times %br with number of experiments %n %br with number of samples %n %br with %n initial number of training cylces %br do after each experiment finishes %cmdRing %br do after each replacement %cmdRing %br then finally do %cmdRing %br best so far %n"><block s="reportDifference"><block var="number of replacements"/><l>1</l></block><block var="number of experiments"/><block var="number of samples"/><block var="initial training cycles"/><block var="when an experiment finishes"/><block var="do with parameters"/><block var="when finished"/><block var="best score so far"/></custom-block></script><list></list></block></custom-block></script><script><block s="bubble"><block s="reportJoinWords"><list><l>Experiment&apos;s score less than best so far </l><block var="current score"/><l> while best so far is </l><block var="best score so far"/><l> with </l><block s="reportDifference"><block var="number of replacements"/><l>1</l></block><l> replacements left.</l></list></block></block><custom-block s="Search and replace %n times %br with number of experiments %n %br with number of samples %n %br with %n initial number of training cylces %br do after each experiment finishes %cmdRing %br do after each replacement %cmdRing %br then finally do %cmdRing %br best so far %n"><block s="reportDifference"><block var="number of replacements"/><l>1</l></block><block var="number of experiments"/><block var="number of samples"/><block var="initial training cycles"/><block var="when an experiment finishes"/><block var="do with parameters"/><block var="when finished"/><block var="best score so far"/></custom-block></script></block></script></block-definition><block-definition s="get the %&apos;key&apos; of %&apos;table&apos;" type="reporter" category="variables"><comment x="0" y="0" w="192.85714285714286" collapsed="false">Reports the value of the &apos;key&apos; in a table that is a list of pairs of keys and values.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>pair</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block s="reportListItem"><l>1</l><l/></block><block var="key"/></block></autolambda><list></list></block><block var="table"/></block></custom-block><block s="doIfElse"><block s="reportEquals"><block var="pair"/><block s="reportBoolean"><l><bool>false</bool></l></block></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script><script><block s="doReport"><block s="reportListItem"><l>2</l><block var="pair"/></block></block></script></block></script></block-definition><block-definition s="inform %&apos;message&apos; with title %&apos;title&apos;" type="command" category="other"><comment x="0" y="0" w="217.14285714285717" collapsed="false">Will display &apos;message&apos; in a dialog box with &apos;title&apos;. User needs to click &apos;OK&apos; to remove it.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>inform</l><list><block var="title"/><block var="message"/><l></l><block s="reportBoolean"><l><bool>true</bool></l></block></list></custom-block></script></block-definition><block-definition s="Replace model named %&apos;model name&apos; with the best model found $nl and when finished %&apos;run after replacement&apos; $nl but if there is an error %&apos;run if there is an error&apos;" type="command" category="other"><comment x="0" y="0" w="268.5714285714286" collapsed="false">This will replace the model named by the best model found by the &apos;Search for good neural net model ...&quot; command.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cs"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>replace_with_best_model</l><list><block var="model name"/><block var="run after replacement"/><block var="run if there is an error"/></list></custom-block></script></block-definition><block-definition s="Search for good neural net model parameters for %&apos;model name&apos; $nl perform %&apos;number of experiments&apos; experiments $nl where each experiment should run the same parameters %&apos;number of samples&apos; times $nl where at first run %&apos;training cycles&apos; training cycles $nl and when each experiment finishes do %&apos;do when a trial finishes&apos; $nl then process best parameters %&apos;do with best parameters&apos; $nl but if there is an error %&apos;process error&apos; $nl $pointRight-1-64-64-255 Varying these parameters: $nl ...optimization method %&apos;vary optimization method&apos; $nl ...loss function %&apos;vary loss function&apos; $nl ...activation function %&apos;vary activation function&apos; $nl ...shuffle data %&apos;vary whether to shuffle data&apos; $nl ...learning rate %&apos;vary learning rate&apos; $nl ...number of training iterations %&apos;vary number of training iterations&apos; $nl ...validation split %&apos;vary validation split&apos; $nl ...dropout rate %&apos;vary dropout rate&apos; $nl ...number and size of layers %&apos;vary number of layers&apos; $nl $pointRight-1-64-64-255 With these scoring weights: $nl ...loss weight %&apos;loss weight&apos; $nl ...accuracy weight %&apos;accuracy weight&apos; $nl ...duration weight %&apos;duration weight&apos; $nl ...size of model weight %&apos;size weight&apos; $nl ...variance of score weight %&apos;standard deviation weight&apos; $nl $pointRight-1-64-64-255 With these initial settings: $nl ...learning rate %&apos;learning rate&apos; $nl ...stop training if no progress for %&apos;stop if no progress&apos; cycles $nl ...fraction set aside for validation from training data %&apos;validation fraction&apos; $nl ...shuffle data after each step %&apos;shuffle data&apos;" type="command" category="other"><comment x="0" y="0" w="280.7142857142857" collapsed="false">This searches for the best hyperparameters (learning rate, number of training cycles, loss function, optimazation method, and layers) that results in the most accurate model. It will run &apos;do when a trial finishes&apos; with the results of each experiment. Each experiment will average the results of &apos;number of samples&apos; runs with the same hyperparameters. After &apos;number of experiments&apos; it will run &apos;do with parameters&apos; with the best parameters found. The parameters can then be passed along to the &quot;Create and train a neural net named ... base upon ...&quot; block.&#xD;The named model must already exist and its training data (and optionally its validation data) already made available. It scores each experiment by adding the weighted values of the loss, accuracy, time to train, number of parameter, and degree of variability in the outcome scores.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%n">10</input><input type="%n">3</input><input type="%n">100</input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input><input type="%n">10</input><input type="%n">10</input><input type="%n">1</input><input type="%n">2</input><input type="%n">3</input><input type="%n">.001</input><input type="%n">0</input><input type="%n"></input><input type="%b">true</input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>optimize_hyperparameters</l><list><block var="model name"/><block var="number of experiments"/><block var="training cycles"/><block var="do when a trial finishes"/><block var="do with best parameters"/><block var="process error"/><block s="reportNewList"><list><block var="vary optimization method"/><block var="vary loss function"/><block var="vary activation function"/><block var="vary whether to shuffle data"/><block var="vary number of training iterations"/><block var="vary validation split"/><block var="vary dropout rate"/><block var="vary number of layers"/><block var="vary learning rate"/></list></block><block s="reportNewList"><list><block var="loss weight"/><block var="accuracy weight"/><block var="duration weight"/><block var="size weight"/><block var="standard deviation weight"/></list></block><block var="number of samples"/><block var="learning rate"/><block var="stop if no progress"/><block var="validation fraction"/><block var="shuffle data"/></list></custom-block></script></block-definition><block-definition s="Set TensorFlow support window visualization options $nl graph width: %&apos;width&apos; $nl graph height: %&apos;height&apos; $nl minimum loss: %&apos;minimum loss&apos; $nl maximum loss: %&apos;maximum loss&apos; $nl display graphs: %&apos;display graphs&apos; $nl display layers: %&apos;display layers&apos; $nl display confusion matrices: %&apos;display confusion matrices&apos;" type="command" category="variables"><comment x="0" y="0" w="266.42857142857144" collapsed="false">This block customises what is seen if the &apos;Open support panel tensorflow.js&quot; block is run. If &apos;display graphs&apos; is true then a graph of the loss over each iteration is displayed. You can control its dimensions and the range of values. If &apos;display layers&apos; is true then statistics about each layer is displayed. If &apos;display confusion matrices&apos; is true on the output are labels (not numbers) then confusion matrices are displayed.</comment><header></header><code></code><translations></translations><inputs><input type="%n">480</input><input type="%n">300</input><input type="%n">0</input><input type="%n">5</input><input type="%b">true</input><input type="%b">true</input><input type="%b">true</input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>set_tensorflow_visualization_options</l><list><block var="width"/><block var="height"/><block var="minimum loss"/><block var="maximum loss"/><block var="display graphs"/><block var="display layers"/><block var="display confusion matrices"/></list></custom-block></script></block-definition><block-definition s="Create model and data with first category %&apos;first category&apos; $nl $nl ignore sender role %&apos;ignore sender&apos; and then %&apos;do&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%b">false</input><input type="%b">true</input><input type="%cmdRing"></input></inputs><script><custom-block s="Send %txt data input %l output %l %br forget old data %b ( this is only for %txt ) %br then when data has been received %cs %br and if output are labels use these %l"><l>training</l><custom-block s="Skip %b sender role %l"><block var="ignore sender"/><block var="train input"/></custom-block><custom-block s="select output %l only first category %b"><block var="train output"/><block var="first category"/></custom-block><l><bool>true</bool></l><l>all models</l><script><custom-block s="Send %txt data input %l output %l %br forget old data %b ( this is only for %txt ) %br then when data has been received %cs %br and if output are labels use these %l"><l>validation</l><custom-block s="Skip %b sender role %l"><block var="ignore sender"/><block var="validation input"/></custom-block><custom-block s="select output %l only first category %b"><block var="validation output"/><block var="first category"/></custom-block><l><bool>true</bool></l><l>all models</l><script><custom-block s="Create a neural net model %txt (expert version) %br with layers %l %br using optimizer %txt %br with loss function %txt %br with activation function %txt %br with dropout rate %n %br with input size %s %br then %cs %br but if there is an error %cmdRing"><block var="model name"/><block s="reportNewList"><list><l>128</l><l>64</l><l>32</l></list></block><l>Adaptive Stochastic Gradient Descent</l><l></l><l>relu</l><l>0.5</l><l></l><script><block s="doRun"><block var="do"/><list></list></block></script><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><block var="content codes"/></custom-block></script><block var="content codes"/></custom-block></script></block-definition><block-definition s="Skip %&apos;skip&apos; sender role %&apos;data&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%b">true</input><input type="%l"></input></inputs><script><block s="doReport"><block s="reportIfElse"><block var="skip"/><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportCDR"><block s="reportCDR"><block s="reportCDR"><l/></block></block></block></autolambda><list></list></block><block var="data"/></block><block var="data"/></block></block></script></block-definition><block-definition s="select output %&apos;full output&apos; only first category %&apos;first category&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%b">true</input></inputs><script><block s="doIf"><block s="reportListIsEmpty"><block var="full output"/></block><script><block s="doReport"><block var="full output"/></block></script></block><block s="doWarp"><script><block s="doIfElse"><block var="first category"/><script><block s="doIfElse"><block var="Use weights for classes"/><script><custom-block s="let %upvar be %s"><l>frequencies</l><custom-block s="Create key-counts table %l with key column %n"><block var="full output"/><l>1</l></custom-block></custom-block><custom-block s="let %upvar be %s"><l>weights</l><custom-block s="map %repRing over %l"><block s="reifyReporter"><autolambda><block s="reportNewList"><list><block s="reportListItem"><l>1</l><l/></block><block s="reportDifference"><l>1</l><block s="reportQuotient"><block s="reportListItem"><l>2</l><l/></block><block s="reportListAttribute"><l><option>length</option></l><block var="full output"/></block></block></block></list></block></autolambda><list></list></block><block var="frequencies"/></custom-block></custom-block><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="if %b then %anyUE else %anyUE"><block s="reportListContainsItem"><block var="categories"/><block s="reportListItem"><l>1</l><l/></block></block><block s="reportListItem"><l>2</l><l/></block><l>0</l></custom-block></autolambda><list></list></block><block var="weights"/></block></autolambda><list><l>categories</l></list></block><block var="full output"/></block></block></script><script><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><l/></block></autolambda><list></list></block><block var="full output"/></block></block></script></block></script><script><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="score categories %l"><l/></custom-block></autolambda><list></list></block><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportNotEquals"><l></l><l>NA</l></block></autolambda><list></list></block><custom-block s="Unique elements of %l"><block s="reportListItem"><block s="reportNumbers"><l>1</l><block var="number of category columns"/></block><l/></block></custom-block></block></autolambda><list></list></block><block var="full output"/></block></block></block></script></block></script></block></script></block-definition><block-definition s="map %&apos;func&apos; over %&apos;data&apos;" type="reporter" category="lists"><header></header><code></code><translations>de:wende _ an auf _&#xD;</translations><inputs><input type="%repRing"></input><input type="%l"></input></inputs><script><block s="doIf"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doReport"><block var="data"/></block></script></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="func"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><custom-block s="map %repRing over %l"><block var="func"/><block s="reportCDR"><block var="data"/></block></custom-block></block></block></script></block-definition><block-definition s="score categories %&apos;categories&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block var="categories"/></block></script><scripts><script x="211.42857142857144" y="131.02380952380955"><custom-block s="let %upvar be %s"><l>scores</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportRound"><l>0</l></block></autolambda><list></list></block><block var="content codes"/></block></custom-block><custom-block s="%upvar for each %upvar of %l %ca"><l>#</l><l>category</l><block var="categories"/><script><custom-block s="let %upvar be %s"><l>index</l><block s="reportListIndex"><block var="category"/><block var="content codes"/></block></custom-block><block s="doReplaceInList"><block var="index"/><block var="scores"/><block s="reportSum"><block s="reportListItem"><block var="index"/><block var="scores"/></block><block s="reportMonadic"><l><option>2^</option></l><block s="reportDifference"><l>1</l><block var="#"/></block></block></block></block></script></custom-block><block s="doReport"><block var="scores"/></block></script><comment x="36.42857142857143" y="84.42857142857143" w="185.71428571428572" collapsed="false">Not sure why this didn&apos;t help</comment></scripts></block-definition><block-definition s="Unique elements of %&apos;list&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>elements</l><block s="reportNewList"><list></list></block></custom-block><custom-block s="for each %upvar of %l %cs"><l>item</l><block var="list"/><script><block s="doIf"><block s="reportNot"><block s="reportListContainsItem"><block var="elements"/><block var="item"/></block></block><script><block s="doAddToList"><block var="item"/><block var="elements"/></block></script></block></script></custom-block><block s="doReport"><block var="elements"/></block></script></block-definition><block-definition s="Create a neural net model %&apos;name&apos; (expert version) $nl with layers %&apos;layers&apos; $nl using optimizer %&apos;optimizer&apos; $nl with loss function %&apos;loss function&apos; $nl with activation function %&apos;activation function&apos; $nl with dropout rate %&apos;dropout rate&apos; $nl with input size %&apos;input size&apos; $nl then %&apos;do after model created&apos; $nl but if there is an error %&apos;process error&apos;" type="command" category="other"><comment x="0" y="0" w="280.7142857142857" collapsed="false">Creates a neural network with a &apos;name&apos; that is used in other blocks for training and prediction. &apos;Layers&apos; is a list of positive numbers determine the size of each layer. The &apos;optimizer&apos; is the name of the method that will be used during training. &apos;loss function&apos; is used to measure the difference between predictions and outputs during training. The &apos;activation function&apos; is applied after the weighted inputs are summed. &apos;dropout rate&apos; adds some noise to training that helps prevent overfitting to the training data.  &apos;Input size&apos; should be a number or a list of numbers that describes what the input dimensions are. You don&apos;t need to provide this if you have already sent or loaded training data.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input><input type="%txt" readonly="true">Stochastic Gradient Descent<options>Stochastic Gradient Descent&#xD;Adaptive Stochastic Gradient Descent&#xD;Adaptive Learning Rate Gradiant Descent&#xD;Adaptive Moment Estimation&#xD;Adaptive Moment Estimation Max&#xD;Momentum&#xD;Root Mean Squared Prop</options></input><input type="%txt" readonly="true">Mean Squared Error<options>Absolute Difference&#xD;Log Loss&#xD;Mean Squared Error</options></input><input type="%txt">relu<options>elu&#xD;hardSigmoid&#xD;linear&#xD;relu&#xD;relu6&#xD;selu&#xD;sigmoid&#xD;softmax&#xD;softplus&#xD;softsign&#xD;tanh</options></input><input type="%n">0.5</input><input type="%s"></input><input type="%cs"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>create_tensorflow_model</l><list><block var="name"/><block var="layers"/><block var="optimizer"/><block var="loss function"/><block var="input size"/><block var="do after model created"/><block var="process error"/><block var="activation function"/><block var="dropout rate"/></list></custom-block></script></block-definition><block-definition s="Send %&apos;kind of data&apos; data input %&apos;input&apos; output %&apos;output&apos; $nl forget old data %&apos;ignore old data&apos; ( this is only for %&apos;model name&apos; ) $nl then when data has been received %&apos;do when finished&apos; $nl and if output are labels use these %&apos;labels&apos;" type="command" category="other"><comment x="0" y="0" w="282.14285714285717" collapsed="false">Sends either training or validation data to be used by training blocks. Note that if the output are labels of categories then if you are also providing validation data then provide the same list of labels. Note all data whose output is not one of the labels is automatically removed. </comment><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">training<options>training&#xD;validation&#xD;test</options></input><input type="%l"></input><input type="%l"></input><input type="%b">false</input><input type="%txt">all models</input><input type="%cs"></input><input type="%l"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>send_data</l><list><block var="model name"/><block var="kind of data"/><block var="input"/><block var="output"/><block var="ignore old data"/><block var="do when finished"/><block var="labels"/></list></custom-block></script></block-definition><block-definition s="Default parameters" type="command" category="variables"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>number of category columns</l><l>3</l></block><block s="doSetVar"><l>threshold individual</l><l>0</l></block><block s="doSetVar"><l>threshold ensemble</l><l>0.4</l></block><block s="doSetVar"><l>number of models to train</l><l>10</l></block><block s="doSetVar"><l>number of lowest accuracy models to drop</l><l>2</l></block></script></block-definition><block-definition s="Run and evaluate models with ensemble threshold %&apos;new threshold ensemble&apos; with voting threshold %&apos;new threshold individual&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input></inputs><script><block s="bubble"><l>Evaluation started.</l></block><block s="doSetVar"><l>threshold ensemble</l><block var="new threshold ensemble"/></block><block s="doSetVar"><l>threshold individual</l><block var="new threshold individual"/></block><block s="doSetVar"><l>predicted true differences</l><l>Pending</l></block><block s="doSetVar"><l>predictions compared</l><l>Pending</l></block><block s="doSetVar"><l>predictions evaluated</l><l>Pending</l></block><custom-block s="Compare predictions %l with inputs %l and outputs %l %br with results so far %l %br $and then %cmdRing"><block var="model names"/><block s="reportListItem"><block s="reportNumbers"><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="test input"/></block></block><block var="test input"/></block><block s="reportListItem"><block s="reportNumbers"><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="test output"/></block></block><block var="test output"/></block><l/><block s="reifyScript"><script><block s="doSetVar"><l>predictions compared</l><l></l></block><custom-block s="Evaluate models run"></custom-block></script><list></list></block></custom-block></script></block-definition><block-definition s="Evaluate models run" type="command" category="lists"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>predictions evaluated</l><custom-block s="evaluate predictions from multiple models %l with input %l"><block var="predictions compared"/><l/></custom-block></block><block s="doSetVar"><l>predicted true differences</l><block s="reportCONS"><block s="reportTextSplit"><block s="reportJoinWords"><list><l>Primary prediction, Secondary prediction, Tertiary prediction, SE score, C&amp;I score, QA score,</l><l> SE vote, C&amp;I vote, QA vote, Role, Message, Primary , Secondary,</l><l> Teritary, SE details, C&amp;I details, QA details</l></list></block><l><option>csv</option></l></block><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportAnd"><block s="reportNotEquals"><block s="reportListItem"><l>1</l><l/></block><block s="reportListItem"><l>12</l><l/></block></block><block s="reportAnd"><block s="reportNotEquals"><block s="reportListItem"><l>1</l><l/></block><block s="reportListItem"><l>13</l><l/></block></block><block s="reportNotEquals"><block s="reportListItem"><l>1</l><l/></block><block s="reportListItem"><l>14</l><l/></block></block></block></block></autolambda><list></list></block><block var="predictions evaluated"/></block></block></block><block s="bubble"><custom-block s="Describe tests"></custom-block></block></script></block-definition><block-definition s="evaluate predictions from multiple models %&apos;combined results&apos; with input %&apos;input&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doWarp"><script><block s="doReport"><custom-block s="%upvar map %repRing over %mult%l"><l>#</l><block s="reifyReporter"><autolambda><block s="reportConcatenatedLists"><list><custom-block s="Categories from scores %l"><block s="reportListItem"><block s="reportNumbers"><block s="reportSum"><block var="number of category columns"/><l>1</l></block><block s="reportSum"><block var="number of category columns"/><block s="reportListAttribute"><l><option>length</option></l><block var="content codes"/></block></block></block><l/></block></custom-block><custom-block s="if %b then %anyUE else %anyUE"><block s="reportIsA"><block var="input"/><l><option>list</option></l></block><block var="input"/><block s="reportListItem"><block s="reportListItem"><block var="#"/><block var="test indices"/></block><block var="inputs"/></block></custom-block><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="if %b then %anyUE else %anyUE"><block s="reportIsA"><l></l><l><option>list</option></l></block><custom-block s="join each with space %l"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportRound"><block s="reportProduct"><l>100</l><l></l></block></block></autolambda><list></list></block><block s="reportCDR"><l/></block></block></custom-block><l></l></custom-block></autolambda><list></list></block><block s="reportListItem"><block s="reportNumbers"><l>1</l><block s="reportProduct"><block var="number of category columns"/><l>2</l></block></block><l/></block></block></list></block></autolambda><list></list></block><list><block var="combined results"/></list></custom-block></block></script></block></script></block-definition><block-definition s="Categories from scores %&apos;scores&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>averages</l><custom-block s="sort %l ordering with %predRing"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportNewList"><list><block s="reportListItem"><l>1</l><l/></block><custom-block s="average of each item %l"><block s="reportCDR"><l/></block></custom-block></list></block></autolambda><list></list></block><block var="scores"/></block><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><block s="reportListItem"><l>2</l><l/></block><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block></custom-block></custom-block><custom-block s="let %upvar be %s"><l>votes</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportNewList"><list><block s="reportListItem"><l>1</l><l/></block><block s="reportListAttribute"><l><option>length</option></l><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportGreaterThanOrEquals"><l></l><block var="threshold individual"/></block></autolambda><list></list></block><block s="reportCDR"><l/></block></block></block></list></block></autolambda><list></list></block><block var="scores"/></block></custom-block><custom-block s="let %upvar be %s"><l>categories</l><block s="reportNewList"><list></list></block></custom-block><custom-block s="let %upvar be %s"><l>minimum average score</l><block var="threshold ensemble"/></custom-block><custom-block s="let %upvar be %s"><l>minimum number of votes</l><block s="reportQuotient"><block s="reportListAttribute"><l><option>length</option></l><block var="model names"/></block><l>2</l></block></custom-block><custom-block s="for each %upvar of %l %cs"><l>average score</l><block var="averages"/><script><custom-block s="let %upvar be %s"><l>category</l><block s="reportListItem"><l>1</l><block var="average score"/></block></custom-block><block s="doIfElse"><block s="reportAnd"><block s="reportGreaterThanOrEquals"><block s="reportListItem"><l>2</l><block var="average score"/></block><block var="minimum average score"/></block><block s="reportGreaterThanOrEquals"><custom-block s="find %txt in %l"><block var="category"/><block var="votes"/></custom-block><block var="minimum number of votes"/></block></block><script><block s="doAddToList"><block var="category"/><block var="categories"/></block><block s="doSetVar"><l>minimum average score</l><block s="reportQuotient"><block var="minimum average score"/><l>2</l></block></block><block s="doChangeVar"><l>minimum number of votes</l><l>-1</l></block></script><script><block s="doAddToList"><l>--</l><block var="categories"/></block></script></block></script></custom-block><custom-block s="for each %upvar of %l %cs"><l>category</l><block var="content codes"/><script><block s="doAddToList"><block s="reportRound"><block s="reportProduct"><custom-block s="find %txt in %l"><block var="category"/><block var="averages"/></custom-block><l>100</l></block></block><block var="categories"/></block></script></custom-block><custom-block s="for each %upvar of %l %cs"><l>category</l><block var="content codes"/><script><block s="doAddToList"><custom-block s="find %txt in %l"><block var="category"/><block var="votes"/></custom-block><block var="categories"/></block></script></custom-block><block s="doReport"><block var="categories"/></block></script></block-definition><block-definition s="average of each item %&apos;list&apos;" type="reporter" category="lists"><comment x="0" y="0" w="159" collapsed="false">Reports the average of each element in the list.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportQuotient"><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block><block var="list"/></custom-block><block s="reportListAttribute"><l><option>length</option></l><block var="list"/></block></block></block></script></block-definition><block-definition s="combine with %&apos;function&apos; items of %&apos;data&apos;" type="reporter" category="lists"><header></header><code></code><translations>de:kombiniere mit _ die Elemente von _&#xD;</translations><inputs><input type="%repRing"></input><input type="%l"></input></inputs><script><block s="doIf"><custom-block s="empty? %l"><block s="reportCDR"><block var="data"/></block></custom-block><script><block s="doReport"><block s="reportListItem"><l>1</l><block var="data"/></block></block></script></block><block s="doReport"><block s="evaluate"><block var="function"/><list><block s="reportListItem"><l>1</l><block var="data"/></block><custom-block s="combine with %repRing items of %l"><block var="function"/><block s="reportCDR"><block var="data"/></block></custom-block></list></block></block></script></block-definition><block-definition s="empty? %&apos;data&apos;" type="predicate" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block></block></script></block-definition><block-definition s="sort %&apos;data&apos; ordering with %&apos;function&apos;" type="reporter" category="lists"><comment x="0" y="0" w="161.14285714285708" collapsed="false">Reports a sorted version of the list in its first input slot, using the comparison function in the second input slot.  For a list of numbers, using &lt; as the comparison function will sort from low to high; using &gt; will sort from high to low.</comment><header></header><code></code><translations>ca:ordena _ segons criteri _&#xD;</translations><inputs><input type="%l"></input><input type="%predRing"></input></inputs><script><block s="doDeclareVariables"><list><l>even items</l><l>odd items</l><l>merge</l><l>split</l><l>copy of data</l><l>id</l></list></block><block s="doSetVar"><l>id</l><block s="reifyScript"><script><block s="doReport"><l></l></block></script><list></list></block></block><block s="doSetVar"><l>copy of data</l><block s="reportMap"><block var="id"/><block var="data"/></block></block><block s="doSetVar"><l>split</l><block s="reifyScript"><script><block s="doSetVar"><l>even items</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>odd items</l><block s="reportNewList"><list></list></block></block><block s="doUntil"><block s="reportListIsEmpty"><block var="copy of data"/></block><script><block s="doAddToList"><block s="reportListItem"><l>1</l><block var="copy of data"/></block><block var="odd items"/></block><block s="doDeleteFromList"><l>1</l><block var="copy of data"/></block><block s="doIf"><block s="reportNot"><block s="reportListIsEmpty"><block var="copy of data"/></block></block><script><block s="doAddToList"><block s="reportListItem"><l>1</l><block var="copy of data"/></block><block var="even items"/></block><block s="doDeleteFromList"><l>1</l><block var="copy of data"/></block></script></block></script></block></script><list></list></block></block><block s="doSetVar"><l>merge</l><block s="reifyScript"><script><block s="doIf"><block s="reportEquals"><block var="#1"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block var="#2"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="#2"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block var="#1"/></block></script></block><block s="doIfElse"><block s="evaluate"><block var="function"/><list><block s="reportListItem"><l>1</l><block var="#1"/></block><block s="reportListItem"><l>1</l><block var="#2"/></block></list></block><script><block s="doReport"><block s="reportCONS"><block s="reportListItem"><l>1</l><block var="#1"/></block><block s="evaluate"><block var="merge"/><list><block s="reportCDR"><block var="#1"/></block><block var="#2"/></list></block></block></block></script><script><block s="doReport"><block s="reportCONS"><block s="reportListItem"><l>1</l><block var="#2"/></block><block s="evaluate"><block var="merge"/><list><block var="#1"/><block s="reportCDR"><block var="#2"/></block></list></block></block></block></script></block></script><list><l>#1</l><l>#2</l></list></block></block><block s="doIf"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block s="reportCDR"><block var="data"/></block><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block var="data"/></block></script></block><block s="doRun"><block var="split"/><list></list></block><block s="doReport"><block s="evaluate"><block var="merge"/><list><custom-block s="sort %l ordering with %predRing"><block var="odd items"/><block var="function"/></custom-block><custom-block s="sort %l ordering with %predRing"><block var="even items"/><block var="function"/></custom-block></list></block></block></script></block-definition><block-definition s="find %&apos;key&apos; in %&apos;table&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input></inputs><script><custom-block s="let %upvar be %s"><l>entry</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block s="reportListItem"><l>1</l><l/></block><block var="key"/></block></autolambda><list></list></block><block var="table"/></block></custom-block><block s="doIfElse"><block s="reportIsA"><block var="entry"/><l><option>list</option></l></block><script><block s="doReport"><block s="reportListItem"><l><option>last</option></l><block var="entry"/></block></block></script><script><block s="doReport"><block s="reportJoinWords"><list><l>No entry for </l><block var="key"/><l> in </l><block var="table"/></list></block></block></script></block></script></block-definition><block-definition s="let %&apos;var&apos; be %&apos;value&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%s"></input></inputs><script><block s="doSetVar"><l>var</l><block var="value"/></block></script></block-definition><block-definition s="for each %&apos;item&apos; of %&apos;data&apos; %&apos;action&apos;" type="command" category="lists"><header></header><code></code><translations>de:fr jedes _ von _ _&#xD;</translations><inputs><input type="%upvar"></input><input type="%l"></input><input type="%cs"></input></inputs><script><block s="doUntil"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doSetVar"><l>item</l><block s="reportListItem"><l>1</l><block var="data"/></block></block><block s="doRun"><block var="action"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="doSetVar"><l>data</l><block s="reportCDR"><block var="data"/></block></block></script></block></script></block-definition><block-definition s="if %&apos;test&apos; then %&apos;true&apos; else %&apos;false&apos;" type="reporter" category="control"><header></header><code></code><translations>de:wenn _ dann _ sonst _&#xD;</translations><inputs><input type="%b"></input><input type="%anyUE"></input><input type="%anyUE"></input></inputs><script><block s="doIfElse"><block var="test"/><script><block s="doReport"><block s="evaluate"><block var="true"/><list></list></block></block></script><script><block s="doReport"><block s="evaluate"><block var="false"/><list></list></block></block></script></block></script></block-definition><block-definition s="join each with space %&apos;words&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doIf"><block s="reportNot"><block s="reportIsA"><block var="words"/><l><option>list</option></l></block></block><script><block s="doReport"><block var="words"/></block></script></block><block s="doIfElse"><block s="reportEquals"><block s="reportListAttribute"><l><option>length</option></l><block var="words"/></block><l>1</l></block><script><block s="doReport"><block s="reportListItem"><l>1</l><block var="words"/></block></block></script><script><block s="doReport"><block s="reportJoinWords"><list><block s="reportListItem"><l>1</l><block var="words"/></block><l> </l><custom-block s="join each with space %l"><block s="reportCDR"><block var="words"/></block></custom-block></list></block></block></script></block></script></block-definition><block-definition s="%&apos;#&apos; map %&apos;function&apos; over %&apos;lists&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%repRing"></input><input type="%mult%l"></input></inputs><script><block s="doWarp"><script><block s="doDeclareVariables"><list><l>mapone</l><l>mapmany</l></list></block><block s="doSetVar"><l>mapone</l><block s="reifyScript"><script><block s="doIf"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doSetVar"><l>#</l><block var="count"/></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="function"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="evaluate"><block var="mapone"/><list><block s="reportCDR"><block var="data"/></block><block s="reportSum"><block var="count"/><l>1</l></block></list></block></block></block></script><list><l>data</l><l>count</l></list></block></block><block s="doSetVar"><l>mapmany</l><block s="reifyScript"><script><block s="doIf"><custom-block s="empty? %l"><block s="reportListItem"><l>1</l><block var="data lists"/></block></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doSetVar"><l>#</l><block var="count"/></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="function"/><custom-block s="%upvar map %repRing over %mult%l"><l>#</l><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><l/></block></autolambda><list></list></block><list><block var="data lists"/></list></custom-block></block><block s="evaluate"><block var="mapmany"/><list><custom-block s="%upvar map %repRing over %mult%l"><l>#</l><block s="reifyReporter"><autolambda><block s="reportCDR"><l/></block></autolambda><list></list></block><list><block var="data lists"/></list></custom-block><block s="reportSum"><block var="count"/><l>1</l></block></list></block></block></block></script><list><l>data lists</l><l>count</l></list></block></block><block s="doIfElse"><custom-block s="empty? %l"><block s="reportCDR"><block var="lists"/></block></custom-block><script><block s="doReport"><block s="evaluate"><block var="mapone"/><list><block s="reportListItem"><l>1</l><block var="lists"/></block><l>1</l></list></block></block></script><script><block s="doReport"><block s="evaluate"><block var="mapmany"/><list><block var="lists"/><l>1</l></list></block></block></script></block></script></block></script></block-definition><block-definition s="Describe tests" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="let %upvar be %s"><l>blank count</l><block s="reportListAttribute"><l><option>length</option></l><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block s="reportListItem"><l>1</l><l/></block><l>--</l></block></autolambda><list></list></block><block var="predicted true differences"/></block></block></custom-block><block s="doReport"><block s="reportJoinWords"><list><l>Predictions ready. </l><block s="reportRound"><block s="reportProduct"><l>100</l><block s="reportQuotient"><block var="blank count"/><block s="reportListAttribute"><l><option>length</option></l><block var="test indices"/></block></block></block></block><l>% were blank. </l><block s="reportDifference"><l>100</l><block s="reportRound"><block s="reportProduct"><l>100</l><block s="reportQuotient"><block s="reportListAttribute"><l><option>length</option></l><block var="predicted true differences"/></block><block s="reportListAttribute"><l><option>length</option></l><block var="test indices"/></block></block></block></block></block><l>% and ignoring blanks </l><block s="reportDifference"><l>100</l><block s="reportRound"><block s="reportProduct"><l>100</l><block s="reportQuotient"><block s="reportDifference"><block s="reportListAttribute"><l><option>length</option></l><block var="predicted true differences"/></block><block var="blank count"/></block><block s="reportDifference"><block s="reportListAttribute"><l><option>length</option></l><block var="test indices"/></block><block var="blank count"/></block></block></block></block></block><l>%.</l></list></block></block></script></block-definition><block-definition s="Compare predictions %&apos;model names&apos; with inputs %&apos;inputs&apos; and outputs %&apos;outputs&apos; $nl with results so far %&apos;results&apos; $nl $and then %&apos;do&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input><input type="%l"></input><input type="%l"></input><input type="%cmdRing"></input></inputs><script><block s="doIf"><block s="reportNot"><block s="reportIsA"><block var="results"/><l><option>list</option></l></block></block><script><block s="doSetVar"><l>results</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportConcatenatedLists"><list><block s="reportListItem"><block s="reportNumbers"><l>1</l><block var="number of category columns"/></block><l/></block><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportNewList"><list><l></l></list></block></autolambda><list></list></block><block var="content codes"/></block></list></block></autolambda><list></list></block><block var="outputs"/></block></block></script></block><block s="doIfElse"><block s="reportListIsEmpty"><block var="model names"/></block><script><block s="doRun"><block var="do"/><list><block var="results"/></list></block></script><script><custom-block s="Get predictions from model(s) %txt with inputs %l %br then %cmdRing %br or if there is an error %cmdRing %br with categories %l"><block s="reportListItem"><l>1</l><block var="model names"/></block><block var="inputs"/><block s="reifyScript"><script><custom-block s="%upvar for each %upvar of %l %ca"><l>#</l><l>prediction</l><block var="new predictions"/><script><custom-block s="let %upvar be %s"><l>old predictions</l><block s="reportListItem"><block var="#"/><block var="results"/></block></custom-block><custom-block s="for each %upvar of %l %cs"><l>category and score</l><block var="prediction"/><script><block s="doAddToList"><block s="reportListItem"><l>2</l><block var="category and score"/></block><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportAnd"><block s="reportIsA"><l></l><l><option>list</option></l></block><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="category and score"/></block><block s="reportListItem"><l>1</l><l/></block></block></block></autolambda><list></list></block><block var="old predictions"/></block></block></script></custom-block></script></custom-block><custom-block s="Compare predictions %l with inputs %l and outputs %l %br with results so far %l %br $and then %cmdRing"><block s="reportCDR"><block var="model names"/></block><block var="inputs"/><block var="outputs"/><block var="results"/><block var="do"/></custom-block></script><list><l>new predictions</l></list></block><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><block var="content codes"/></custom-block></script></block></script></block-definition><block-definition s="%&apos;#&apos; for each %&apos;item&apos; of %&apos;data&apos; %&apos;action&apos;" type="command" category="lists"><comment x="0" y="0" w="228.57142857142858" collapsed="false">This block carries out the given script for each item of the given list, like the primitive FOR EACH.&#xD;&#xD;What&apos;s different is that it provides the # variable, which will contain the item number in the list of each item in turn, 1 while processing item 1, and so on.</comment><header></header><code></code><translations>ca:_ per cada _ de _ _&#xD;</translations><inputs><input type="%upvar"></input><input type="%upvar"></input><input type="%l"></input><input type="%ca"></input></inputs><script><block s="doWarp"><script><block s="doIfElse"><custom-block s=" linked? %l"><block var="data"/></custom-block><script><block s="doSetVar"><l>#</l><l>1</l></block><block s="doUntil"><block s="reportListIsEmpty"><block var="data"/></block><script><block s="doSetVar"><l>item</l><block s="reportListItem"><l>1</l><block var="data"/></block></block><block s="doRun"><block var="action"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="doSetVar"><l>data</l><block s="reportCDR"><block var="data"/></block></block><block s="doChangeVar"><l>#</l><l>1</l></block></script></block></script><script><block s="doIf"><block s="reportNot"><block s="reportListIsEmpty"><block var="data"/></block></block><script><block s="doFor"><l>i</l><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="data"/></block><script><block s="doSetVar"><l>#</l><block var="i"/></block><block s="doSetVar"><l>item</l><block s="reportListItem"><block var="i"/><block var="data"/></block></block><block s="doRun"><block var="action"/><list><block s="reportListItem"><block var="i"/><block var="data"/></block></list></block></script></block></script></block></script></block></script></block></script></block-definition><block-definition s=" linked? %&apos;data&apos;" type="predicate" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>data</l></list><l>return data.isLinked;</l></block><list><block var="data"/></list></block></block></script></block-definition><block-definition s="Get predictions from model(s) %&apos;model name(s)&apos; with inputs %&apos;inputs&apos; $nl then %&apos;process predictions&apos; $nl or if there is an error %&apos;process error&apos; $nl with categories %&apos;categories&apos;" type="command" category="other"><comment x="0" y="0" w="181.42857142857144" collapsed="false">Ask the trained model to make predictions for each value in &apos;inputs&apos;. Can also average the predictions from a list of models.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input><input type="%cmdRing"></input><input type="%cmdRing"></input><input type="%l"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>predictions_from_model</l><list><block var="model name(s)"/><block var="inputs"/><block var="process predictions"/><block var="process error"/><block var="categories"/></list></custom-block></script></block-definition><block-definition s="run eCraft2Learn command %&apos;command name&apos; with %&apos;inputs&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>function_name</l><l>parameters</l></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;&#xD;    ecraft2learn.run(function_name, parameters);&#xD;&#xD;} else {&#xD;&#xD;   var script = document.createElement("script");&#xD;&#xD;   script.type = "text/javascript";&#xD;&#xD;   script.addEventListener(&apos;error&apos;, function () {&#xD;&#xD;          alert("Unable to load https://ecraft2learn.github.io/ai/ecraft2learn.js. Check your network connection.");&#xD;&#xD;   });&#xD;&#xD;   script.src = "https://ecraft2learn.github.io/ai/ecraft2learn.js";&#xD;&#xD;   script.addEventListener(&apos;load&apos;, function () {&#xD;&#xD;          ecraft2learn.run(function_name, parameters);&#xD;&#xD;   });&#xD;&#xD;   document.head.appendChild(script);&#xD;&#xD;}&#xD;&#xD;</l></block><list><block var="command name"/><block var="inputs"/></list></block></script></block-definition></blocks><variables><variable name="inputs"><l>not set</l></variable><variable name="outputs"><l>not set</l></variable><variable name="files types"><list struct="atomic" id="9268">Text,Voice,Text and Emoji</list></variable><variable name="roles"><list struct="atomic" id="9269">Facilitator,Peer supervisor,CHW</list></variable><variable name="numerical inputs"><l>not set</l></variable><variable name="model name"><l>Case-study_1</l></variable><variable name="best parameters"><list id="9270"><item><list struct="atomic" id="9271">optimization_method,Stochastic Gradient Descent</list></item><item><list id="9272"><item><l>shuffle</l></item><item><bool>true</bool></item></list></item><item><list struct="atomic" id="9273">epochs,1000</list></item><item><list struct="atomic" id="9274">validation_split,0.2</list></item><item><list struct="atomic" id="9275">learning_rate,0.0014</list></item><item><list id="9276"><item><l>layers</l></item><item><list struct="atomic" id="9277">85,44,24,3</list></item></list></item><item><list struct="atomic" id="9278">stop_if_no_progress_for_n_epochs,100</list></item><item><list id="9279"><item><l>loss_function</l></item><item><l></l></item></list></item><item><list id="9280"><item><l>is_best_so_far</l></item><item><bool>true</bool></item></list></item><item><list id="9281"><item><l>input_shape</l></item><item><list struct="atomic" id="9282">515</list></item></list></item><item><list id="9283"><item><l>used_validation_data</l></item><item><bool>true</bool></item></list></item><item><list struct="atomic" id="9284">lowest_loss,0.5067654848098755</list></item><item><list struct="atomic" id="9285">highest_accuracy,0.8280542492866516</list></item><item><list struct="atomic" id="9286">highest_score,5.252610149135349</list></item><item><list id="9287"><item><l>metrics</l></item><item><list id="9288"><item><list struct="atomic" id="9289">average_loss,0.5067654848098755</list></item><item><list struct="atomic" id="9290">average_accuracy,0.8280542492866516</list></item><item><list struct="atomic" id="9291">average_duration,224.416</list></item><item><list struct="atomic" id="9292">average_size,48796</list></item><item><list struct="atomic" id="9293">score_standard_deviation,0</list></item></list></item></list></item></list></variable><variable name="content codes"><list struct="atomic" id="9294">Supportive environment,Communication and Information,Quality assurance</list></variable><variable name="content code keys"><list struct="atomic" id="9295">primarySupervisoryCategoryAdaptedFromVuHenrysPaper,secondarySupervisoryCategoryAdaptedFromVuHenrysPaper,tertiarySupervisoryCategoryAdaptedFromVuHenrysPaper,quaternarySupervisoryCategoryAdaptedFromVuHenrysPaper,fifthSupervisoryCategory</list></variable><variable name="test input"><l>not set</l></variable><variable name="train input"><l>not set</l></variable><variable name="train output"><l>not set</l></variable><variable name="test output"><l>not set</l></variable><variable name="validation output"><l>not set</l></variable><variable name="validation input"><l>not set</l></variable><variable name="predicted true differences"><l>not set</l></variable><variable name="train indices"><l>not set</l></variable><variable name="validation indices"><l>not set</l></variable><variable name="test indices"><l>not set</l></variable><variable name="all content codes"><list linked="linked" id="9296"><item><list struct="atomic" id="9297">Supportive environment,1028</list></item><item><list struct="atomic" id="9298">Communication and Information,901</list></item><item><list struct="atomic" id="9299">Quality assurance,189</list></item></list></variable><variable name="data"><l>not set</l></variable><variable name="message key"><l>anonymisedMessageWithPseudonymReplacementsAndRemovedImages</l></variable><variable name="index of primary content"><l>17</l></variable><variable name="multi-category"><l>not set</l></variable><variable name="history"><l>not set</l></variable><variable name="primary category"><bool>true</bool></variable><variable name="one category predictions"><l>not set</l></variable><variable name="multi-category predictions"><l>not set</l></variable><variable name="evaluation"><l>not set</l></variable><variable name="spreadsheet name"><bool>false</bool></variable><variable name="message column number"><l>0</l></variable><variable name="role column number"><l>0</l></variable><variable name="primary category column number"><l>0</l></variable><variable name="number of category columns"><l>3</l></variable><variable name="file type column number"><l>0</l></variable><variable name="confidence threshold"><l>0.2</l></variable><variable name="model loaded"><bool>false</bool></variable><variable name="mode"><l>annotate</l></variable><variable name="development mode"><bool>true</bool></variable><variable name="temp"><l>not set</l></variable><variable name="class frequencies"><l>not set</l></variable><variable name="Use weights for classes"><bool>false</bool></variable><variable name="predictions compared"><l>not set</l></variable><variable name="threshold individual"><l>0</l></variable><variable name="threshold ensemble"><l>0.4</l></variable><variable name="predictions evaluated"><l>not set</l></variable><variable name="model names"><l>not set</l></variable><variable name="number of models to train"><l>10</l></variable><variable name="number of lowest accuracy models to drop"><l>2</l></variable></variables></project>