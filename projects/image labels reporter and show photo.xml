<project name="image labels reporter and show photo" app="Snap! 7, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAAAudJREFUeF7t2CFOKwEYRtG/EiwkOGxJwJGAwLARXBeAYR3siJVgkTggCJIhEMRLXsgTfeEKzvjpl945nXa6WpZlGYcCUYEVgFF5s58FAAQhLQBgmt84gAykBQBM8xsHkIG0AIBpfuMAMpAWADDNbxxABtICAKb5jQPIQFoAwDS/cQAZSAsAmOY3DiADaQEA0/zGAWQgLQBgmt84gAykBQBM8xsHkIG0AIBpfuMAMpAWADDNbxxABtICAKb5jQPIQFoAwDS/cQAZSAsAmOY3DiADaQEA0/zGAWQgLQBgmt84gAykBQBM8xsHkIG0AIBpfuMAMpAWADDNbxxABtICAKb5jQPIQFoAwDS/cQAZSAsAmOY3DiADaQEA0/zGAWQgLQBgmt84gAykBQBM8xsHkIG0AIAz8/j4OHt7e+mF+K3jAM7M7e3t3N3dzfn5+RwdHc3l5eXs7+//VhM/+r4B/Mp9c3Mz9/f3s1qt5unpaQ4ODub09HROTk7m4uJidnZ2fvTC/JYxAL+u9PPz82w2m3l9ff3r2n+AXK/Xc3x8PGdnZ58wHf+nAIB/dHx4eJjr6+t5e3v7tu6yLPPy8vIJ8fDwcK6urtwdt7AIIIBb8Nn+VAB9BW+vaItXAPAfDyEfv/s+HkJ2d3e3yOzU7woA6G+Y9NMBoD+iAUwLGE8LuAOm+Y0DyEBaAMA0v3EAGUgLAJjmNw4gA2kBANP8xgFkIC0AYJrfOIAMpAUATPMbB5CBtACAaX7jADKQFgAwzW8cQAbSAgCm+Y0DyEBaAMA0v3EAGUgLAJjmNw4gA2kBANP8xgFkIC0AYJrfOIAMpAUATPMbB5CBtACAaX7jADKQFgAwzW8cQAbSAgCm+Y0DyEBaAMA0v3EAGUgLAJjmNw4gA2kBANP8xgFkIC0AYJrfOIAMpAUATPMbB5CBtACAaX7jADKQFgAwzW8cQAbSAgCm+Y0DyEBaAMA0v3EAGUgLAJjmNw4gA2mBd1NxOLcmaGNpAAAAAElFTkSuQmCC</thumbnail><scenes select="1"><scene name="image labels reporter and show photo"><notes></notes><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Ask %&apos;cloud provider&apos; to say what it sees then %&apos;then receive response&apos; and show the picture %&apos;show photo?&apos;" type="command" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Google&#xD;Microsoft&#xD;IBM Watson</options></input><input type="%cmdRing"></input><input type="%s"></input></inputs><script><block s="doWaitUntil"><custom-block s="camera is ready %n %n dimensions"><l>640</l><l>480</l></custom-block></block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>take_picture_and_analyse</l><list><block var="cloud provider"/><block var="show photo?"/><block var="then receive response"/></list></custom-block></script></block-definition><block-definition s="Current image property from %&apos;cloud provider&apos; $nl with %&apos;property name or names&apos; property names" type="reporter" category="sensing"><comment x="0" y="0" w="344" collapsed="false">Reports a property of the most recent recognition by the AI cloud provider.&#xD;Visit tinyurl.com/vision-snap to learn more.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Google&#xD;Microsoft&#xD;IBM Watson</options></input><input type="%mult%txt"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>image_property</l><list><block var="cloud provider"/><block var="property name or names"/></list></custom-block></block></script></block-definition><block-definition s="IBM Watson classes" type="reporter" category="sensing"><comment x="0" y="0" w="331" collapsed="false">Reports a list of tags from IBM Watson from the last time it was asked to recognize an image.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt %br with %mult%txt property names"><l>IBM Watson</l><list><l></l></list></custom-block></block></script></block-definition><block-definition s="Google labels" type="reporter" category="sensing"><comment x="0" y="0" w="324" collapsed="true">Reports the tags from the last image recognition by Google.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt %br with %mult%txt property names"><l>Google</l><list><l>labelAnnotations</l><l>description</l></list></custom-block></block></script></block-definition><block-definition s="Microsoft labels" type="reporter" category="sensing"><comment x="0" y="0" w="334" collapsed="true">Reports the tags of the last image recognition by Microsoft.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt %br with %mult%txt property names"><l>Microsoft</l><list><l>description</l><l>tags</l></list></custom-block></block></script></block-definition><block-definition s="labels from %&apos;provider&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="522" collapsed="true">Reports the labels describing the most recent image recognised by the specified vision service provider.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Google&#xD;Microsoft&#xD;Watson</options></input></inputs><script><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Google</l></block><script><block s="doReport"><custom-block s="Google labels"></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Microsoft</l></block><script><block s="doReport"><custom-block s="Microsoft labels"></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Watson</l></block><script><block s="doReport"><custom-block s="IBM Watson classes"></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="provider"/><l></l></block><script><block s="doReport"><l>No vision provider given.</l></block></script></block><block s="doReport"><block s="reportJoinWords"><list><l>Unable to recognise vision provider: </l><block var="provider"/></list></block></block></script></block-definition><block-definition s="Do %&apos;handle response&apos; with what %&apos;provider&apos; sees $nl and show the photo %&apos;show&apos;" type="command" category="sensing"><comment x="0" y="0" w="396" collapsed="false">Takes a picture. When the AI vision provider responds runs the blocks on the labels in the response. Can optionally display the photo.</comment><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input><input type="%txt"><options>Google&#xD;Microsoft&#xD;Watson</options></input><input type="%b"></input></inputs><script><custom-block s="Ask %txt to say what it sees then %cmdRing and show the picture %s"><block var="provider"/><block s="reifyScript"><script><block s="doRun"><block var="handle response"/><list><custom-block s="labels from %txt"><block var="provider"/></custom-block></list></block></script><list><l>response</l></list></block><block var="show"/></custom-block></script></block-definition><block-definition s="labels of new photo from %&apos;provider&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="514" collapsed="true">Takes a picture, asks the AI vision cloud provider to classify it, and reports the response when it arrives.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Google&#xD;Microsoft</options></input></inputs><script><block s="doDeclareVariables"><list><l>response</l></list></block><block s="doSetVar"><l>response</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Do %cmdRing with what %txt sees %br and show the photo %b"><block s="reifyScript"><script><block s="doSetVar"><l>response</l><block var="r"/></block></script><list><l>r</l></list></block><block var="provider"/><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><block s="doWaitUntil"><block s="reportNot"><block s="reportEquals"><block var="response"/><block s="reportBoolean"><l><bool>false</bool></l></block></block></block></block><block s="doReport"><block var="response"/></block></script></block-definition><block-definition s="camera is ready %&apos;width&apos; %&apos;height&apos; dimensions" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input></inputs><script><custom-block s="let %upvar be %s"><l>camera ready</l><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><custom-block s="Setup camera %n %n then when ready %cs"><block var="width"/><block var="height"/><script><block s="doSetVar"><l>camera ready</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></custom-block><block s="doWaitUntil"><block var="camera ready"/></block><block s="doWait"><l>1</l><comment w="329.28571428571433" collapsed="true">Wait a bit more because otherwise a black image is captured.</comment></block><block s="doReport"><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></block-definition><block-definition s="costume from camera" type="reporter" category="looks"><comment x="0" y="0" w="207.14285714285717" collapsed="true">Reports a costume using the camera.</comment><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doWaitUntil"><custom-block s="camera is ready %n %n dimensions"><l></l><l></l></custom-block></block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>costume_from_camera</l><list></list></custom-block></block></script></block-definition><block-definition s="Current costume analysed by %&apos;provider&apos;" type="reporter" category="looks"><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Google&#xD;Microsoft</options></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>current_photo_as_costume</l><list><block var="provider"/></list></custom-block></block></script></block-definition><block-definition s="Open this in a new tab" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>re_open_full_window</l><list></list></custom-block></script></block-definition><block-definition s="call eCraft2Learn reporter %&apos;reporter name&apos; with %&apos;inputs&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><custom-block s="load eCraft2Learn"></custom-block><block s="doReport"><block s="reportApplyExtension"><l>e2l_call(reporter_name, parameters)</l><list><block var="reporter name"/><block var="inputs"/></list></block></block></script></block-definition><block-definition s="Load eCraft2Learn library" type="command" category="other"><comment x="0" y="0" w="238.57142857142858" collapsed="false">No longer needed in Snap! 7+ but retained to avoid error from blocks that expect it.</comment><header></header><code></code><translations></translations><inputs></inputs></block-definition><block-definition s="Setup camera %&apos;width&apos; %&apos;height&apos; then when ready %&apos;do when camera is ready&apos;" type="command" category="other"><comment x="0" y="0" w="314" collapsed="true">Specifies the resolution of the image sent for recogntion.</comment><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input><input type="%cs"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>setup_camera</l><list><block var="width"/><block var="height"/><block var="do when camera is ready"/></list></custom-block></script></block-definition><block-definition s="run eCraft2Learn command %&apos;command name&apos; with %&apos;inputs&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><custom-block s="load eCraft2Learn"></custom-block><block s="doApplyExtension"><l>e2l_run(command_name, parameters)</l><list><block var="command name"/><block var="inputs"/></list></block></script></block-definition><block-definition s="load eCraft2Learn" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/ecraft2learn.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/js/ecraft2learn_snap_extension.js</l></list></block></script></block-definition><block-definition s="let %&apos;var&apos; be %&apos;value&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%s"></input></inputs><script><block s="doSetVar"><l>var</l><block var="value"/></block></script></block-definition></blocks><stage width="320" height="240" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="true" hyperops="true" codify="false" inheritance="true" sublistIDs="false" id="265"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAADwCAYAAABxLb1rAAAAAXNSR0IArs4c6QAABvNJREFUeF7t1AERAAAIAjHpX9ogPxswPHaOAAECUYFFc4tNgACBM4CegACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AgAH0AwQIZAUMYLZ6wQkQMIB+gACBrIABzFYvOAECBtAPECCQFTCA2eoFJ0DAAPoBAgSyAgYwW73gBAgYQD9AgEBWwABmqxecAAED6AcIEMgKGMBs9YITIGAA/QABAlkBA5itXnACBAygHyBAICtgALPVC06AwAMbTgDxXhToPAAAAABJRU5ErkJggg==</pentrails><costumes><list struct="atomic" id="266"></list></costumes><sounds><list struct="atomic" id="267"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="Sprite" idx="0" x="0" y="0" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="272"><costumes><list struct="atomic" id="273"></list></costumes><sounds><list struct="atomic" id="274"></list></sounds><blocks></blocks><variables></variables><scripts><script x="384.57142857142856" y="18.238095238095283"><custom-block s="labels of new photo from %txt"><l>Microsoft</l></custom-block></script><script x="389.71428571428567" y="307.42857142857116"><block s="doSwitchToCostume"><custom-block s="costume from camera"></custom-block></block></script><script x="388.2857142857142" y="268.00000000000006"><custom-block s="Open this in a new tab"></custom-block></script><script x="387.2857142857142" y="226.6428571428571"><block s="setScale"><l>25</l><comment w="261" collapsed="true">Click this if the imge is too big to see all of it.</comment></block></script><script x="385.1428571428571" y="182.1428571428571"><block s="doSwitchToCostume"><custom-block s="Current costume analysed by %txt"><l>Microsoft</l></custom-block></block></script><script x="384.1428571428571" y="141.40952380952382"><block s="doSetVar"><l>Microsoft image key</l><l>ef4e8f8384274a6e9d2d64571983c21d</l></block></script><script x="382" y="100.6952380952381"><block s="doSetVar"><l>Google image key</l><l>Enter your key here</l></block></script><comment x="379.416015625" y="44.40952380952382" w="316.2857142857143" collapsed="false">Enter your key or keys below if you haven&apos;t entered them in the URL&#xD;or on the Seeing chapter&apos;s API key fields.</comment></scripts></sprite><watcher var="Google image key" style="normal" x="9.999999999999773" y="10.000000000000007" color="243,118,29" hidden="true"/><watcher var="Microsoft image key" style="normal" x="9.999999999999773" y="31.000001999999995" color="243,118,29" hidden="true"/></sprites></stage><variables><variable name="Google image key"><l>Enter your key here</l></variable><variable name="Microsoft image key" transient="true"/></variables></scene></scenes></project>