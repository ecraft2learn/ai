<project name="word analogy USE" app="Snap! 7, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAABLFJREFUeF7t3TFI1AEUx/H3P0UTTyJOOwwVEZwSBG+RFHK4UYJDcupAJZwdXCXaJCjSm9zcoiVCKAsON0vdgoYDkXATB4lMSI27uH94eJkWXMfrPb8uGZ3/997v98GzloJCoVAQPkhAKYEAgErJMzZMAIBAUE3gtwCz2azs7u5WfbFIJCL9/f3S2dlZ9VkM+D8TOANwc3Oz4k233r+WWx8fX/icIAhk5342fM3q6qqMjY1VPJcH2EugDODS0pJ0dXXJyd9LpqenJZ1OS29vrxwfH0s0GpXDw8Of791BUHrdr59vP38ot4/WS2lcSS9IfndLjt4+Kkvo071XpWf19PTYS4+NK06gDODc3JwMDAyED81kMrK3tyfFt8niW/Ly8rI0NzfL0NCQtLW1SUtLi6RSKRkdHZVYLCYrKytS/PqZmRnZeTlbBjA6uy2Fw69y8OBm2cK5uy9KABOJRMXH8AB7CZQB3NjYCL/TFT8ODg6ktbU1/Hx/fz/87hePx6Wurk7W1tbCX4vfKfv6+iSXy0lNTY3U19eHX/f5zdMygEE0JvL9WArfvpQl9OHOs9LvT+Dbi5CNK0ngzM+Ai4uL0tHRUckzpeNGXK6/e3LhM2quxmX9WjJ8TXt7u3R3d1c0ky+2mQD/DGOzNzdbA9BNlTYPAaDN3txsDUA3Vdo8BIA2e3OzNQDdVGnzEADa7M3N1gB0U6XNQwBoszc3WwPQTZU2DwGgzd7cbA1AN1XaPASANntzszUA3VRp8xAA2uzNzdYAdFOlzUMAaLM3N1sD0E2VNg8BoM3e3GwNQDdV2jwEgDZ7c7M1AN1UafMQANrszc3WAHRTpc1DAGizNzdbA9BNlTYPAaDN3txsDUA3Vdo8BIA2e3OzNQDdVGnzEADa7M3N1gB0U6XNQwBoszc3WwPQTZU2DwGgzd7cbA1AN1XaPASANntzszUA3VRp8xAA2uzNzdYAdFOlzUMAaLM3N1sD0E2VNg8BoM3e3GwNQDdV2jwEgDZ7c7M1AN1UafMQANrszc3WAHRTpc1DAHhOb4ODgzI/Px/+j/B8VC8BAF6QbSqVKv1pU1OTLCwsSENDQ/XauIRPBuAfSj+N8PRLE4mETE1NSTQavYRs/t3JALwgy3w+LyMjI2deEYlEZHx8XIaHh/9dE5f0SQD8i7fgIAgkmUzK5OSk1NbWXlIq1TkbgOfkOjExIZlMRhobG6uTPE8NEwAgEFQTAKBq/AwHIAZUEwCgavwMByAGVBMAoGr8DAcgBlQTAKBq/AwHIAZUEwCgavwMByAGVBMAoGr8DAcgBlQTAKBq/AwHIAZUEwCgavwMByAGVBMAoGr8DAcgBlQTAKBq/AwHIAZUEwCgavwMByAGVBMAoGr8DAcgBlQTAKBq/AwHIAZUEwCgavwMByAGVBMAoGr8DAcgBlQTAKBq/AwHIAZUEwCgavwMByAGVBMAoGr8DAcgBlQTAKBq/AwHIAZUEwCgavwMByAGVBMAoGr8DAcgBlQTAKBq/AwHIAZUEwCgavwMByAGVBMAoGr8DAcgBlQTAKBq/AwHIAZUEwCgavwMByAGVBMAoGr8DAcgBlQTAKBq/AwHIAZUE/gBsZhwt/DYXZ4AAAAASUVORK5CYII=</thumbnail><scenes select="1"><scene name="word analogy USE"><notes></notes><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Open this in a new tab" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>re_open_full_window</l><list></list></custom-block></script></block-definition><block-definition s="Euclidean distance between %&apos;point 1&apos; and %&apos;point 2&apos; using JavaScript" type="reporter" category="lists"><comment x="0" y="0" w="279.2857142857143" collapsed="false">Reports the distance between the points. Works with any dimensions from 1 to what fits in memory.&#xD;To see how this can be implemented in a slower way in Snap! open the &apos;distance from features ... to ...&apos; block</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>euclidean_distance</l><list><block var="point 1"/><block var="point 2"/></list></custom-block></block></script><scripts><script x="451.71428571428584" y="106.85714285714283"><custom-block s="Open web page %txt"><l>https://en.wikipedia.org/wiki/Euclidean_distance</l></custom-block></script></scripts></block-definition><block-definition s="cosine similarity %&apos;list 1&apos; %&apos;list 2&apos; JavaScript version" type="reporter" category="lists"><comment x="0" y="0" w="234" collapsed="false">See https://en.wikipedia.org/wiki/Cosine_similarity&#xD;There is a pure Snap! version of this.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>cosine_similarity</l><list><block var="list 1"/><block var="list 2"/></list></custom-block></block></script></block-definition><block-definition s="for each %&apos;item&apos; of %&apos;data&apos; %&apos;action&apos;" type="command" category="lists"><header></header><code></code><translations>de:f√ºr jedes _ von _ _&#xD;</translations><inputs><input type="%upvar"></input><input type="%l"></input><input type="%cs"></input></inputs><script><block s="doUntil"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doSetVar"><l>item</l><block s="reportListItem"><l>1</l><block var="data"/></block></block><block s="doRun"><block var="action"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="doSetVar"><l>data</l><block s="reportCDR"><block var="data"/></block></block></script></block></script></block-definition><block-definition s="all words in language %&apos;language&apos; with features" type="reporter" category="variables"><comment x="0" y="0" w="224.7398158482143" collapsed="false">Reports all the words that have a list of features accessible via the &quot;features of&quot; reporter block. Data obtained from https://github.com/facebookresearch/fastText</comment><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>all_words_with_features</l><list><block var="language"/></list></custom-block></block></script></block-definition><block-definition s="closest word to %&apos;features&apos; $nl in language %&apos;language&apos; $nl not including %&apos;exceptions&apos;" type="reporter" category="variables"><comment x="0" y="0" w="328.5714285714286" collapsed="false">Reports the word that is closest to the features.  You can choose from among 15 languages or leave it blank for the default language. There is a full-featured version of this block as well.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input><input type="%l"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>closest_word</l><list><block var="features"/><block var="exceptions"/><l></l><l>Cosine similarity</l><block var="language"/></list></custom-block></block></script></block-definition><block-definition s="wait for word embeddings in language %&apos;language&apos; $nl or use this word embeddings url %&apos;url&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Chinese&#xD;&#xD;English&#xD;&#xD;Finnish&#xD;&#xD;French&#xD;&#xD;German&#xD;&#xD;Greek&#xD;&#xD;Hindi&#xD;&#xD;Indonesian&#xD;&#xD;Italian&#xD;&#xD;Japanese&#xD;&#xD;Portuguese&#xD;&#xD;Sinhalese&#xD;&#xD;Swedish</options></input><input type="%txt"></input></inputs><script><block s="doDeclareVariables"><list><l>loaded</l></list></block><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Load words to features in language %txt then %cmdRing %br use this URL instead of default %txt"><block var="language"/><block s="reifyScript"><script><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><list></list></block><block var="url"/></custom-block><block s="doWaitUntil"><block var="loaded"/></block></script></block-definition><block-definition s="Load words to features in language %&apos;language&apos; then %&apos;do when loaded&apos; $nl use this URL instead of default %&apos;url&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Chinese&#xD;&#xD;English&#xD;&#xD;Finnish&#xD;&#xD;French&#xD;&#xD;German&#xD;&#xD;Greek&#xD;&#xD;Hindi&#xD;&#xD;Indonesian&#xD;&#xD;Italian&#xD;&#xD;Japanese&#xD;&#xD;Portuguese&#xD;&#xD;Sinhalese&#xD;&#xD;Swedish</options></input><input type="%cmdRing"></input><input type="%txt"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>word_embeddings_ready</l><list><block var="language"/><block var="do when loaded"/><block var="url"/></list></custom-block></script></block-definition><block-definition s="let %&apos;var&apos; be %&apos;value&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%s"></input></inputs><script><block s="doSetVar"><l>var</l><block var="value"/></block></script></block-definition><block-definition s="empty? %&apos;data&apos;" type="predicate" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block></block></script></block-definition><block-definition s="get features of sentences %&apos;sentences&apos; $nl then do with result %&apos;process result&apos;" type="command" category="variables"><comment x="0" y="0" w="385.8571428571428" collapsed="true">Passes a list of lists of 512 features of input &apos;sentences&apos; to &apos;process result&apos;. </comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="load tensorflow"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>sentence_features</l><list><block var="sentences"/><block var="process result"/></list></custom-block></block></script></block-definition><block-definition s="features of sentence %&apos;sentence&apos;" type="reporter" category="variables"><comment x="0" y="0" w="208.57142857142858" collapsed="false">Reports 512 features for the sentence.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="get features of sentences %l %br then do with result %cmdRing"><block s="reportNewList"><list><block var="sentence"/></list></block><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block s="reportListItem"><l>1</l><block var="list of features list"/></block></block></script><list><l>list of features list</l></list></block></custom-block><block s="doWaitUntil"><block var="result"/></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="features of word %&apos;word&apos; in language %&apos;language&apos;" type="reporter" category="variables"><comment x="0" y="0" w="343.5714285714286" collapsed="false">Reports a list of 300 numbers that &quot;describes&quot; the word. You can choose among 15 languages or leave it blank and use the default language. &#xD;To learn about these numbers see https://en.wikipedia.org/wiki/Word_embedding</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>word_to_features</l><list><block var="word"/><block var="language"/></list></custom-block></block></script></block-definition><block-definition s="load tensorflow" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>loaded</l></list></block><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>load_tensorflow</l><list><block s="reifyScript"><script><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><list></list></block></list></custom-block><block s="doWaitUntil"><block var="loaded"/></block></script></block-definition><block-definition s="$flash sort %&apos;data&apos; ordering with %&apos;function&apos;" type="reporter" category="lists"><comment x="0" y="0" w="161.14285714285708" collapsed="false">Reports a sorted version of the list in its first input slot, using the comparison function in the second input slot.  For a list of numbers, using &lt; as the comparison function will sort from low to high; using &gt; will sort from high to low.</comment><header></header><code></code><translations>ca:ordena _ segons criteri _&#xD;</translations><inputs><input type="%l"></input><input type="%predRing"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>data</l><l>fn</l><l>proc</l></list><l>return proc.reportAtomicSort(data, fn);</l></block><list><block var="data"/><block var="function"/></list></block></block></script><scripts><script x="11.999999999999998" y="147.55555555555557"><block s="doDeclareVariables"><list><l>even items</l><l>odd items</l><l>merge</l><l>split</l><l>copy of data</l><l>id</l></list></block><block s="doSetVar"><l>id</l><block s="reifyScript"><script><block s="doReport"><l></l></block></script><list></list></block></block><block s="doSetVar"><l>copy of data</l><block s="reportMap"><block var="id"/><block var="data"/></block></block><block s="doSetVar"><l>split</l><block s="reifyScript"><script><block s="doSetVar"><l>even items</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>odd items</l><block s="reportNewList"><list></list></block></block><block s="doUntil"><block s="reportListIsEmpty"><block var="copy of data"/></block><script><block s="doAddToList"><block s="reportListItem"><l>1</l><block var="copy of data"/></block><block var="odd items"/></block><block s="doDeleteFromList"><l>1</l><block var="copy of data"/></block><block s="doIf"><block s="reportNot"><block s="reportListIsEmpty"><block var="copy of data"/></block></block><script><block s="doAddToList"><block s="reportListItem"><l>1</l><block var="copy of data"/></block><block var="even items"/></block><block s="doDeleteFromList"><l>1</l><block var="copy of data"/></block></script></block></script></block></script><list></list></block></block><block s="doSetVar"><l>merge</l><block s="reifyScript"><script><block s="doIf"><block s="reportEquals"><block var="#1"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block var="#2"/></block></script></block><block s="doIf"><block s="reportEquals"><block var="#2"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block var="#1"/></block></script></block><block s="doIfElse"><block s="evaluate"><block var="function"/><list><block s="reportListItem"><l>1</l><block var="#1"/></block><block s="reportListItem"><l>1</l><block var="#2"/></block></list></block><script><block s="doReport"><block s="reportCONS"><block s="reportListItem"><l>1</l><block var="#1"/></block><block s="evaluate"><block var="merge"/><list><block s="reportCDR"><block var="#1"/></block><block var="#2"/></list></block></block></block></script><script><block s="doReport"><block s="reportCONS"><block s="reportListItem"><l>1</l><block var="#2"/></block><block s="evaluate"><block var="merge"/><list><block var="#1"/><block s="reportCDR"><block var="#2"/></block></list></block></block></block></script></block></script><list><l>#1</l><l>#2</l></list></block></block><block s="doIf"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block s="reportCDR"><block var="data"/></block><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block var="data"/></block></script></block><block s="doRun"><block var="split"/><list></list></block><block s="doReport"><block s="evaluate"><block var="merge"/><list><custom-block s="$flash sort %l ordering with %predRing"><block var="odd items"/><block var="function"/></custom-block><custom-block s="$flash sort %l ordering with %predRing"><block var="even items"/><block var="function"/></custom-block></list></block></block></script></scripts></block-definition><block-definition s="find %&apos;key&apos; in %&apos;table&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input></inputs><script><block s="doReport"><block s="reportListItem"><l>2</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block s="reportListItem"><l>1</l><l/></block><block var="key"/></block></autolambda><list></list></block><block var="table"/></block></block></block></script></block-definition><block-definition s="load eCraft2Learn" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/ecraft2learn.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://ecraft2learn.github.io/ai/js/ecraft2learn_snap_extension.js</l></list></block></script></block-definition><block-definition s="call eCraft2Learn reporter %&apos;reporter name&apos; with %&apos;inputs&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><custom-block s="load eCraft2Learn"></custom-block><block s="doReport"><block s="reportApplyExtension"><l>e2l_call(reporter_name, parameters)</l><list><block var="reporter name"/><block var="inputs"/></list></block></block></script></block-definition><block-definition s="run eCraft2Learn command %&apos;command name&apos; with %&apos;inputs&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><custom-block s="load eCraft2Learn"></custom-block><block s="doApplyExtension"><l>e2l_run(command_name, parameters)</l><list><block var="command name"/><block var="inputs"/></list></block></script></block-definition><block-definition s="Load eCraft2Learn library" type="command" category="other"><comment x="0" y="0" w="238.57142857142858" collapsed="false">No longer needed in Snap! 7+ but retained to avoid error from blocks that expect it.</comment><header></header><code></code><translations></translations><inputs></inputs></block-definition></blocks><stage width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="true" hyperops="true" codify="false" inheritance="true" sublistIDs="false" id="510"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAAAXNSR0IArs4c6QAADoVJREFUeF7t1cEJAAAIxDDdf2m3sJ+4wEEQuuMIECBAgACBd4F9XzRIgAABAgQIjAB7AgIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECByxcQFpoRMBzwAAAABJRU5ErkJggg==</pentrails><costumes><list struct="atomic" id="511"></list></costumes><sounds><list struct="atomic" id="512"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="Sprite" idx="1" x="0" y="-0.3243243243243243" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="517"><costumes><list struct="atomic" id="518"></list></costumes><sounds><list struct="atomic" id="519"></list></sounds><blocks></blocks><variables></variables><scripts><comment x="36.42857142857145" y="9.285714285714205" w="328.5714285714286" collapsed="true">Finding out what word is closest to (king+(woman-man))</comment><script x="36.42857142857145" y="35.42857142857031"><custom-block s="let %upvar be %s"><l>female essence</l><block s="reportDifference"><custom-block s="features of word %txt in language %txt"><l>woman</l><l>English</l></custom-block><custom-block s="features of word %txt in language %txt"><l>man</l><l>English</l></custom-block></block></custom-block><block s="doReport"><custom-block s="closest word to %l %br in language %txt %br not including %l"><block s="reportSum"><custom-block s="features of word %txt in language %txt"><l>king</l><l>English</l></custom-block><block var="female essence"/></block><l>English</l><block s="reportNewList"><list><l>king</l></list></block></custom-block></block></script><script x="397" y="7.142857142857143"><custom-block s="Open this in a new tab"></custom-block></script><comment x="27.714285714285722" y="177.28571428571425" w="328.5714285714286" collapsed="true">Is the same as (woman+(king-man))</comment><script x="39.14285714285713" y="220.14285714285614"><custom-block s="let %upvar be %s"><l>royalty essence</l><block s="reportDifference"><custom-block s="features of word %txt in language %txt"><l>king</l><l>English</l></custom-block><custom-block s="features of word %txt in language %txt"><l>man</l><l>English</l></custom-block></block></custom-block><block s="doReport"><custom-block s="closest word to %l %br in language %txt %br not including %l"><block s="reportSum"><custom-block s="features of word %txt in language %txt"><l>woman</l><l>English</l></custom-block><block var="royalty essence"/></block><l>English</l><block s="reportNewList"><list><l>king</l></list></block></custom-block></block></script><script x="40.714285714285715" y="465.5476190476184"><custom-block s="let %upvar be %s"><l>king</l><custom-block s="features of sentence %txt"><l>king</l></custom-block></custom-block><custom-block s="let %upvar be %s"><l>man</l><custom-block s="features of sentence %txt"><l>man</l></custom-block></custom-block><custom-block s="let %upvar be %s"><l>woman</l><custom-block s="features of sentence %txt"><l>woman</l></custom-block></custom-block><custom-block s="let %upvar be %s"><l>king-man</l><custom-block s="cosine similarity %l %l JavaScript version"><block var="king"/><block var="man"/></custom-block></custom-block><block s="doSetVar"><l>distances</l><block s="reportNewList"><list></list></block></block><custom-block s="for each %upvar of %l %cs"><l>word</l><custom-block s="all words in language %txt with features"><l></l></custom-block><script><block s="doAddToList"><block s="reportNewList"><list><block var="word"/><block s="reportDifference"><block var="king-man"/><custom-block s="cosine similarity %l %l JavaScript version"><custom-block s="find %txt in %l"><block var="word"/><block var="word features"/></custom-block><block var="woman"/></custom-block></block></list></block><block var="distances"/></block></script></custom-block><block s="doSetVar"><l>distances</l><custom-block s="$flash sort %l ordering with %predRing"><block var="distances"/><block s="reifyPredicate"><autolambda><block s="reportLessThan"><block s="reportListItem"><l>2</l><l/></block><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block></custom-block></block></script><script x="42.142857142857146" y="894.0476190476168"><block s="doSetVar"><l>word features</l><block s="reportNewList"><list></list></block></block><custom-block s="for each %upvar of %l %cs"><l>word</l><custom-block s="all words in language %txt with features"><l></l></custom-block><script><block s="doAddToList"><block s="reportNewList"><list><block var="word"/><custom-block s="features of sentence %txt"><block var="word"/></custom-block></list></block><block var="word features"/></block></script></custom-block></script><script x="605.0516183035714" y="859.1904761904747"><custom-block s="features of sentence %txt"><l></l></custom-block></script><script x="345.7142857142857" y="447.2380952380929"><custom-block s="find %txt in %l"><l>queen</l><block var="distances"/></custom-block></script><script x="541.2857142857143" y="818.7619047619033"><custom-block s="Euclidean distance between %l and %l using JavaScript"><l/><l/></custom-block></script><script x="517.8571428571429" y="461.5714285714262"><custom-block s="for each %upvar of %l %cs"><l>item</l><block var="distances"/><script><block s="doAddToList"><block s="reportMonadic"><l><option>acos</option></l><block s="reportListItem"><l>2</l><l/></block></block><block var="item"/></block></script></custom-block></script><script x="217.42857142857142" y="991.9523809523786"><block s="doSetVar"><l>distances</l><custom-block s="$flash sort %l ordering with %predRing"><block var="distances"/><block s="reifyPredicate"><autolambda><block s="reportLessThan"><block s="reportListItem"><l>3</l><l/></block><block s="reportListItem"><l>3</l><l/></block></block></autolambda><list></list></block></custom-block></block></script><script x="46.510184151785715" y="1059.5238095238071"><block s="reportListItem"><block s="reportNumbers"><l>1</l><l>20000</l></block><block var="distances"/></block></script><script x="569.9567522321429" y="715.4047619047606"><block s="reportListItem"><block s="reportNumbers"><l>1</l><l>20000</l></block><l/></block></script><script x="574.0503627232143" y="600.3809523809496"><block var="king-man"/></script><script x="578.4789341517858" y="630.2380952380925"><custom-block s="find %txt in %l"><block var="word"/><block var="word features"/></custom-block></script><script x="567.7646484375" y="667.5238095238067"><block s="reportDifference"><l></l><block var="woman"/></block></script><script x="128.57142857142858" y="1094.7380952380915"><block s="reportListIndex"><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportEquals"><block s="reportListItem"><l>1</l><l/></block><l>queen</l></block></autolambda><list></list></block><block var="distances"/></block><block var="distances"/></block></script><script x="555.7142857142858" y="327.0952380952381"><block s="doSetVar"><l>distances</l><l>0</l></block><block s="doSetVar"><l>word features</l><l>0</l></block></script><comment x="512.8571428571429" y="49.76190476190476" w="303.5714285714286" collapsed="false">Euclidean distance seems to work better than cosine similarity.</comment><comment x="512.1428571428572" y="116.90476190476188" w="270.7142857142857" collapsed="false">Might want to explore an &quot;app&quot; where you present an analogy problem and a few multiple choice answers.</comment></scripts></sprite><watcher var="distances" style="normal" x="15.416666666666742" y="15.416666666666671" color="243,118,29"/><watcher var="word features" style="normal" x="15.416666666666742" y="172.35833641666667" color="243,118,29" hidden="true"/></sprites></stage><variables><variable name="distances"><l>0</l></variable><variable name="word features"><l>0</l></variable></variables></scene></scenes></project>