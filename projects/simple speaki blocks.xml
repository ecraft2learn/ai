<blocks app="Snap! 4.1, http://snap.berkeley.edu" version="1"><block-definition s="Speak %&apos;message&apos; then %&apos;to do when finished speaking&apos;" type="command" category="sound"><header></header><code></code><inputs><input type="%txt"></input><input type="%cmdRing"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>speak_using_browser_voices_or_mary_tts</l><list><block var="message"/><block var="to do when finished speaking"/></list></custom-block></script></block-definition><block-definition s="Speak %&apos;message&apos;" type="command" category="sound"><comment w="331" collapsed="false">Use the browser&apos;s default voice or Mary TTS to speak the &apos;message&apos;.</comment><header></header><code></code><inputs><input type="%txt"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>speak_using_browser_voices_or_mary_tts</l><list><block var="message"/><l></l></list></custom-block></script></block-definition><block-definition s="Speak with random voice %&apos;message&apos; then %&apos;do when finished&apos;" type="command" category="sound"><header></header><code></code><inputs><input type="%txt"></input><input type="%cmdRing"></input></inputs><script><block s="doDeclareVariables"><list><l>voice</l></list></block><block s="doIfElse"><block s="reportGreaterThan"><block s="reportListLength"><custom-block s="Get voice names"></custom-block></block><l>0</l></block><script><block s="doSetVar"><l>voice</l><block s="reportRandom"><l>1</l><block s="reportListLength"><custom-block s="Get voice names"></custom-block></block></block></block><block s="bubble"><block s="reportJoinWords"><list><l>I saying "</l><block var="message"/><l>" using </l><custom-block s="voice name of %n"><block var="voice"/></custom-block><l> with </l><block var="pitch"/><l>% pitch at </l><block var="rate"/><l>% rate.</l></list></block></block><custom-block s="speak %s then %cmdRing with pitch %n with rate %n with voice %n with volume %n in language %txt"><block var="message"/><block var="do when finished"/><l></l><l></l><block var="voice"/><l></l><l></l></custom-block></script><script><block s="doSetVar"><l>voice</l><block s="reportRandom"><l>1</l><block s="reportListLength"><custom-block s="Get Mary TTS voices"></custom-block></block></block></block><block s="bubble"><block s="reportJoinWords"><list><l>I saying "</l><block var="message"/><l>" using </l><custom-block s="Get Mary TTS voice name %n"><block var="voice"/></custom-block></list></block></block><custom-block s="Speak (using Mary TTS) %txt with voice %n at %n volume then %cmdRing"><block var="message"/><block var="voice"/><l>1</l><block var="do when finished"/></custom-block></script></block></script></block-definition></blocks>