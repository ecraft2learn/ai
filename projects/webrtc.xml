<project name="webrtc" app="Snap! 5.1, http://snap.berkeley.edu" version="1"><notes></notes><thumbnail>data:image/png;base64,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</thumbnail><stage name="Stage" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" volume="100" pan="0" lines="round" ternary="false" codify="false" inheritance="true" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAOhUlEQVR4Xu3VwQkAAAjEMN1/abewn7jAQRC64wgQIECAAIF3gX1fNEiAAAECBAiMAHsCAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQIHLFxAWmhEwHPAAAAAElFTkSuQmCC</pentrails><costumes><list struct="atomic" id="2"></list></costumes><sounds><list struct="atomic" id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><sprite name="Sprite" idx="1" x="0" y="0" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="8"><costumes><list struct="atomic" id="9"></list></costumes><sounds><list struct="atomic" id="10"></list></sounds><blocks></blocks><variables></variables><scripts><script x="72" y="52"><custom-block s="Start collaboration"><comment w="205" collapsed="true">One partner starts by clicking this.</comment></custom-block></script><script x="76" y="113"><custom-block s="Accept collaboration"><comment w="309" collapsed="true">The other partner clicks this and waits for an invitation key.</comment></custom-block></script><script x="70" y="184"><custom-block s="Send message %s %br but if error %cmdRing"><block s="reportNewList"><list><l>a</l><l>b</l></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block><comment w="237" collapsed="true">After connection is made try sending data..</comment></custom-block></script><script x="70" y="270"><custom-block s="When I receive a message %cmdRing"><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><comment w="262" collapsed="true">Here&apos;s what is done for each message received.</comment></custom-block></script></scripts></sprite><watcher var="connection key 1" style="normal" x="10" y="10" color="243,118,29"/><watcher var="connection key 2" style="normal" x="10" y="31.000001999999995" color="243,118,29"/><sprite name="Advanced" idx="2" x="0" y="0" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="215.832,234.60000000000002,0,1" pen="tip" id="42"><costumes><list struct="atomic" id="43"></list></costumes><sounds><list struct="atomic" id="44"></list></sounds><blocks></blocks><variables></variables><scripts><script x="29" y="25"><custom-block s="Start a new connection then %cmdRing %br but if error %cmdRing"><block s="reifyScript"><script><block s="doSetVar"><l>connection key 1</l><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><script x="32" y="126"><custom-block s="Accept this connection offer: %txt then %cmdRing %br but if error %cmdRing"><l></l><block s="reifyScript"><script><block s="doSetVar"><l>connection key 2</l><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><script x="35" y="225"><custom-block s="Accept this answer: %txt to my connection offer then %cs but if error %cmdRing"><l></l><script><block s="bubble"><l>Communication established. Ready to send messages.</l></block></script><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><script x="36" y="354"><custom-block s="When I receive a message %cmdRing"><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><script x="38" y="435"><block s="receiveKey"><l><option>space</option></l><comment w="148" collapsed="false">Just a convenient way to reset the project before exporting it..</comment></block><block s="doSetVar"><l>connection key 1</l><l>Created by running the &apos;Start a new connection&apos; block</l></block><block s="doSetVar"><l>connection key 2</l><l>Created by running the &apos;Accept connection offer&apos; block</l></block></script></scripts></sprite></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Load Web Real-Time Communication then %&apos;then do&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%cs"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>callback</l></list><l>if (typeof webrtc === &apos;undefined&apos;) {&#xD;     if (typeof ecraft2learn === &apos;undefined&apos;) {&#xD;         window.invoke_callback = (snap_callback) =&gt; {&#xD;console.log("debug");&#xD;             if (!(callback.expression instanceof CommandBlockMorph ||&#xD;                   callback.expression instanceof ReporterBlockMorph)) {&#xD;                 return;&#xD;             }&#xD;             const stage = world.children[0].stage; // this.parentThatIsA(StageMorph);&#xD;             const process = new Process(null, snap_callback.receiver, null, true);&#xD;             // callback.emptySlots+1 is in case callback is passed more arguments than callback has empty slots&#xD;             const parameters = callback.emptySlots &gt; 0 ?&#xD;                                Array.prototype.slice.call(arguments, 1, snap_callback.emptySlots+1) :&#xD;                                Array.prototype.slice.call(arguments, 1);&#xD;             process.initializeFor(snap_callback, new List(parameters));&#xD;             stage.threads.processes.push(process);&#xD;         };&#xD;     } else {&#xD;         window.invoke_callback = ecraft2learn.invoke_callback;&#xD;     }&#xD;     const script = document.createElement(&apos;script&apos;);&#xD;     script.onload = (event) =&gt; {&#xD;         invoke_callback(callback);&#xD;     };&#xD;     script.src = "/ai/js/webrtc.js";&#xD;     document.body.appendChild(script);&#xD;} else {&#xD;    invoke_callback(callback)&#xD;}&#xD;</l></block><list><block var="then do"/></list></block></script></block-definition><block-definition s="Start a new connection then %&apos;get connection key&apos; $nl but if error %&apos;handle error&apos;" type="command" category="other"><comment w="271" collapsed="false">&apos;get connection key&apos; will be run with a connection key that needs to be sent to the partner who should run &apos;Accept this communication offer.</comment><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>success</l><l>error</l></list><l>webrtc.create_connection_offer(success, error);</l></block><list><block var="get connection key"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="Accept this connection offer: %&apos;connection key&apos; then %&apos;get response key&apos; $nl but if error %&apos;handle error&apos;" type="command" category="other"><comment w="250.00000099999988" collapsed="false">After receiving a key from a partner that ran &apos;Start a new connection&apos; paste it here. Then send the partner the key passed to &apos;get response key&apos;..</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>connection_key</l><l>success</l><l>error</l></list><l>webrtc.accept_connection_offer(connection_key, success, error);</l></block><list><block var="connection key"/><block var="get response key"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="Accept this answer: %&apos;connection answer key&apos; to my connection offer then %&apos;then do&apos; but if error %&apos;handle error&apos;" type="command" category="other"><comment w="264" collapsed="false">After receiving a key from the partner you sent an invitation key paste it as the &apos;connection answer key&apos; and you should be connected.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cs"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>connection_key</l><l>success</l><l>error</l></list><l>webrtc.accept_answer(connection_key, success, error);</l></block><list><block var="connection answer key"/><block var="then do"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="Send message %&apos;message&apos; $nl but if error %&apos;handle error&apos;" type="command" category="other"><comment w="193.00000099999988" collapsed="false">After a connection has been made you can send data to your partner..</comment><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>message</l><l>error</l></list><l>webrtc.send_data(typeof message === &apos;string&apos; ? message : message.asJSON(), error);</l></block><list><block var="message"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="When I receive a message %&apos;get message&apos;" type="command" category="other"><comment w="259" collapsed="false">The &apos;get message&apos; command will receive every message received from your partner..</comment><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>message_handler</l></list><l>webrtc.on_message(message_handler);</l></block><list><block var="get message"/></list></block></script></custom-block></script></block-definition><block-definition s="Start collaboration" type="command" category="other"><comment w="222" collapsed="false">Creates an invitation to collaborate that you need to send to your partner to communicate.</comment><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Start a new connection then %cmdRing %br but if error %cmdRing"><block s="reifyScript"><script><block s="doSetVar"><l>connection key 1</l><l></l></block><block s="doAsk"><l>Export your &apos;connection key 1&apos; and send it to your partner. When you get a response paste it here:</l></block><custom-block s="Accept this answer: %txt to my connection offer then %cs but if error %cmdRing"><block s="getLastAnswer"></block><script><block s="bubble"><l>Communication established. Ready to send messages.</l></block><custom-block s="When I receive a message %cmdRing"><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block><custom-block s="Send message %s %br but if error %cmdRing"><l>We are connected now!</l><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script></block-definition><block-definition s="Accept collaboration" type="command" category="other"><comment w="548" collapsed="false">After your partner has sent you a connection offer paste it here and then send back the response.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doAsk"><l>When your partner sends you a key, copy and paste it here:</l></block><custom-block s="Accept this connection offer: %txt then %cmdRing %br but if error %cmdRing"><l>PASTE WHAT YOUR PARTNER SENT YOU HERE</l><block s="reifyScript"><script><block s="doSetVar"><l>connection key 2</l><block s="getLastAnswer"></block></block><block s="bubble"><l>And now export &apos;connection key 2&apos; and send it to your partner.</l></block><custom-block s="When I receive a message %cmdRing"><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script></block-definition></blocks><variables><variable name="connection key 1"><l>Created by running the &apos;Start a new connection&apos; block</l></variable><variable name="connection key 2"><l>Created by running the &apos;Accept connection offer&apos; block</l></variable></variables></project>