<project name="webrtc" app="Snap! 5.1, http://snap.berkeley.edu" version="1"><notes></notes><thumbnail>data:image/png;base64,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q+hjLhrr4ZmGfMhXeUfBNN+8refh3vdv/o0Eu7HYtw7sRrBObgPzmC8BDxOrq+8GiUriK5SvV/irVk2fXKhvqQ/b7B4wv7iSr9L2hUNgem4RKhYNgz7+9QAB2StQ5T5dh2F+AZngle0f45B8fl0uF5DNvUoRUtmGqem/eriefOxRu3//fv5tyZWONznOo+mGUb/p3YSCbk4CV/xzrKVLl6JOnTr+/l/l1K/nu+DqvvtlOW80n1ajwcO3/AyD6+ebky7NSkiA/iBViIgCZBIgAWXSpdxCAiSgEBEFyCRAAsqkS7mFBEhAISIKkEmABJRJl3ILCZCAQkQUIJMACSiTLuUWEiABhYgoQCYBElAmXcotJEACChFRgEwCJKBMupRbSIAEFCKiAJkESECZdCm3kAAJKEREATIJkIAy6VJuIQESUIiIAmQSIAFl0qXcQgIkoBARBcgkQALKpEu5hQRIQCEiCpBJgASUSZdyCwmQgEJEFCCTAAkoky7lFhIgAYWIKEAmARJQJl3KLSRAAgoRUYBMAiSgTLqUW0iABBQiogCZBEhAmXQpt5AACShERAEyCZCAMulSbiEBElCIiAJkEiABZdKl3EICJKAQEQXIJEACyqRLuYUESEAhIgqQSYAElEmXcgsJkIBCRBQgkwAJKJMu5RYSIAGFiChAJgESUCZdyi0kQAIKEVGATAIkoEy6lFtIgAQUIqIAmQRIQJl0KbeQAAkoREQBMgmQgDLpUm4hARJQiIgCZBIgAWXSpdxCAiSgEBEFyCRAAsqkS7mFBEhAISIKkEmABJRJl3ILCZCAQkQUIJMACSiTLuUWEiABhYgoQCYBElAmXcotJEACChFRgEwCJKBMupRbSIAEFCKiAJkESECZdCm3kAAJKEREATIJkIAy6VJuIQESUIiIAmQSIAFl0qXcQgIkoBARBcgkQALKpEu5hQRIwGoQKYrC96hUKiFECrh+AiTgVdglJibi1KlTSE+fhIceaoWGDRteP2k68ooESECBGN27dw+IYEKuXr0adevWhVqtJq1ukAAJKABos1nQt2/SFaM0Gg3OnDmDwsLCG7wMf97DScCrXPvi4mI8++yziIiICIg6fvw4srOzERsb++c1p4bOnAS8ShHSs2dPsGLE7XYjKioKKSkpVJTUkHiVaUjAqwBl8lEVXMPG/SodCSiXL2UXECABSZGgEiABg4qfBicByYGgEiABg4qfBicByYGgEiABg4qfBicByYGgEiABg4qfBicByYGgEiABg4qfBicByYGgEiABg4qfBicByYGgEiABg4qfBicByYGgEiABg4qfBicByYGgEiABg4qfBicByYGgEiABg4qfBicByYGgEiABg4qfBicByYGgEiABg4qfBicByYGgEvg/TD7207fDVWsAAAAASUVORK5CYII=</thumbnail><stage name="Stage" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" volume="100" pan="0" lines="round" ternary="false" codify="false" inheritance="true" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAOhUlEQVR4Xu3VwQkAAAjEMN1/abewn7jAQRC64wgQIECAAIF3gX1fNEiAAAECBAiMAHsCAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQIHLFxAWmhEwHPAAAAAElFTkSuQmCC</pentrails><costumes><list struct="atomic" id="2"></list></costumes><sounds><list struct="atomic" id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><watcher var="connection key 1" style="normal" x="10" y="10" color="243,118,29"/><watcher var="connection key 2" style="normal" x="10" y="31.000001999999995" color="243,118,29"/><sprite name="Advanced" idx="2" x="1" y="-91" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="215.832,234.60000000000002,0,1" pen="tip" id="10"><costumes><list struct="atomic" id="11"></list></costumes><sounds><list struct="atomic" id="12"></list></sounds><blocks></blocks><variables></variables><scripts><script x="28.999999999999996" y="25"><custom-block s="Start a new connection then %cmdRing %br but if error %cmdRing"><block s="reifyScript"><script><block s="doSetVar"><l>connection key 1</l><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><script x="32" y="125.99999999999999"><custom-block s="Accept this connection offer: %txt then %cmdRing %br but if error %cmdRing"><l></l><block s="reifyScript"><script><block s="doSetVar"><l>connection key 2</l><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><script x="35" y="225.00000000000003"><custom-block s="Accept this answer: %txt to my connection offer then %cs but if error %cmdRing"><l></l><script><block s="bubble"><l>Communication established. Ready to send messages.</l></block></script><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><script x="36" y="354"><custom-block s="When I receive a message %cmdRing"><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><script x="38" y="435"><block s="receiveKey"><l><option>space</option></l><comment w="148" collapsed="false">Just a convenient way to reset the project before exporting it..</comment></block><block s="doSetVar"><l>connection key 1</l><l>Created by running the &apos;Start a new connection&apos; block</l></block><block s="doSetVar"><l>connection key 2</l><l>Created by running the &apos;Accept connection offer&apos; block</l></block></script></scripts></sprite><sprite name="Sprite" idx="1" x="2" y="-92" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="84"><costumes><list struct="atomic" id="85"></list></costumes><sounds><list struct="atomic" id="86"></list></sounds><blocks></blocks><variables></variables><scripts><script x="72.00000000000001" y="52.000000000000014"><custom-block s="Start collaboration"><comment w="205" collapsed="true">One partner starts by clicking this.</comment></custom-block></script><script x="75.99999999999999" y="113"><custom-block s="Accept collaboration"><comment w="309" collapsed="true">The other partner clicks this and waits for an invitation key.</comment></custom-block></script><script x="70" y="184"><custom-block s="Send message %s %br but if error %cmdRing"><block s="reportNewList"><list><l>a</l><l>b</l></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block><comment w="236.99999999999997" collapsed="true">After connection is made try sending data..</comment></custom-block></script><script x="70" y="270"><custom-block s="When I receive a message %cmdRing"><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block><comment w="262" collapsed="true">Here&apos;s what is done for each message received.</comment></custom-block></script></scripts></sprite></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Load Web Real-Time Communication then %&apos;then do&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%cs"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>callback</l></list><l>if (typeof webrtc === &apos;undefined&apos;) {&#xD;     if (typeof ecraft2learn === &apos;undefined&apos;) {&#xD;         window.invoke_callback = (snap_callback) =&gt; {&#xD;console.log("debug");&#xD;             if (!(callback.expression instanceof CommandBlockMorph ||&#xD;                   callback.expression instanceof ReporterBlockMorph)) {&#xD;                 return;&#xD;             }&#xD;             const stage = world.children[0].stage; // this.parentThatIsA(StageMorph);&#xD;             const process = new Process(null, snap_callback.receiver, null, true);&#xD;             // callback.emptySlots+1 is in case callback is passed more arguments than callback has empty slots&#xD;             const parameters = callback.emptySlots &gt; 0 ?&#xD;                                Array.prototype.slice.call(arguments, 1, snap_callback.emptySlots+1) :&#xD;                                Array.prototype.slice.call(arguments, 1);&#xD;             process.initializeFor(snap_callback, new List(parameters));&#xD;             stage.threads.processes.push(process);&#xD;         };&#xD;     } else {&#xD;         window.invoke_callback = ecraft2learn.invoke_callback;&#xD;     }&#xD;     const script = document.createElement(&apos;script&apos;);&#xD;     script.onload = (event) =&gt; {&#xD;         invoke_callback(callback);&#xD;     };&#xD;     script.src = "/ai/js/webrtc.js";&#xD;     document.body.appendChild(script);&#xD;} else {&#xD;    invoke_callback(callback)&#xD;}&#xD;</l></block><list><block var="then do"/></list></block></script></block-definition><block-definition s="Start a new connection then %&apos;get connection key&apos; $nl but if error %&apos;handle error&apos;" type="command" category="other"><comment x="0" y="0" w="271" collapsed="false">&apos;get connection key&apos; will be run with a connection key that needs to be sent to the partner who should run &apos;Accept this communication offer.</comment><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>success</l><l>error</l></list><l>webrtc.create_connection_offer(success, error);</l></block><list><block var="get connection key"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="Accept this connection offer: %&apos;connection key&apos; then %&apos;get response key&apos; $nl but if error %&apos;handle error&apos;" type="command" category="other"><comment x="0" y="0" w="250.00000099999988" collapsed="false">After receiving a key from a partner that ran &apos;Start a new connection&apos; paste it here. Then send the partner the key passed to &apos;get response key&apos;..</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>connection_key</l><l>success</l><l>error</l></list><l>webrtc.accept_connection_offer(connection_key, success, error);</l></block><list><block var="connection key"/><block var="get response key"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="Accept this answer: %&apos;connection answer key&apos; to my connection offer then %&apos;then do&apos; but if error %&apos;handle error&apos;" type="command" category="other"><comment x="0" y="0" w="264" collapsed="false">After receiving a key from the partner you sent an invitation key paste it as the &apos;connection answer key&apos; and you should be connected.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cs"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>connection_key</l><l>success</l><l>error</l></list><l>webrtc.accept_answer(connection_key, success, error);</l></block><list><block var="connection answer key"/><block var="then do"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="Send message %&apos;message&apos; $nl but if error %&apos;handle error&apos;" type="command" category="other"><comment x="0" y="0" w="193.00000099999986" collapsed="false">After a connection has been made you can send data to your partner..</comment><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>message</l><l>error</l></list><l>webrtc.send_data(typeof message === &apos;string&apos; ? message : message.asJSON(), error);</l></block><list><block var="message"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="When I receive a message %&apos;get message&apos;" type="command" category="other"><comment x="0" y="0" w="259" collapsed="false">The &apos;get message&apos; command will receive every message received from your partner..</comment><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>message_handler</l></list><l>webrtc.on_message(message_handler);</l></block><list><block var="get message"/></list></block></script></custom-block></script></block-definition><block-definition s="Start collaboration" type="command" category="other"><comment x="0" y="0" w="221.99999999999997" collapsed="false">Creates an invitation to collaborate that you need to send to your partner to communicate.</comment><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="Start a new connection then %cmdRing %br but if error %cmdRing"><block s="reifyScript"><script><block s="doSetVar"><l>connection key 1</l><l></l></block><block s="doAsk"><l>Export your &apos;connection key 1&apos; and send it to your partner. When you get a response paste it here:</l></block><custom-block s="Accept this answer: %txt to my connection offer then %cs but if error %cmdRing"><block s="getLastAnswer"></block><script><block s="bubble"><l>Communication established. Ready to send messages.</l></block><custom-block s="When I receive a message %cmdRing"><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block><custom-block s="Send message %s %br but if error %cmdRing"><l>We are connected now!</l><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script></block-definition><block-definition s="Accept collaboration" type="command" category="other"><comment w="548" collapsed="false">After your partner has sent you a connection offer paste it here and then send back the response.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doAsk"><l>When your partner sends you a key, copy and paste it here:</l></block><custom-block s="Accept this connection offer: %txt then %cmdRing %br but if error %cmdRing"><block s="getLastAnswer"></block><block s="reifyScript"><script><block s="doSetVar"><l>connection key 2</l><l></l></block><block s="bubble"><l>And now export &apos;connection key 2&apos; and send it to your partner.</l></block><custom-block s="When I receive a message %cmdRing"><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script></block-definition></blocks><variables><variable name="connection key 1"><l>Created by running the &apos;Start a new connection&apos; block</l></variable><variable name="connection key 2"><l>Created by running the &apos;Accept connection offer&apos; block</l></variable></variables></project>