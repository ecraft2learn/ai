<project name="webrtc" app="Snap! 5.1, http://snap.berkeley.edu" version="1"><notes></notes><thumbnail>data:image/png;base64,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</thumbnail><stage name="Stage" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" volume="100" pan="0" lines="round" ternary="false" codify="false" inheritance="true" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAOhUlEQVR4Xu3VwQkAAAjEMN1/abewn7jAQRC64wgQIECAAIF3gX1fNEiAAAECBAiMAHsCAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQIHLFxAWmhEwHPAAAAAElFTkSuQmCC</pentrails><costumes><list struct="atomic" id="2"></list></costumes><sounds><list struct="atomic" id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><sprite name="Sprite" idx="1" x="0" y="0" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="8"><costumes><list struct="atomic" id="9"></list></costumes><sounds><list struct="atomic" id="10"></list></sounds><blocks></blocks><variables></variables><scripts><script x="38" y="53"><custom-block s="Start a new connection then %cmdRing but if error %cmdRing"><block s="reifyScript"><script><block s="doSetVar"><l>connection key 1</l><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><script x="40" y="150"><custom-block s="Accept this answer: %txt to my connection offer then %cs but if %cmdRing"><l></l><script><block s="bubble"><l>Communication established. Ready to send messages.</l></block></script><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><script x="625" y="52"><custom-block s="Accept connection this offer: %txt then %cmdRing but if error %cmdRing"><l></l><block s="reifyScript"><script><block s="doSetVar"><l>connection key 2</l><l></l></block></script><list></list></block><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script><script x="45" y="320"><custom-block s="When I receive a message %cmdRing"><block s="reifyScript"><script><block s="bubble"><l></l></block></script><list></list></block></custom-block></script><script x="386" y="484"><block s="receiveKey"><l><option>space</option></l></block><block s="doSetVar"><l>connection key 1</l><l>Created by running the &apos;Start a new connection&apos; block</l></block><block s="doSetVar"><l>connection key 2</l><l>Created by running the &apos;Accept connection offer&apos; block</l></block></script><script x="45" y="384"><custom-block s="Send message %s but if error %cmdRing"><l>Hello</l><block s="reifyScript"><script><block s="doThink"><l></l></block></script><list></list></block></custom-block></script></scripts></sprite><watcher var="connection key 1" style="normal" x="10" y="10" color="243,118,29"/><watcher var="connection key 2" style="normal" x="10" y="31.000001999999995" color="243,118,29"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Load Web Real-Time Communication then %&apos;then do&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%cs"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>callback</l></list><l>if (typeof webrtc === &apos;undefined&apos;) {&#xD;     if (typeof ecraft2learn === &apos;undefined&apos;) {&#xD;         window.invoke_callback = (snap_callback) =&gt; {&#xD;console.log("debug");&#xD;             if (!(callback.expression instanceof CommandBlockMorph ||&#xD;                   callback.expression instanceof ReporterBlockMorph)) {&#xD;                 return;&#xD;             }&#xD;             const stage = world.children[0].stage; // this.parentThatIsA(StageMorph);&#xD;             const process = new Process(null, snap_callback.receiver, null, true);&#xD;             // callback.emptySlots+1 is in case callback is passed more arguments than callback has empty slots&#xD;             const parameters = callback.emptySlots &gt; 0 ?&#xD;                                Array.prototype.slice.call(arguments, 1, snap_callback.emptySlots+1) :&#xD;                                Array.prototype.slice.call(arguments, 1);&#xD;             process.initializeFor(snap_callback, new List(parameters));&#xD;             stage.threads.processes.push(process);&#xD;         };&#xD;     } else {&#xD;         window.invoke_callback = ecraft2learn.invoke_callback;&#xD;     }&#xD;     const script = document.createElement(&apos;script&apos;);&#xD;     script.onload = (event) =&gt; {&#xD;         invoke_callback(callback);&#xD;     };&#xD;     script.src = "/ai/js/webrtc.js";&#xD;     document.body.appendChild(script);&#xD;} else {&#xD;    invoke_callback(callback)&#xD;}&#xD;</l></block><list><block var="then do"/></list></block></script></block-definition><block-definition s="Start a new connection then %&apos;get connection key&apos; but if error %&apos;handle error&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>success</l><l>error</l></list><l>webrtc.create_connection_offer(success, error);</l></block><list><block var="get connection key"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="Accept connection this offer: %&apos;connection key&apos; then %&apos;get response key&apos; but if error %&apos;handle error&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>connection_key</l><l>success</l><l>error</l></list><l>webrtc.accept_connection_offer(connection_key, success, error);</l></block><list><block var="connection key"/><block var="get response key"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="Accept this answer: %&apos;connection answer&apos; to my connection offer then %&apos;then do&apos; but if %&apos;handle error&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cs"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>connection_key</l><l>success</l><l>error</l></list><l>webrtc.accept_answer(connection_key, success, error);</l></block><list><block var="connection answer"/><block var="then do"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="Send message %&apos;message&apos; but if error %&apos;handle error&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>message</l><l>error</l></list><l>webrtc.send_data(message, error);</l></block><list><block var="message"/><block var="handle error"/></list></block></script></custom-block></script></block-definition><block-definition s="When I receive a message %&apos;get message&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input></inputs><script><custom-block s="Load Web Real-Time Communication then %cs"><script><block s="doRun"><block s="reportJSFunction"><list><l>message_handler</l></list><l>webrtc.on_message(message_handler);</l></block><list><block var="get message"/></list></block></script></custom-block></script></block-definition></blocks><variables><variable name="connection key 1"><l>Created by running the &apos;Start a new connection&apos; block</l></variable><variable name="connection key 2"><l>Created by running the &apos;Accept connection offer&apos; block</l></variable></variables></project>