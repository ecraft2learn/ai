<blocks app="Snap! 5.4, http://snap.berkeley.edu" version="1"><block-definition s="for %&apos;i&apos; = %&apos;start&apos; to %&apos;end&apos; %&apos;action&apos;" type="command" category="control"><header></header><code></code><translations>de:f√ºr _ = _ bis _ _&#xD;</translations><inputs><input type="%upvar"></input><input type="%n">1</input><input type="%n">10</input><input type="%cs"></input></inputs><script><block s="doDeclareVariables"><list><l>step</l><l>tester</l></list></block><block s="doIfElse"><block s="reportGreaterThan"><block var="start"/><block var="end"/></block><script><block s="doSetVar"><l>step</l><l>-1</l></block><block s="doSetVar"><l>tester</l><block s="reifyReporter"><autolambda><block s="reportLessThan"><block var="i"/><block var="end"/></block></autolambda><list></list></block></block></script><script><block s="doSetVar"><l>step</l><l>1</l></block><block s="doSetVar"><l>tester</l><block s="reifyReporter"><autolambda><block s="reportGreaterThan"><block var="i"/><block var="end"/></block></autolambda><list></list></block></block></script></block><block s="doSetVar"><l>i</l><block var="start"/></block><block s="doUntil"><block s="evaluate"><block var="tester"/><list></list></block><script><block s="doRun"><block var="action"/><list></list></block><block s="doChangeVar"><l>i</l><block var="step"/></block></script></block></script></block-definition><block-definition s="if %&apos;test&apos; then %&apos;true&apos; else %&apos;false&apos;" type="reporter" category="control"><header></header><code></code><translations>de:wenn _ dann _ sonst _&#xD;</translations><inputs><input type="%b"></input><input type="%anyUE"></input><input type="%anyUE"></input></inputs><script><block s="doIfElse"><block var="test"/><script><block s="doReport"><block s="evaluate"><block var="true"/><list></list></block></block></script><script><block s="doReport"><block s="evaluate"><block var="false"/><list></list></block></block></script></block></script></block-definition><block-definition s="set pen color to r: %&apos;r&apos; g: %&apos;g&apos; b: %&apos;b&apos;" type="command" category="pen"><header></header><code></code><translations></translations><inputs><input type="%n">255</input><input type="%n">0</input><input type="%n">0</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>r</l><l>g</l><l>b</l></list><l>this.setColor(new Color(r, g, b));</l></block><list><block var="r"/><block var="g"/><block var="b"/></list></block></script></block-definition><block-definition s="square of distance from features %&apos;features 1&apos; to %&apos;features 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="245.00000000000003" collapsed="false">Reports the square of the distance between the two locations. To see how this can be implemented in a slower but more elegant way see the &apos;distance from features ... to ...&apos; block.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>square of differences</l><l>difference</l></list></block><block s="doSetVar"><l>square of differences</l><l>0</l></block><custom-block s="for %upvar = %n to %n %cs"><l>i</l><l>1</l><block s="reportListLength"><block var="features 1"/></block><script><block s="doSetVar"><l>difference</l><block s="reportDifference"><block s="reportListItem"><block var="i"/><block var="features 1"/></block><block s="reportListItem"><block var="i"/><block var="features 2"/></block></block></block><block s="doChangeVar"><l>square of differences</l><block s="reportProduct"><block var="difference"/><block var="difference"/></block></block></script></custom-block><block s="doReport"><block var="square of differences"/></block></script></block-definition><block-definition s="magnitude of %&apos;features&apos;" type="reporter" category="variables"><comment x="0" y="0" w="323" collapsed="false">Reports distance to the center of the space. See https://en.wikipedia.org/wiki/Norm_(mathematics)#Euclidean_norm</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportMonadic"><l><option>sqrt</option></l><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportProduct"><l></l><l></l></block></autolambda><list></list></block><block var="features"/></block></custom-block></block></block></script></block-definition><block-definition s="slow dot product %&apos;list 1&apos; %&apos;list 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="215" collapsed="false">See https://en.wikipedia.org/wiki/Dot_product&#xD;Use the &apos;dot product&apos; block if this is too slow.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block><custom-block s="map %repRing on each element of %l and %l"><block s="reifyReporter"><autolambda><block s="reportProduct"><l></l><l></l></block></autolambda><list></list></block><block var="list 1"/><block var="list 2"/></custom-block></custom-block></block></script></block-definition><block-definition s="cosine similarity %&apos;list 1&apos; %&apos;list 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="213.28571428571422" collapsed="false">See https://en.wikipedia.org/wiki/Cosine_similarity&#xD;There is a faster JavaScript version of this.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doReport"><block s="reportQuotient"><custom-block s="dot product %l %l"><block var="list 1"/><block var="list 2"/></custom-block><block s="reportProduct"><custom-block s="magnitude of %l"><block var="list 1"/></custom-block><custom-block s="magnitude of %l"><block var="list 2"/></custom-block></block></block></block></script></block-definition><block-definition s="dot product %&apos;list 1&apos; %&apos;list 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="229.57142857142844" collapsed="false">Reports the sum of the product of corresponding elements of the lists. See &quot;slow dot product&quot; for a more elegant way of programming this.&#xD;See https://en.wikipedia.org/wiki/Dot_product </comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>dot product</l><l>length</l></list></block><block s="doSetVar"><l>dot product</l><l>0</l></block><block s="doSetVar"><l>length</l><block s="reportListLength"><block var="list 1"/></block></block><block s="doIfElse"><block s="reportEquals"><block var="length"/><block s="reportListLength"><block var="list 2"/></block></block><script><custom-block s="for %upvar = %n to %n %cs"><l>i</l><l>1</l><block var="length"/><script><block s="doChangeVar"><l>dot product</l><block s="reportProduct"><block s="reportListItem"><block var="i"/><block var="list 1"/></block><block s="reportListItem"><block var="i"/><block var="list 2"/></block></block></block></script></custom-block><block s="doReport"><block var="dot product"/></block></script><script><block s="doReport"><block s="reportJoinWords"><list><l>Can only compute dot product of lists of the same length. The first one is </l><block var="length"/><l> while the second is </l><block s="reportListLength"><block var="list 2"/></block><l> long.</l></list></block></block></script></block></script></block-definition><block-definition s="Snap! version of closest word to %&apos;target features&apos; except %&apos;exceptions&apos; and report progress %&apos;report progress&apos;" type="reporter" category="variables"><comment x="0" y="0" w="318.5714285714286" collapsed="false">See &quot;closest word to ...&quot; that is much much faster.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input><input type="%b"></input></inputs><script><block s="doDeclareVariables"><list><l>target magnitude</l><l>candidate features</l><l>best word</l><l>best distance</l><l>candidate distance</l><l>count</l></list></block><block s="doSetVar"><l>count</l><l>0</l></block><block s="doSetVar"><l>best distance</l><l>9999999</l></block><block s="doSetVar"><l>target magnitude</l><custom-block s="magnitude of %l"><block var="target features"/></custom-block></block><block s="doWarp"><script><custom-block s="%upvar for each %upvar of %l %cs"><l>#</l><l>word</l><custom-block s="all words in language %txt with features"><l></l></custom-block><script><block s="doIf"><block s="reportNot"><block s="reportListContainsItem"><block var="exceptions"/><block var="word"/></block></block><script><block s="doIf"><block var="report progress"/><script><block s="doThink"><block s="reportJoinWords"><list><block var="best word"/><l> is the best match so far after looking at </l><block var="#"/><l> words. Distance is </l><block var="best distance"/></list></block></block></script></block><block s="doSetVar"><l>candidate features</l><custom-block s="features of %txt in language %txt"><block var="word"/><l></l></custom-block></block><block s="doSetVar"><l>candidate distance</l><custom-block s="square of distance from features %l to %l"><block var="target features"/><block var="candidate features"/></custom-block></block><block s="doIf"><block s="reportLessThan"><block var="candidate distance"/><block var="best distance"/></block><script><block s="doSetVar"><l>best word</l><block var="word"/></block><block s="doSetVar"><l>best distance</l><block var="candidate distance"/></block></script></block></script></block></script></custom-block><block s="doReport"><block var="best word"/></block></script></block></script></block-definition><block-definition s="distance from features %&apos;features 1&apos; to %&apos;features 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="233.57142857142858" collapsed="false">Slow but elegant way of computing distance. &quot;square of distance from features ...&quot; is much faster.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>square of differences</l></list></block><block s="doSetVar"><l>square of differences</l><custom-block s="%upvar map %repRing over %mult%l"><l>#</l><block s="reifyReporter"><autolambda><block s="reportProduct"><block s="reportDifference"><block var="#1"/><block var="#2"/></block><block s="reportDifference"><block var="#1"/><block var="#2"/></block></block></autolambda><list><l>#1</l><l>#2</l></list></block><list><block var="features 1"/><block var="features 2"/></list></custom-block></block><block s="doReport"><block s="reportMonadic"><l><option>sqrt</option></l><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block><block var="square of differences"/></custom-block></block></block></script></block-definition><block-definition s="average %&apos;list1&apos; and %&apos;list 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="172" collapsed="false">Reports the average value of corresponding items in the two lists.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="map %repRing on each element of %l and %l"><block s="reifyReporter"><autolambda><block s="reportQuotient"><block s="reportSum"><l></l><l></l></block><l>2</l></block></autolambda><list></list></block><block var="list1"/><block var="list 2"/></custom-block></block></script></block-definition><block-definition s="mean distance of %&apos;word&apos; to %&apos;words&apos; $nl using %&apos;distance measure&apos; in language %&apos;language&apos;" type="reporter" category="variables"><comment x="0" y="0" w="307" collapsed="false">Reports the average distance from &apos;word&apos; to each of the &apos;words&apos;.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input><input type="%txt" readonly="true"><options>Euclidean distance&#xD;Cosine similarity</options></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="let %upvar be %s"><l>sum</l><l>0</l></custom-block><custom-block s="let %upvar be %s"><l>word features</l><custom-block s="features of %txt in language %txt"><block var="word"/><block var="language"/></custom-block></custom-block><custom-block s="for each %upvar of %l %cs"><l>item</l><block var="words"/><script><block s="doChangeVar"><l>sum</l><custom-block s="if %b then %anyUE else %anyUE"><block s="reportEquals"><block var="distance measure"/><l>Euclidean distance</l></block><custom-block s="Euclidean distance between %l and %l using JavaScript"><block var="word features"/><custom-block s="features of %txt in language %txt"><block var="item"/><block var="language"/></custom-block></custom-block><custom-block s="cosine similarity %l %l JavaScript version"><block var="word features"/><custom-block s="features of %txt in language %txt"><block var="item"/><block var="language"/></custom-block></custom-block></custom-block></block></script></custom-block><block s="doReport"><block s="reportQuotient"><block var="sum"/><block s="reportListLength"><block var="words"/></block></block></block></script></block-definition><block-definition s="%&apos;#&apos; map %&apos;function&apos; over %&apos;lists&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%repRing"></input><input type="%mult%l"></input></inputs><script><block s="doWarp"><script><block s="doDeclareVariables"><list><l>mapone</l><l>mapmany</l></list></block><block s="doSetVar"><l>mapone</l><block s="reifyScript"><script><block s="doIf"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doSetVar"><l>#</l><block var="count"/></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="function"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="evaluate"><block var="mapone"/><list><block s="reportCDR"><block var="data"/></block><block s="reportSum"><block var="count"/><l>1</l></block></list></block></block></block></script><list><l>data</l><l>count</l></list></block></block><block s="doSetVar"><l>mapmany</l><block s="reifyScript"><script><block s="doIf"><custom-block s="empty? %l"><block s="reportListItem"><l>1</l><block var="data lists"/></block></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doSetVar"><l>#</l><block var="count"/></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="function"/><custom-block s="%upvar map %repRing over %mult%l"><l>#</l><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><l/></block></autolambda><list></list></block><list><block var="data lists"/></list></custom-block></block><block s="evaluate"><block var="mapmany"/><list><custom-block s="%upvar map %repRing over %mult%l"><l>#</l><block s="reifyReporter"><autolambda><block s="reportCDR"><l/></block></autolambda><list></list></block><list><block var="data lists"/></list></custom-block><block s="reportSum"><block var="count"/><l>1</l></block></list></block></block></block></script><list><l>data lists</l><l>count</l></list></block></block><block s="doIfElse"><custom-block s="empty? %l"><block s="reportCDR"><block var="lists"/></block></custom-block><script><block s="doReport"><block s="evaluate"><block var="mapone"/><list><block s="reportListItem"><l>1</l><block var="lists"/></block><l>1</l></list></block></block></script><script><block s="doReport"><block s="evaluate"><block var="mapmany"/><list><block var="lists"/><l>1</l></list></block></block></script></block></script></block></script></block-definition><block-definition s="%&apos;#&apos; for each %&apos;item&apos; of %&apos;data&apos; %&apos;action&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%upvar"></input><input type="%l"></input><input type="%cs"></input></inputs><script><block s="doSetVar"><l>#</l><l>1</l></block><block s="doUntil"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doSetVar"><l>item</l><block s="reportListItem"><l>1</l><block var="data"/></block></block><block s="doRun"><block var="action"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="doSetVar"><l>data</l><block s="reportCDR"><block var="data"/></block></block><block s="doChangeVar"><l>#</l><l>1</l></block></script></block></script></block-definition><block-definition s="average of each item %&apos;list&apos;" type="reporter" category="lists"><comment x="0" y="0" w="159" collapsed="false">Reports the average of each element in the list.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportQuotient"><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block><block var="list"/></custom-block><block s="reportListLength"><block var="list"/></block></block></block></script></block-definition><block-definition s="map %&apos;function&apos; across each item in %&apos;data lists&apos;" type="reporter" category="lists"><comment x="0" y="0" w="262.8571428571429" collapsed="false">Apples function to corresponding items in the &apos;data lists&apos;.</comment><header></header><code></code><translations></translations><inputs><input type="%repRing"></input><input type="%l"></input></inputs><script><block s="doIf"><custom-block s="empty? %l"><block s="reportListItem"><l>1</l><block var="data lists"/></block></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="function"/><list><l></l></list></block><custom-block s="map %repRing across each item in %l"><block var="function"/><l/></custom-block></block></block></script></block-definition><block-definition s="Euclidean distance between %&apos;point 1&apos; and %&apos;point 2&apos; using JavaScript" type="reporter" category="lists"><comment x="0" y="0" w="184.2857142857143" collapsed="false">Reports the distance between the points. Works with any dimensions from 1 to what fits in memory.&#xD;To see how this can be implemented in a slower way in Snap! open the &apos;distance from features ... to ...&apos; block</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>euclidean_distance</l><list><block var="point 1"/><block var="point 2"/></list></custom-block></block></script></block-definition><block-definition s="combine with %&apos;function&apos; items of %&apos;data&apos;" type="reporter" category="lists"><header></header><code></code><translations>de:kombiniere mit _ die Elemente von _&#xD;</translations><inputs><input type="%repRing"></input><input type="%l"></input></inputs><script><block s="doIf"><custom-block s="empty? %l"><block s="reportCDR"><block var="data"/></block></custom-block><script><block s="doReport"><block s="reportListItem"><l>1</l><block var="data"/></block></block></script></block><block s="doReport"><block s="evaluate"><block var="function"/><list><block s="reportListItem"><l>1</l><block var="data"/></block><custom-block s="combine with %repRing items of %l"><block var="function"/><block s="reportCDR"><block var="data"/></block></custom-block></list></block></block></script></block-definition><block-definition s="cosine similarity %&apos;list 1&apos; %&apos;list 2&apos; JavaScript version" type="reporter" category="lists"><comment x="0" y="0" w="234" collapsed="false">See https://en.wikipedia.org/wiki/Cosine_similarity&#xD;There is a pure Snap! version of this.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>cosine_similarity</l><list><block var="list 1"/><block var="list 2"/></list></custom-block></block></script></block-definition><block-definition s="for each %&apos;item&apos; of %&apos;data&apos; %&apos;action&apos;" type="command" category="lists"><header></header><code></code><translations>de:f√ºr jedes _ von _ _&#xD;</translations><inputs><input type="%upvar"></input><input type="%l"></input><input type="%cs"></input></inputs><script><block s="doUntil"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doSetVar"><l>item</l><block s="reportListItem"><l>1</l><block var="data"/></block></block><block s="doRun"><block var="action"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="doSetVar"><l>data</l><block s="reportCDR"><block var="data"/></block></block></script></block></script></block-definition><block-definition s="Open help page" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>open_help_page</l><list><l></l></list></custom-block></script></block-definition><block-definition s="set default language to %&apos;language&apos;" type="command" category="sensing"><comment x="0" y="0" w="275.7142857142857" collapsed="false">Language to use for speech input and output only if no language or voice is specified. Can be the language name in English or itself. Or the official code for the language such as fr-FR for French in France. Also used as the default language for the word embedding blocks.</comment><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>set_default_language</l><list><block var="language"/></list></custom-block></script></block-definition><block-definition s="all words in language %&apos;language&apos; with features" type="reporter" category="variables"><comment x="0" y="0" w="224.7398158482143" collapsed="false">Reports all the words that have a list of features accessible via the &quot;features of&quot; reporter block. Data obtained from https://github.com/facebookresearch/fastText</comment><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Chinese&#xD;&#xD;English&#xD;&#xD;Finnish&#xD;&#xD;French&#xD;&#xD;German&#xD;&#xD;Greek&#xD;&#xD;Hindi&#xD;&#xD;Indonesian&#xD;&#xD;Italian&#xD;&#xD;Japanese&#xD;&#xD;Lithuanian&#xD;Portuguese&#xD;&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>all_words_with_features</l><list><block var="language"/></list></custom-block></block></script></block-definition><block-definition s="closest word to %&apos;features&apos; $nl in language %&apos;language&apos; $nl not including %&apos;exceptions&apos; $nl and do as words are found %&apos;when word found&apos; $nl with distance measure %&apos;distance measure&apos;" type="reporter" category="variables"><comment x="0" y="0" w="328.5714285714286" collapsed="false">Reports the word that is closest to the features. Uses a distance measure which can be either Eucliean Distance or Cosine similarity. You can choose from among 15 languages or leave it blank for the default language. Optionally one can &quot;watch&quot; it search by adding blocks to the &quot;when word found&quot; slot. The block is passed the best word so far, its distance, and the number of words considered so far.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%txt"><options>Chinese&#xD;&#xD;English&#xD;&#xD;Finnish&#xD;&#xD;French&#xD;&#xD;German&#xD;&#xD;Greek&#xD;&#xD;Hindi&#xD;&#xD;Indonesian&#xD;&#xD;Italian&#xD;&#xD;Japanese&#xD;Lithuanian&#xD;&#xD;Portuguese&#xD;&#xD;Sinhalese&#xD;&#xD;Spanish&#xD;&#xD;Swedish</options></input><input type="%l"></input><input type="%cmdRing"></input><input type="%txt" readonly="true">Euclidean distance<options>Euclidean distance&#xD;Cosine similarity</options></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>closest_word</l><list><block var="features"/><block var="exceptions"/><block var="when word found"/><block var="distance measure"/><block var="language"/></list></custom-block></block></script></block-definition><block-definition s="location of %&apos;word&apos; in language %&apos;language&apos;" type="reporter" category="variables"><comment x="0" y="0" w="384.28571428571433" collapsed="false">Reports a location of a word embedding use t-SNE. See https://en.wikipedia.org/wiki/T-distributed_stochastic_neighbor_embedding</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><custom-block s="let %upvar be %s"><l>location</l><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>word_to_location</l><list><block var="word"/><block var="language"/></list></custom-block></custom-block><block s="doIf"><custom-block s="empty? %l"><block var="location"/></custom-block><script><block s="doReport"><block var="location"/></block></script></block><custom-block s="let %upvar be %s"><l>stage size</l><custom-block s="setting %s"><l>Stage size</l></custom-block></custom-block><block s="doReport"><block s="reportNewList"><list><block s="reportDifference"><block s="reportProduct"><block s="reportListItem"><l>1</l><block var="location"/></block><block s="reportListItem"><l>1</l><block var="stage size"/></block></block><block s="reportQuotient"><block s="reportListItem"><l>1</l><block var="stage size"/></block><l>2</l></block></block><block s="reportDifference"><block s="reportProduct"><block s="reportListItem"><l>2</l><block var="location"/></block><block s="reportListItem"><l>2</l><block var="stage size"/></block></block><block s="reportQuotient"><block s="reportListItem"><l>2</l><block var="stage size"/></block><l>2</l></block></block></list></block><comment w="295" collapsed="true">Convert from 0 to 1 coordinates to Snap! coordinations.</comment></block></script></block-definition><block-definition s="set pen color to h: %&apos;h&apos; s: %&apos;s&apos; v: %&apos;v&apos;" type="command" category="pen"><header></header><code></code><translations></translations><inputs><input type="%n">0.3</input><input type="%n">0.7</input><input type="%n">0.6</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>h</l><l>s</l><l>v</l></list><l>var col = new Color();&#xD;col.set_hsv(h, s, v);&#xD;this.setColor(col);</l></block><list><block var="h"/><block var="s"/><block var="v"/></list></block></script></block-definition><block-definition s="HSV color" type="reporter" category="pen"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return new List(this.color.hsv());</l></block><list></list></block></block></script></block-definition><block-definition s="label %&apos;text&apos; of size %&apos;size&apos;" type="command" category="pen"><comment x="0" y="0" w="90" collapsed="false">LABEL will stamp text on the stage at the given font size. The direction of the text is the direction the sprite is facing, and color will match the pen color.</comment><header></header><code></code><translations>de:drucke _ in Gr√∂√üe _&#xD;</translations><inputs><input type="%txt">Hello!</input><input type="%n">12</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>text</l><l>size</l></list><l>var stage = this.parentThatIsA(StageMorph),&#xD;    context = stage.penTrails().getContext(&apos;2d&apos;),&#xD;    rotation = radians(this.direction() - 90),&#xD;    trans = new Point(&#xD;      this.center().x - stage.left(),&#xD;      this.center().y - stage.top()&#xD;    ),&#xD;    isWarped = this.Warped,&#xD;    len,&#xD;    pos;&#xD;&#xD;if (isWarped) {endWarp(); }&#xD;context.save();&#xD;context.font = size + &apos;px monospace&apos;;&#xD;context.textAlign = &apos;left&apos;;&#xD;context.textBaseline = &apos;alphabetic&apos;;&#xD;context.fillStyle = this.color.toString();&#xD;len = context.measureText(text).width;&#xD;trans = trans.multiplyBy(1 / stage.scale);&#xD;context.translate(trans.x, trans.y);&#xD;context.rotate(rotation);&#xD;context.fillText(text, 0, 0);&#xD;context.translate(-trans.x, -trans.y);&#xD;context.restore();&#xD;pos = new Point(&#xD;  len * Math.sin(radians(this.direction())),&#xD;  len * Math.cos(radians(this.direction())));&#xD;pos = pos.add(new Point(this.xPosition(), this.yPosition()));&#xD;this.gotoXY(pos.x, pos.y, false);&#xD;this.changed();&#xD;if (isWarped) {this.startWarp(); }&#xD;stage.changed();</l></block><list><block var="text"/><block var="size"/></list></block></script></block-definition><block-definition s="repeat text %&apos;text&apos; %&apos;n&apos; times" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%n"></input></inputs><script><block s="doIfElse"><block s="reportLessThan"><block var="n"/><l>1</l></block><script><block s="doReport"><block s="reportJoinWords"><list></list></block></block></script><script><block s="doReport"><block s="reportJoinWords"><list><block var="text"/><custom-block s="repeat text %txt %n times"><block var="text"/><block s="reportDifference"><block var="n"/><l>1</l></block></custom-block></list></block></block></script></block></script></block-definition><block-definition s="display word %&apos;word&apos; in language %&apos;language&apos; with size %&apos;size&apos; and zoom by %&apos;zoom&apos;" type="command" category="pen"><comment x="0" y="0" w="220" collapsed="true">Displays the word near similar words.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input><input type="%n">12</input><input type="%n">1</input></inputs><script><custom-block s="let %upvar be %s"><l>location</l><custom-block s="location of %txt in language %txt"><block var="word"/><block var="language"/></custom-block></custom-block><custom-block s="let %upvar be %s"><l>x</l><block s="reportDifference"><block s="reportProduct"><block s="reportListItem"><l>1</l><block var="location"/></block><block var="zoom"/></block><block s="reportProduct"><block s="reportStringSize"><block var="word"/></block><l>5</l></block><comment w="278" collapsed="false">Attempt to center the word. 12/2 would be correct if every character was full width.</comment></block></custom-block><custom-block s="let %upvar be %s"><l>y</l><block s="reportProduct"><block s="reportListItem"><l>2</l><block var="location"/></block><block var="zoom"/></block></custom-block><custom-block s="let %upvar be %s"><l>pen color</l><custom-block s="HSV color"></custom-block></custom-block><block s="gotoXY"><block var="x"/><block var="y"/></block><custom-block s="set pen color to h: %n s: %n v: %n"><block s="reportListItem"><l>1</l><block var="pen color"/></block><l>.2</l><l>1</l></custom-block><custom-block s="label %txt of size %n"><custom-block s="repeat text %txt %n times"><l>‚ñà</l><block s="reportStringSize"><block var="word"/></block></custom-block><block var="size"/></custom-block><block s="gotoXY"><block var="x"/><block var="y"/><comment w="224.99999999999994" collapsed="true">Display the word centered at the location.</comment></block><custom-block s="set pen color to h: %n s: %n v: %n"><block s="reportListItem"><l>1</l><block var="pen color"/></block><block s="reportListItem"><l>2</l><block var="pen color"/></block><block s="reportListItem"><l>3</l><block var="pen color"/></block></custom-block><custom-block s="label %txt of size %n"><block var="word"/><block var="size"/></custom-block></script></block-definition><block-definition s="closest word to %&apos;features&apos; $nl in language %&apos;language&apos; $nl not including %&apos;exceptions&apos;" type="reporter" category="variables"><comment x="0" y="0" w="328.5714285714286" collapsed="false">Reports the word that is closest to the features.  You can choose from among 15 languages or leave it blank for the default language. There is a full-featured version of this block as well.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%txt"><options>Chinese&#xD;&#xD;English&#xD;&#xD;Finnish&#xD;&#xD;French&#xD;&#xD;German&#xD;&#xD;Greek&#xD;&#xD;Hindi&#xD;&#xD;Indonesian&#xD;&#xD;Italian&#xD;&#xD;Japanese&#xD;Lithuanian&#xD;&#xD;Portuguese&#xD;&#xD;Sinhalese&#xD;&#xD;Spanish&#xD;&#xD;Swedish</options></input><input type="%l"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>closest_word</l><list><block var="features"/><block var="exceptions"/><l></l><l>Cosine similarity</l><block var="language"/></list></custom-block></block></script></block-definition><block-definition s="features of %&apos;word&apos; in language %&apos;language&apos;" type="reporter" category="variables"><comment x="0" y="0" w="343.5714285714286" collapsed="false">Reports a list of 300 numbers that &quot;describes&quot; the word. You can choose among 15 languages or leave it blank and use the default language. &#xD;To learn about these numbers see https://en.wikipedia.org/wiki/Word_embedding&#xD;The new name for this block is &quot;features of word ...&quot;</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><block s="doReport"><custom-block s="features of word %txt in language %txt"><block var="word"/><block var="language"/></custom-block></block></script></block-definition><block-definition s="wait for word embeddings in language %&apos;language&apos; $nl or use this word embeddings url %&apos;url&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Chinese&#xD;&#xD;English&#xD;&#xD;Finnish&#xD;&#xD;French&#xD;&#xD;German&#xD;&#xD;Greek&#xD;&#xD;Hindi&#xD;&#xD;Indonesian&#xD;&#xD;Italian&#xD;&#xD;Japanese&#xD;&#xD;Portuguese&#xD;&#xD;Sinhalese&#xD;&#xD;Swedish</options></input><input type="%txt"></input></inputs><script><block s="doDeclareVariables"><list><l>loaded</l></list></block><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Load words to features in language %txt then %cmdRing %br use this URL instead of default %txt"><block var="language"/><block s="reifyScript"><script><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><list></list></block><block var="url"/></custom-block><block s="doWaitUntil"><block var="loaded"/></block></script></block-definition><block-definition s="Load words to features in language %&apos;language&apos; then %&apos;do when loaded&apos; $nl use this URL instead of default %&apos;url&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"><options>Chinese&#xD;&#xD;English&#xD;&#xD;Finnish&#xD;&#xD;French&#xD;&#xD;German&#xD;&#xD;Greek&#xD;&#xD;Hindi&#xD;&#xD;Indonesian&#xD;&#xD;Italian&#xD;&#xD;Japanese&#xD;&#xD;Portuguese&#xD;&#xD;Sinhalese&#xD;&#xD;Swedish</options></input><input type="%cmdRing"></input><input type="%txt"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>word_embeddings_ready</l><list><block var="language"/><block var="do when loaded"/><block var="url"/></list></custom-block></script></block-definition><block-definition s="let %&apos;var&apos; be %&apos;value&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%s"></input></inputs><script><block s="doSetVar"><l>var</l><block var="value"/></block></script></block-definition><block-definition s="empty? %&apos;data&apos;" type="predicate" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block></block></script></block-definition><block-definition s="closest words to %&apos;features&apos; in language %&apos;language&apos; $nl and include distances %&apos;include distances&apos;" type="reporter" category="variables"><comment x="0" y="0" w="218.57142857142858" collapsed="false">Reports all the words sorted by closeness to &apos;features&apos;. Optionally can report pairs of words and distances. Distances are measured using cosine similarity.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input><input type="%b">false</input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="closest words to %l in language %txt %br and include distances %b %br do with result %cmdRing"><block var="features"/><block var="language"/><block var="include distances"/><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block var="words"/></block></script><list><l>words</l></list></block></custom-block><block s="doWaitUntil"><block var="result"/></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="closest words to %&apos;features&apos; in language %&apos;language&apos; $nl and include distances %&apos;include distances&apos; $nl do with result %&apos;process result&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%txt"><options>record_callbacks(finished_callback);</options></input><input type="%b">false</input><input type="%cmdRing"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><custom-block s="load tensorflow"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>closest_words</l><list><block var="features"/><block var="language"/><block var="include distances"/><block var="process result"/></list></custom-block></block></script></block-definition><block-definition s="setting %&apos;which&apos;" type="reporter" category="sensing"><header></header><code></code><translations>pt:o valor da configura√ß√£o _&#xD;</translations><inputs><input type="%s" readonly="true"><options>Project notes&#xD;Project name&#xD;User&#xD;Presentation mode&#xD;Language&#xD;Zoom blocks&#xD;Stage size&#xD;Stage scale&#xD;Retina display support&#xD;Long form input dialog&#xD;Plain prototype labels&#xD;Input sliders&#xD;Execute on slider change&#xD;Clicking sound&#xD;Turbo mode&#xD;Flat design&#xD;Keyboard editing&#xD;Visible stepping&#xD;Thread safe scripts&#xD;Prefer smooth animations&#xD;Flat line ends&#xD;Codification support&#xD;Inheritance support&#xD;Visible palette</options></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>which</l></list><l>var stage = this.parentThatIsA(StageMorph),&#xD;    ide = stage.parentThatIsA(IDE_Morph),&#xD;    world = stage.parentThatIsA(WorldMorph);&#xD;&#xD;switch (which) {&#xD;    case &apos;Project notes&apos;:&#xD;        return ide.projectNotes;&#xD;    case &apos;Project name&apos;:&#xD;        return ide.projectName;&#xD;    case &apos;User&apos;:&#xD;        return ide.cloud.username;&#xD;    case &apos;Presentation mode&apos;:&#xD;        return ide.isAppMode;&#xD;    case &apos;Language&apos;:&#xD;        return SnapTranslator.language;&#xD;    case &apos;Zoom blocks&apos;:&#xD;        return SyntaxElementMorph.prototype.scale;&#xD;    case &apos;Stage size&apos;:&#xD;        return new List([StageMorph.prototype.dimensions.x,&#xD;                                   StageMorph.prototype.dimensions.y]);&#xD;    case &apos;Stage scale&apos;:&#xD;       return stage.scale;&#xD;    case &apos;Retina display support&apos;:&#xD;        return isRetinaEnabled();&#xD;    case &apos;Long form input dialog&apos;:&#xD;        return InputSlotDialogMorph.prototype.isLaunchingExpanded;&#xD;    case &apos;Plain prototype labels&apos;:&#xD;        return BlockLabelPlaceHolderMorph.prototype.plainLabel;&#xD;    case &apos;Input sliders&apos;:&#xD;        return MorphicPreferences.useSliderForInput;&#xD;    case &apos;Execute on slider change&apos;:&#xD;        return ArgMorph.prototype.executeOnSliderEdit;&#xD;    case &apos;Clicking sound&apos;:&#xD;        return !!BlockMorph.prototype.snapSound;&#xD;    case &apos;Turbo mode&apos;:&#xD;        return stage.isFastTracked;&#xD;    case &apos;Flat design&apos;:&#xD;        return MorphicPreferences.isFlat;&#xD;    case &apos;Keyboard editing&apos;:&#xD;        return world.keyboardReceiver instanceof ScriptFocusMorph;&#xD;    case &apos;Visible stepping&apos;:&#xD;        return Process.prototype.enableSingleStepping;&#xD;    case &apos;Thread safe scripts&apos;:&#xD;        return stage.isThreadSafe;&#xD;    case &apos;Prefer smooth animations&apos;:&#xD;        return StageMorph.prototype.frameRate &gt; 0;&#xD;    case &apos;Flat line ends&apos;:&#xD;        return SpriteMorph.prototype.useFlatLineEnds;&#xD;    case &apos;Codification support&apos;:&#xD;        return StageMorph.prototype.enableCodeMapping;&#xD;    case &apos;Inheritance support&apos;:&#xD;        return StageMorph.prototype.enableInheritance;&#xD;    default: return which;&#xD;    case &apos;Visible palette&apos;:&#xD;        return ide.currentCategory;&#xD;}</l></block><list><block var="which"/></list></block></block></script></block-definition><block-definition s="average features of each word %&apos;words&apos; in language %&apos;language&apos;" type="reporter" category="lists"><comment x="0" y="0" w="152" collapsed="false">Finds the average of the features of each word in &apos;words&apos;.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="let %upvar be %s"><l>list of words</l><block s="reportTextSplit"><block var="words"/><l><option>word</option></l></block></custom-block><custom-block s="let %upvar be %s"><l>number of words</l><block s="reportListLength"><block var="list of words"/></block></custom-block><custom-block s="let %upvar be %s"><l>list of features</l><block s="reportMap"><block s="reifyReporter"><autolambda><custom-block s="features of %txt in language %txt"><block var="word"/><block var="language"/></custom-block></autolambda><list><l>word</l></list></block><block var="list of words"/></block></custom-block><block s="doSetVar"><l>list of features</l><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportGreaterThan"><block s="reportListLength"><l/></block><l>0</l></block></autolambda><list></list></block><block var="list of features"/></block><comment w="241.99999999999997" collapsed="true">Remove features from unrecognised words.</comment></block><custom-block s="let %upvar be %s"><l>features added</l><block s="reportCombine"><block var="list of features"/><block s="reifyReporter"><autolambda><custom-block s="sum %l and %l"><l/><l/></custom-block></autolambda><list></list></block></block></custom-block><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportQuotient"><l></l><block var="number of words"/></block></autolambda><list></list></block><block var="features added"/></block></block></script></block-definition><block-definition s="map %&apos;reporter&apos; on each element of %&apos;list 1&apos; and %&apos;list 2&apos;" type="reporter" category="variables"><comment x="0" y="0" w="242.14285714285717" collapsed="false">Reports a list created by applying reporter to corresponding elements of the lists.</comment><header></header><code></code><translations></translations><inputs><input type="%repRing"></input><input type="%l"></input><input type="%l"></input></inputs><script><block s="doIf"><custom-block s="empty? %l"><block var="list 1"/></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doIf"><custom-block s="empty? %l"><block var="list 2"/></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="reporter"/><list><block s="reportListItem"><l>1</l><block var="list 1"/></block><block s="reportListItem"><l>1</l><block var="list 2"/></block></list></block><custom-block s="map %repRing on each element of %l and %l"><block var="reporter"/><block s="reportCDR"><block var="list 1"/></block><block s="reportCDR"><block var="list 2"/></block></custom-block></block></block></script></block-definition><block-definition s="sum %&apos;list1&apos; and %&apos;list 2&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="map %repRing on each element of %l and %l"><block s="reifyReporter"><autolambda><block s="reportSum"><l></l><l></l></block></autolambda><list></list></block><block var="list1"/><block var="list 2"/></custom-block></block></script></block-definition><block-definition s="subtract %&apos;list1&apos; from %&apos;list 2&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="map %repRing on each element of %l and %l"><block s="reifyReporter"><autolambda><block s="reportDifference"><l></l><l></l></block></autolambda><list></list></block><block var="list1"/><block var="list 2"/></custom-block></block></script></block-definition><block-definition s="get features of sentences %&apos;sentences&apos; $nl then do with result %&apos;process result&apos;" type="command" category="variables"><comment x="0" y="0" w="385.8571428571428" collapsed="true">Passes a list of lists of 512 features of input &apos;sentences&apos; to &apos;process result&apos;. </comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="load tensorflow"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>sentence_features</l><list><block var="sentences"/><block var="process result"/></list></custom-block></block></script></block-definition><block-definition s="features of sentence %&apos;sentence&apos;" type="reporter" category="variables"><comment x="0" y="0" w="208.57142857142858" collapsed="false">Reports 512 features for the sentence.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="get features of sentences %l %br then do with result %cmdRing"><block s="reportNewList"><list><block var="sentence"/></list></block><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block s="reportListItem"><l>1</l><block var="list of features list"/></block></block></script><list><l>list of features list</l></list></block></custom-block><block s="doWaitUntil"><block var="result"/></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="tokenize %&apos;sentence&apos; $nl then do with result %&apos;process result&apos;" type="command" category="variables"><comment x="0" y="0" w="287.8571428571429" collapsed="true">Passes to &apos;process result&apos; a tokenization of the sentence.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="load tensorflow"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>tokenize_sentence</l><list><block var="sentence"/><block var="process result"/></list></custom-block></block></script></block-definition><block-definition s="tokenize %&apos;sentence&apos;" type="reporter" category="variables"><comment x="0" y="0" w="182.85714285714286" collapsed="true">Reports tokens for the sentence.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="tokenize %txt %br then do with result %cmdRing"><block var="sentence"/><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block var="tokens"/></block></script><list><l>tokens</l></list></block></custom-block><block s="doWaitUntil"><block var="result"/></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="features of sentences %&apos;sentences&apos;" type="reporter" category="variables"><comment x="0" y="0" w="267.14285714285717" collapsed="true">Reports a list of 512 features for each sentence.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="get features of sentences %l %br then do with result %cmdRing"><block var="sentences"/><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block var="list of features list"/></block></script><list><l>list of features list</l></list></block></custom-block><block s="doWaitUntil"><block var="result"/></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="features of word %&apos;word&apos; in language %&apos;language&apos;" type="reporter" category="variables"><comment x="0" y="0" w="343.5714285714286" collapsed="false">Reports a list of 300 numbers that &quot;describes&quot; the word. You can choose among 15 languages or leave it blank and use the default language. &#xD;To learn about these numbers see https://en.wikipedia.org/wiki/Word_embedding</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"><options>Chinese&#xD;English&#xD;Finnish&#xD;French&#xD;German&#xD;Greek&#xD;Hindi&#xD;Indonesian&#xD;Italian&#xD;Japanese&#xD;Lithuanian&#xD;Portuguese&#xD;Sinhalese&#xD;Spanish&#xD;Swedish</options></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="wait for word embeddings in language %txt %br or use this word embeddings url %txt"><block var="language"/><l></l></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>word_to_features</l><list><block var="word"/><block var="language"/></list></custom-block></block></script></block-definition><block-definition s="call eCraft2Learn reporter %&apos;reporter name&apos; with %&apos;inputs&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>function_name</l><l>parameters</l><l>no_warning</l></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;&#xD;    return ecraft2learn.run(function_name, parameters);&#xD;&#xD;}&#xD;&#xD;if (!no_warning) {&#xD;&#xD;    alert("Any eCraft2Learn command must be run before the " + function_name + " reporter.");&#xD;&#xD;}&#xD;&#xD;return 0;</l></block><list><block var="reporter name"/><block var="inputs"/></list></block></block></script></block-definition><block-definition s="load tensorflow" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>loaded</l></list></block><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>load_tensorflow</l><list><block s="reifyScript"><script><block s="doSetVar"><l>loaded</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><list></list></block></list></custom-block><block s="doWaitUntil"><block var="loaded"/></block></script></block-definition><block-definition s="Answer %&apos;question&apos; from %&apos;passage&apos; $nl process answers with %&apos;answers receiver&apos; $nl and if there is error %&apos;handle error&apos;" type="command" category="other"><comment x="0" y="0" w="191.42857142857144" collapsed="false">Uses &apos;passage&apos; to answer &apos;question&apos;.&#xD;The &apos;answer question&apos; reporter is easier to use and relies upon this block.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input><input type="%cmdRing"></input><input type="%cmdRing"></input></inputs><script><custom-block s="Load eCraft2Learn library"></custom-block><custom-block s="load tensorflow"></custom-block><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>answer_question</l><list><block var="question"/><block var="passage"/><block var="answers receiver"/><block var="handle error"/></list></custom-block></block></script><scripts><comment x="37.85714285714286" y="158.71428571428572" w="509.4105747767857" collapsed="false">This uses BERT to answer questions.&#xD;See https://blog.tensorflow.org/2020/03/exploring-helpful-uses-for-bert-in-your-browser-tensorflow-js.html</comment></scripts></block-definition><block-definition s="Answer question %&apos;question&apos; using this passage %&apos;passage&apos;" type="reporter" category="other"><comment w="161.42857142857144" collapsed="false">Reports the top answer to the &apos;question&apos; using the &apos;passage&apos;.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input></inputs><script><custom-block s="let %upvar be %s"><l>answers</l><custom-block s="Get up to 5 answers to question %txt from passage %txt"><block var="question"/><block var="passage"/></custom-block></custom-block><block s="doIfElse"><block s="reportListIsEmpty"><block var="answers"/></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script><script><block s="doReport"><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="answers"/></block></block></block></script></block></script></block-definition><block-definition s="Get up to 5 answers to question %&apos;question&apos; from passage %&apos;passage&apos;" type="reporter" category="other"><comment w="253.57142857142858" collapsed="false">Reports a list of 5 elements where each element is a list of an answer to the &apos;question&apos; and its score of how good an answer it is. The highest scoring answer is first.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Answer %txt from %txt %br process answers with %cmdRing %br and if there is error %cmdRing"><block var="question"/><block var="passage"/><block s="reifyScript"><script><block s="doSetVar"><l>result</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportNewList"><list><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="answer"/></block></block><block s="reportListItem"><l>2</l><block s="reportListItem"><l>2</l><block var="answer"/></block></block></list></block></autolambda><list><l>answer</l></list></block><block var="answers"/><comment w="238.57142857142858" collapsed="false">Only report the answers and scores. Not the position of the &apos;passage&apos; that the answer is based upon.</comment></block></block></script><list><l>answers</l></list></block><block s="reifyScript"><script><custom-block s="inform %txt with title %txt"><l></l><l>Answering question from passage</l></custom-block></script><list></list></block></custom-block><block s="doWaitUntil"><block var="result"/></block><block s="doReport"><block var="result"/></block></script></block-definition><block-definition s="Wikipedia summary of covid-19 from 6 April 2020" type="reporter" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><l>The 2019‚Äì20 coronavirus pandemic is an ongoing pandemic of coronavirus disease 2019 (COVID-19), caused by severe acute respiratory syndrome coronavirus 2 (SARS-CoV-2). The outbreak was first noted in Wuhan, Hubei province, China, in December 2019. The World Health Organization (WHO) declared the outbreak to be a Public Health Emergency of International Concern on 30 January 2020 and recognized it as a pandemic on 11 March 2020. As of 6 April 2020, more than 1,270,000 cases of COVID-19 have been reported in over 200 countries and territories, resulting in approximately 69,400 deaths. More than 260,000 people have recovered.&#xD;&#xD;The virus is mainly spread during close contact, and by small droplets produced during coughing, sneezing, or talking. These small droplets may also be produced during breathing, but rapidly fall to the ground or surfaces and are not generally spread through the air over large distances. People may also catch COVID-19 by touching a contaminated surface and then their face. The virus can survive on surfaces for up to 72 hours. It is most contagious during the first 3 days after symptom onset, although spread may be possible before symptoms appear and in later stages of the disease. The time between exposure and symptom onset is typically around five days, but may range from 2¬†to 14 days. Common symptoms include fever, cough, and shortness of breath. Complications may include pneumonia and acute respiratory distress syndrome. There is no known vaccine or specific antiviral treatment. Primary treatment is symptomatic and supportive therapy. Recommended preventive measures include hand washing, covering one&apos;s mouth when coughing, maintaining distance from other people, and monitoring and self-isolation for people who suspect they are infected.&#xD;&#xD;Efforts to prevent the virus spread include travel restrictions, quarantines, curfews, workplace hazard controls, event postponements and cancellations, and facility closures. These include national or regional quarantines throughout the world (starting with the quarantine of Hubei), curfew measures in mainland China, various border closures or incoming passenger restrictions, screening at airports and train stations, and outgoing passenger travel bans.&#xD;&#xD;The pandemic has led to severe global socioeconomic disruption, the postponement or cancellation of sporting, religious, and cultural events, and widespread fears of supply shortages resulting in panic buying. Schools and universities have closed either on a nationwide or local basis in more than 160 countries, affecting approximately 97¬†percent of the world&apos;s student population. Misinformation about the virus has spread online, and there have been incidents of xenophobia and discrimination against Chinese people, other people of East and Southeast Asian descent and appearance, and others from hotspots.&#xD;&#xD;</l></block></script></block-definition><block-definition s="inform %&apos;message&apos; with title %&apos;title&apos;" type="command" category="other"><comment x="0" y="0" w="217.14285714285717" collapsed="false">Will display &apos;message&apos; in a dialog box with &apos;title&apos;. User needs to click &apos;OK&apos; to remove it.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>inform</l><list><block var="title"/><block var="message"/></list></custom-block></script></block-definition><block-definition s="Load eCraft2Learn library" type="command" category="other"><comment x="0" y="0" w="248.57142857142858" collapsed="true">Returns only after eCraft2Learn library is loaded</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doWaitUntil"><custom-block s="Try to load ecraft2learn library"></custom-block></block></script></block-definition><block-definition s="Try to load ecraft2learn library" type="reporter" category="other"><comment x="0" y="0" w="323.5714285714286" collapsed="true">Should only be called by Load eCraft2Learn library</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;   return true;&#xD;}&#xD;if (window.waiting_for_ecraft2learn_library) {&#xD;   return false;&#xD;}&#xD;window.waiting_for_ecraft2learn_library = true;&#xD;let script = document.createElement("script");&#xD;&#xD;script.type = "text/javascript";&#xD;&#xD;if (window.location.hostname === &apos;localhost&apos;) {&#xD;&#xD;    script.src = window.location.protocol + "//" + window.location.host + "/ai/ecraft2learn-beta.js"; // notice this the beta version&#xD;&#xD;} else {&#xD;&#xD;    script.src = "https://ecraft2learn.github.io/ai/ecraft2learn.js";&#xD;&#xD;}&#xD;&#xD;document.head.appendChild(script);&#xD;return false;</l></block><list></list></block></block></script></block-definition><block-definition s="run eCraft2Learn command %&apos;command name&apos; with %&apos;inputs&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>function_name</l><l>parameters</l></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;&#xD;    ecraft2learn.run(function_name, parameters);&#xD;&#xD;} else {&#xD;&#xD;   var script = document.createElement("script");&#xD;&#xD;   script.type = "text/javascript";&#xD;&#xD;   script.addEventListener(&apos;error&apos;, function () {&#xD;&#xD;          alert("Unable to load https://ecraft2learn.github.io/ai/ecraft2learn.js. Check your network connection.");&#xD;&#xD;   });&#xD;&#xD;   script.src = "https://ecraft2learn.github.io/ai/ecraft2learn.js";&#xD;&#xD;   script.addEventListener(&apos;load&apos;, function () {&#xD;&#xD;          ecraft2learn.run(function_name, parameters);&#xD;&#xD;   });&#xD;&#xD;   document.head.appendChild(script);&#xD;&#xD;}&#xD;&#xD;</l></block><list><block var="command name"/><block var="inputs"/></list></block></script></block-definition></blocks>