<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Story and Image Generator</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>Story and Image Generator</h1>
  <p>The idea for this story was inspired by this
    <a href="https://www.newyorker.com/cartoons/daily-cartoon/friday-april-21st-goldilocks-ai" target="_blank">
     New Yorker cartoon</a></p>
  
  <div id="loading-message" style="display: none;">Generating story and images...</div>
<!--   GPT-4 forgot to tell me to remove this:
  <div class="loading-indicator" id="loading-indicator">Loading...</div> -->

  <form id="api-form">
    <label for="api-key">Enter your OpenAI API Key:</label>
    <input type="password" id="api-key" name="api-key">
    <label for="story-prompt">Create a story about:</label>
    <textarea id="story-prompt" name="story-prompt" rows="4" cols="50"></textarea>
    <label for="number-of-paragraphs">Number of paragraphs:</label>
    <input type="number" id="number-of-paragraphs" name="number-of-paragraphs" value="3" min="1">
    <button type="submit">Generate Story and Images</button>
    <p>This app was generated by this dialogue with <a href="https://shareg.pt/iMYiDZ0" target="_blank">GPT-4</a></p>
  </form>
  
  <div id="edit-illustration-dialog" class="dialog hidden">
    <div class="dialog-content">
      <h2>Edit Illustration</h2>
      <form id="edit-illustration-form">
        <label for="current-description">Current Description:</label>
<!--         manually removed readonly from the following -->
        <textarea id="current-description" rows="6" cols="40"></textarea>
        <label for="suggested-changes">Suggested Changes:</label>
        <textarea id="suggested-changes" rows="6" cols="40"></textarea>
        <button type="submit">Apply Changes</button>
        <button type="button" id="replace-image">Replace Image</button>
        <button type="button" id="close-dialog">Close</button>
      </form>
    </div>
  </div>

  <div id="content">
    <!-- The generated content will be inserted here -->
  </div>
  <div id="response-popup" class="popup, hidden">
<!--     I added hidden -->
    <span class="close-popup">&times;</span>
    <pre id="response-content"></pre>
  </div>
  <button id="toggle-prompts-completions">Toggle Visibility of Prompts and Completions</button>
  <div id="prompts-completions" class="hidden"></div>
  <script src="script.js"></script>
</body>
</html>
