<project name="image labels reporter and show photo" app="Snap! 4.1, http://snap.berkeley.edu" version="1"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAEKUlEQVR4Xu3ZSy7kcRTF8euRGBBlJsw8g5BUPBIlJIidqAEbYAfswMQarIKBrdTAMyYS/Du/f9KidUsqHXJucr417nbvPeeTUv/SU1VVFbxIQJRADwBFyTO2TgCAQJAmAEBp/AwHIAakCQBQGj/DAYgBaQIAlMbPcABiQJoAAKXxMxyAGJAmAEBp/AwHIAakCQBQGj/DAYgBaQIAlMbPcABiQJoAAKXxMxyAGJAmAEBp/AwHIAakCQBQGj/DAYgBaQIAlMbPcABiQJoAAKXxMxyAGJAmAEBp/AwHIAakCQBQGj/DAYgBaQIAlMbPcABiQJoAAKXxMxyAGJAmAEBp/AwHIAakCQBQGj/DAYgBaQIAlMbPcABiQJoAAKXxMxyAGJAmAEBp/AwHIAakCQBQGj/DAYgBaQIAlMbPcABiQJoAAKXxMxyAGJAmAEBp/AwHIAakCQBQGj/D7QCen5/H2NhY7OzsxODgIALECdgBvL6+juPj43h7e4tmsxkzMzOxvLwcrVYr+vr6xHX4jbcDWCq+uLiIs7OzGB4erht/enqqQa6trcXExERsbW3FwsKCnwbBxZYAS84nJydxdXUVAwMDf8ReVVXc3d1Fo9GIlZWVmJycjL29vfrXNq/vT8AW4OvraxweHkan04ne3t4vk315eYmbm5v6nXFpaSnm5uZid3f3/d3z+yvx+om2AEvN5Z1uf38/yrtet6/n5+d4eHioMc7OztafHzc3N6O/v7/bH8G/+5CANcD7+/tot9tR3g27fRWAj4+P9QPM9PR0/Wt6Y2ODB5huA/z072wBloeOg4ODrn4F397extTUVCwuLsb8/Hz9Fc7Q0NB/Rs5/+5iALcDT09O4vLz88iFkZGQkVldX3x9CRkdHkfMDCVgC/NfXMOVzYPkapjz1lq9hysMGr59PwA5g+SL66OiofvD4/UV0+Ry3vr7O57if9/bXBDuA5U9x4+Pjsb29zZ/iBOA+j7QDmCBzVuBrGAxkSYB3wCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5wNwCxNmO4BQNPis5z9Cw7RYrfb4jJ7AAAAAElFTkSuQmCC</thumbnail><stage name="Stage" width="240" height="180" costume="0" tempo="60" threadsafe="false" lines="round" ternary="true" codify="false" inheritance="true" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAC0CAYAAACqnKHoAAAEXElEQVR4Xu3TAQ0AAAgCQelf2hy/nQnYITtHgEBWYNnkghMgcAbsCQiEBQw4XJ7oBAzYDxAICxhwuDzRCRiwHyAQFjDgcHmiEzBgP0AgLGDA4fJEJ2DAfoBAWMCAw+WJTsCA/QCBsIABh8sTnYAB+wECYQEDDpcnOgED9gMEwgIGHC5PdAIG7AcIhAUMOFye6AQM2A8QCAsYcLg80QkYsB8gEBYw4HB5ohMwYD9AICxgwOHyRCdgwH6AQFjAgMPliU7AgP0AgbCAAYfLE52AAfsBAmEBAw6XJzoBA/YDBMICBhwuT3QCBuwHCIQFDDhcnugEDNgPEAgLGHC4PNEJGLAfIBAWMOBweaITMGA/QCAsYMDh8kQnYMB+gEBYwIDD5YlOwID9AIGwgAGHyxOdgAH7AQJhAQMOlyc6AQP2AwTCAgYcLk90AgbsBwiEBQw4XJ7oBAzYDxAICxhwuDzRCRiwHyAQFjDgcHmiEzBgP0AgLGDA4fJEJ2DAfoBAWMCAw+WJTsCA/QCBsIABh8sTnYAB+wECYQEDDpcnOgED9gMEwgIGHC5PdAIG7AcIhAUMOFye6AQM2A8QCAsYcLg80QkYsB8gEBYw4HB5ohMwYD9AICxgwOHyRCdgwH6AQFjAgMPliU7AgP0AgbCAAYfLE52AAfsBAmEBAw6XJzoBA/YDBMICBhwuT3QCBuwHCIQFDDhcnugEDNgPEAgLGHC4PNEJGLAfIBAWMOBweaITMGA/QCAsYMDh8kQnYMB+gEBYwIDD5YlOwID9AIGwgAGHyxOdgAH7AQJhAQMOlyc6AQP2AwTCAgYcLk90AgbsBwiEBQw4XJ7oBAzYDxAICxhwuDzRCRiwHyAQFjDgcHmiEzBgP0AgLGDA4fJEJ2DAfoBAWMCAw+WJTsCA/QCBsIABh8sTnYAB+wECYQEDDpcnOgED9gMEwgIGHC5PdAIG7AcIhAUMOFye6AQM2A8QCAsYcLg80QkYsB8gEBYw4HB5ohMwYD9AICxgwOHyRCdgwH6AQFjAgMPliU7AgP0AgbCAAYfLE52AAfsBAmEBAw6XJzoBA/YDBMICBhwuT3QCBuwHCIQFDDhcnugEDNgPEAgLGHC4PNEJGLAfIBAWMOBweaITMGA/QCAsYMDh8kQnYMB+gEBYwIDD5YlOwID9AIGwgAGHyxOdgAH7AQJhAQMOlyc6AQP2AwTCAgYcLk90AgbsBwiEBQw4XJ7oBAzYDxAICxhwuDzRCRiwHyAQFjDgcHmiEzBgP0AgLGDA4fJEJ2DAfoBAWMCAw+WJTsCA/QCBsIABh8sTnYAB+wECYQEDDpcnOgED9gMEwgIGHC5PdAIG7AcIhAUMOFye6AQM2A8QCAsYcLg80QkYsB8gEBYw4HB5ohMwYD9AICxgwOHyRCdgwH6AQFjAgMPliU7AgP0AgbCAAYfLE52AAfsBAmEBAw6XJzoBA/YDBMICBhwuT3QCBuwHCIQFDDhcnugEHpD1ALUzgduwAAAAAElFTkSuQmCC</pentrails><costumes><list id="2"></list></costumes><sounds><list id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><sprite name="Sprite" idx="1" x="0" y="0" heading="90" scale="1" rotation="1" draggable="true" costume="0" color="80,80,80" pen="tip" id="8"><costumes><list id="9"></list></costumes><sounds><list id="10"></list></sounds><blocks></blocks><variables></variables><scripts><script x="354" y="29"><custom-block s="labels of new photo from %txt"><l></l></custom-block></script><script x="358" y="59"><custom-block s="Show current photo %txt"><l></l></custom-block></script><script x="360" y="103"><custom-block s="Use camera to make costume"></custom-block></script></scripts></sprite></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition s="run eCraft2Learn command %&apos;command name&apos; with %&apos;inputs&apos;" type="command" category="other"><header></header><code></code><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>function_name</l><l>parameters</l></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;    ecraft2learn.run(function_name, parameters);&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;} else {&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;   var script = document.createElement("script");&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;   script.type = "text/javascript";&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;   script.src = "https://toontalk.github.io/ai-cloud/ecraft2learn.js";&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;    script.addEventListener(&apos;load&apos;, function () {&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;          ecraft2learn.run(function_name, parameters);&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;    });&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;    document.head.appendChild(script);&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;}</l></block><list><block var="command name"/><block var="inputs"/></list></block></script></block-definition><block-definition s="call eCraft2Learn reporter %&apos;reporter name&apos; with %&apos;inputs&apos;" type="reporter" category="other"><header></header><code></code><inputs><input type="%txt"></input><input type="%mult%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>function_name</l><l>parameters</l></list><l>if (typeof ecraft2learn === &apos;object&apos;) {&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;    return ecraft2learn.run(function_name, parameters);&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;} else {&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;    alert("Any eCraft2Learn command must be run before the " + function_name + " reporter.");&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;    return 0;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;}</l></block><list><block var="reporter name"/><block var="inputs"/></list></block></block></script></block-definition><block-definition s="Ask %&apos;cloud provider&apos; to say what it sees then %&apos;then receive response&apos; and show the picture %&apos;show photo?&apos;" type="command" category="sensing"><header></header><code></code><inputs><input type="%txt"><options>Google
Microsoft
IBM Watson</options></input><input type="%cmdRing"></input><input type="%s"></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>take_picture_and_analyse</l><list><block var="cloud provider"/><block var="show photo?"/><block var="then receive response"/></list></custom-block></script></block-definition><block-definition s="Current image property from %&apos;cloud provider&apos; get %&apos;property name or names&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="344" collapsed="false">Reports a property of the most recent recognition by the AI cloud provider.&#xD;Visit tinyurl.com/snap-ai-docs to learn more.</comment><header></header><code></code><inputs><input type="%txt"><options>Google
Microsoft
IBM Watson</options></input><input type="%mult%txt"></input></inputs><script><block s="doReport"><custom-block s="call eCraft2Learn reporter %txt with %mult%s"><l>image_property</l><list><block var="cloud provider"/><block var="property name or names"/></list></custom-block></block></script></block-definition><block-definition s="IBM Watson classes" type="reporter" category="sensing"><comment x="0" y="0" w="331" collapsed="false">Reports a list of tags from IBM Watson from the last time it was asked to recognize an image.</comment><header></header><code></code><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt get %mult%txt"><l>IBM Watson</l><list><l>class</l></list></custom-block></block></script></block-definition><block-definition s="Google labels" type="reporter" category="sensing"><comment x="0" y="0" w="324" collapsed="true">Reports the tags from the last image recognition by Google.</comment><header></header><code></code><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt get %mult%txt"><l>Google</l><list><l>labelAnnotations</l><l>description</l></list></custom-block></block></script></block-definition><block-definition s="Microsoft labels" type="reporter" category="sensing"><comment x="0" y="0" w="334" collapsed="true">Reports the tags of the last image recognition by Microsoft.</comment><header></header><code></code><inputs></inputs><script><block s="doReport"><custom-block s="Current image property from %txt get %mult%txt"><l>Microsoft</l><list><l>tags</l><l>name</l></list></custom-block></block></script></block-definition><block-definition s="Use camera to make costume" type="command" category="looks"><comment x="0" y="0" w="501" collapsed="true">Takes a picture, adds it as a costume of the current sprite, and switches to showing the new costume.</comment><header></header><code></code><inputs></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>add_photo_as_costume</l><list></list></custom-block></script></block-definition><block-definition s="Show current photo %&apos;cloud provider&apos;" type="command" category="looks"><comment x="0" y="0" w="364" collapsed="false">Adds the photo taken when the AI cloud provider was last asked to reocognize. &#xD;Photo is added as a costume of the current sprite.</comment><header></header><code></code><inputs><input type="%txt"><options>Google
Microsoft
IBM Watson</options></input></inputs><script><custom-block s="run eCraft2Learn command %txt with %mult%s"><l>add_current_photo_as_costume</l><list><block var="cloud provider"/></list></custom-block></script></block-definition><block-definition s="labels from %&apos;provider&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="522" collapsed="true">Reports the labels describing the most recent image recognised by the specified vision service provider.</comment><header></header><code></code><inputs><input type="%txt"><options>Google
Microsoft
Watson</options></input></inputs><script><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Google</l></block><script><block s="doReport"><custom-block s="Google labels"></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Microsoft</l></block><script><block s="doReport"><custom-block s="Microsoft labels"></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="provider"/><l>Watson</l></block><script><block s="doReport"><custom-block s="IBM Watson classes"></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="provider"/><l></l></block><script><block s="doReport"><l>No vision provider given.</l></block></script></block><block s="doReport"><block s="reportJoinWords"><list><l>Unable to recognise vision provider: </l><block var="provider"/></list></block></block></script></block-definition><block-definition s="Do %&apos;handle response&apos; with what %&apos;provider&apos; sees and show the photo %&apos;show&apos;" type="command" category="sensing"><comment x="0" y="0" w="396" collapsed="false">Takes a picture. When the AI vision provider responds runs the blocks on the labels in the response. Can optionally display the photo.</comment><header></header><code></code><inputs><input type="%cmdRing"></input><input type="%txt"><options>Google
Microsoft
Watson</options></input><input type="%b"></input></inputs><script><custom-block s="Ask %txt to say what it sees then %cmdRing and show the picture %s"><block var="provider"/><block s="reifyScript"><script><block s="doRun"><block var="handle response"/><list><custom-block s="labels from %txt"><block var="provider"/></custom-block></list></block></script><list><l>response</l></list></block><block var="show"/></custom-block></script></block-definition><block-definition s="labels of new photo from %&apos;provider&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="514" collapsed="true">Takes a picture, asks the AI vision cloud provider to classify it, and reports the response when it arrives.</comment><header></header><code></code><inputs><input type="%txt"><options>Google
Microsoft
Watson</options></input></inputs><script><block s="doDeclareVariables"><list><l>response</l></list></block><block s="doSetVar"><l>response</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><custom-block s="Do %cmdRing with what %txt sees and show the photo %b"><block s="reifyScript"><script><block s="doSetVar"><l>response</l><block var="r"/></block></script><list><l>r</l></list></block><block var="provider"/><block s="reportBoolean"><l><bool>false</bool></l></block></custom-block><block s="doWaitUntil"><block s="reportNot"><block s="reportEquals"><block var="response"/><block s="reportBoolean"><l><bool>false</bool></l></block></block></block></block><block s="doReport"><block var="response"/></block></script></block-definition></blocks><variables></variables></project>